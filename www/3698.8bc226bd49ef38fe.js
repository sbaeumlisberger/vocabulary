"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3698],{3698:(S,h,c)=>{c.r(h),c.d(h,{PracticeModule:()=>U});var r=c(5362),d=c(9808),f=c(4182),g=c(9705),s=c(655),t=c(9863),u=c(4090),m=c(1485);let Z=(()=>{class n{constructor(e){this.db=e}getVocabularyToPractice(){return(0,s.mG)(this,void 0,void 0,function*(){let e=(new Date).getTime()-864e5,o=yield this.db.vocabulary.orderBy("score").filter(a=>a.lastPracticed<e).limit(10).toArray();return class p{static randomizeOrder(i){for(let e=0;e<i.length;e++){let o=i[e],a=Math.floor(Math.random()*i.length);i[e]=i[a],i[a]=o}}}.randomizeOrder(o),o})}reportCorrect(e){return(0,s.mG)(this,void 0,void 0,function*(){if(void 0===e.id)throw"vocable does not exist in database";e.practicedCount++,e.correctCount++,e.lastPracticed=(new Date).getTime(),e.wasCorrect=!0,e.practiceLevel=this.calcPracticeLevel(e),e.score=this.calcScore(e),yield this.db.vocabulary.put(e)})}reportWrong(e){return(0,s.mG)(this,void 0,void 0,function*(){if(void 0===e.id)throw"vocable does not exist in database";e.practicedCount++,e.lastPracticed=(new Date).getTime(),e.wasCorrect=!1,e.practiceLevel=this.calcPracticeLevel(e),e.score=this.calcScore(e),yield this.db.vocabulary.put(e)})}calcScore(e){let o=0;return e.wasCorrect&&(o+=100),e.practicedCount>0&&(o+=e.correctCount/Math.max(e.practicedCount,5)*200),o}calcPracticeLevel(e){let o=e.correctCount/e.practicedCount;return e.practicedCount>=10&&o>.9?u.u.VeryGood:e.practicedCount>=5&&o>.75?u.u.Good:e.practicedCount>=2&&o>.5?u.u.OnTheRightTrack:e.correctCount>=1?u.u.AtLeastOnceKnown:u.u.NeverKnownOrPracticed}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(m.S))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _=c(8140);function T(n,i){1&n&&t._UZ(0,"div",19)}function v(n,i){1&n&&t._UZ(0,"div",20)}function x(n,i){1&n&&t._UZ(0,"div",21)}function P(n,i){if(1&n&&(t.TgZ(0,"ion-col"),t.YNc(1,T,1,0,"div",16),t.YNc(2,v,1,0,"div",17),t.YNc(3,x,1,0,"div",18),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",!0===e),t.xp6(1),t.Q6J("ngIf",!1===e),t.xp6(1),t.Q6J("ngIf",void 0===e)}}function A(n,i){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.flashcardFrontText)}}function C(n,i){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.flashcardBackText)}}function w(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-row"),t.TgZ(1,"ion-col",14),t.TgZ(2,"ion-icon",22),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).rotateCard()}),t.qZA(),t.qZA(),t.qZA()}}function b(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ion-row"),t.TgZ(1,"ion-col",14),t.TgZ(2,"ion-icon",23),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).markAsWrong()}),t.qZA(),t.qZA(),t.TgZ(3,"ion-col",14),t.TgZ(4,"ion-icon",24),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).markAsCorrect()}),t.qZA(),t.qZA(),t.qZA()}}const O=function(n){return{"height.px":n}};function q(n,i){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"ion-grid",7),t.TgZ(2,"ion-row"),t.YNc(3,P,4,3,"ion-col",8),t.qZA(),t.qZA(),t.TgZ(4,"div",9,10),t.NdJ("resize",function(){return 0},!1,t.Jf7),t.TgZ(6,"ion-card",11,10),t.TgZ(8,"ion-card-content",12),t.TgZ(9,"ion-grid",12),t.TgZ(10,"ion-row",13),t.TgZ(11,"ion-col",14),t.YNc(12,A,2,1,"ion-label",6),t.YNc(13,C,2,1,"ion-label",6),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"ion-grid",15),t.YNc(16,w,3,0,"ion-row",6),t.YNc(17,b,5,0,"ion-row",6),t.qZA(),t.qZA()),2&n){const e=t.MAs(5),o=t.oxw();t.xp6(3),t.Q6J("ngForOf",o.results),t.xp6(1),t.Q6J("ngStyle",t.VKq(6,O,e.offsetWidth)),t.xp6(8),t.Q6J("ngIf",!o.rotated),t.xp6(1),t.Q6J("ngIf",o.rotated),t.xp6(3),t.Q6J("ngIf",!o.rotated),t.xp6(1),t.Q6J("ngIf",o.rotated)}}function M(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"h1",25),t._uU(2,"Finished!"),t.qZA(),t.TgZ(3,"p",26),t._uU(4),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"ion-button",27),t.NdJ("click",function(){return t.CHM(e),t.oxw().goBack()}),t._UZ(7,"ion-icon",28),t.TgZ(8,"ion-label",29),t._uU(9,"Back"),t.qZA(),t.qZA(),t.TgZ(10,"ion-button",30),t.NdJ("click",function(){return t.CHM(e),t.oxw().continuePractice()}),t._UZ(11,"ion-icon",31),t.TgZ(12,"ion-label",29),t._uU(13,"Continue"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.hij("",t.xi3(5,1,e.correctPercentage,"1.0-0"),"% correct")}}var l=(()=>{return(n=l||(l={})).RANDOM="random",n.FOREIGN_TO_NATIVE="foreign-to-native",n.NATIVE_TO_FOREIGN="native-to-foreign",l;var n})();let y=(()=>{class n{constructor(e,o,a,G){this.route=e,this.practiceService=o,this.location=a,this.themeService=G,this.flashcardFrontText="",this.flashcardBackText="",this.rotated=!1,this.finished=!1,this.results=[],this.correctPercentage=0,this.vocables=[],this.index=-1}ngOnInit(){this.route.params.subscribe(e=>(0,s.mG)(this,void 0,void 0,function*(){this.mode=e.mode,yield this.load()}))}ionViewWillEnter(){}rotateCard(){this.rotated=!0}markAsCorrect(){return(0,s.mG)(this,void 0,void 0,function*(){yield this.practiceService.reportCorrect(this.currentVocable),this.results[this.index]=!0,this.showNext()})}markAsWrong(){return(0,s.mG)(this,void 0,void 0,function*(){yield this.practiceService.reportWrong(this.currentVocable),this.results[this.index]=!1,this.showNext()})}goBack(){this.location.back()}continuePractice(){return(0,s.mG)(this,void 0,void 0,function*(){this.index=-1,this.finished=!1,yield this.load()})}load(){return(0,s.mG)(this,void 0,void 0,function*(){this.vocables=yield this.practiceService.getVocabularyToPractice(),0!=this.vocables.length?(this.results=new Array(this.vocables.length),this.showNext()):this.finished=!0})}showNext(){this.index==this.vocables.length-1?(this.finished=!0,this.correctPercentage=this.results.filter(e=>!0===e).length/this.results.length*100):(this.index++,this.currentVocable=this.vocables[this.index],this.updateFlashcard(),this.rotated=!1)}updateFlashcard(){let e=this.mode;switch(e==l.RANDOM&&(e=Math.random()>=.5?l.FOREIGN_TO_NATIVE:l.NATIVE_TO_FOREIGN),e){case l.FOREIGN_TO_NATIVE:this.flashcardFrontText=this.currentVocable.foreignMeaning,this.flashcardBackText=this.currentVocable.nativeMeanings.join(", ");break;case l.NATIVE_TO_FOREIGN:this.flashcardFrontText=this.currentVocable.nativeMeanings.join(", "),this.flashcardBackText=this.currentVocable.foreignMeaning}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.gz),t.Y36(Z),t.Y36(d.Ye),t.Y36(_.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-practice"]],decls:16,vars:4,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"content"],[4,"ngIf"],[1,"ion-padding",2,"max-width","440px"],[4,"ngFor","ngForOf"],["id","flashcard",3,"ngStyle","resize"],["flashcard",""],[2,"height","100%","margin-inline","0px"],[2,"height","100%"],[1,"ion-align-items-center",2,"height","100%"],[1,"ion-text-center"],[1,"ion-padding",2,"max-width","600px"],["class","progressDot","style","background: #2dd36f;",4,"ngIf"],["class","progressDot","style","background: #eb445a;",4,"ngIf"],["class","progressDot","style","background: #92949c;",4,"ngIf"],[1,"progressDot",2,"background","#2dd36f"],[1,"progressDot",2,"background","#eb445a"],[1,"progressDot",2,"background","#92949c"],["size","large","name","sync-outline",3,"click"],["size","large","name","thumbs-down-outline",3,"click"],["size","large","name","thumbs-up-outline",3,"click"],[2,"text-align","center","margin-top","128px"],[2,"width","100%","text-align","center","margin-top","128px"],[1,"stretchedButton",2,"margin-top","128px",3,"click"],["slot","start","name","arrow-back-outline"],["slot","end"],[1,"stretchedButton",2,"margin-top","16px",3,"click"],["slot","start","name","reload"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-header",0),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-title"),t._uU(3," Practice "),t.qZA(),t.TgZ(4,"ion-buttons",1),t._UZ(5,"ion-back-button"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"ion-content",2),t.TgZ(7,"ion-header",3),t.TgZ(8,"ion-toolbar"),t.TgZ(9,"ion-title",4),t._uU(10,"Practice"),t.qZA(),t.qZA(),t.TgZ(11,"ion-buttons",1),t._UZ(12,"ion-back-button"),t.qZA(),t.qZA(),t.TgZ(13,"div",5),t.YNc(14,q,18,8,"div",6),t.YNc(15,M,14,4,"div",6),t.qZA(),t.qZA()),2&e&&(t.Q6J("translucent",!0),t.xp6(6),t.Q6J("fullscreen",!0),t.xp6(8),t.Q6J("ngIf",!o.finished),t.xp6(1),t.Q6J("ngIf",o.finished))},directives:[r.Gu,r.sr,r.wd,r.Sm,r.oU,r.cs,r.W2,d.O5,r.jY,r.Nd,d.sg,r.wI,d.PC,r.PM,r.FN,r.Q$,r.gu,r.YG],pipes:[d.JJ],styles:[".ios   body.light[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], .ios   body.light   [_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], .ios   body.light[_nghost-%COMP%]   ion-toolbar[_ngcontent-%COMP%], .ios   body.light   [_nghost-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #f4f5f8}.progressDot[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%;margin:auto}#flashcard[_ngcontent-%COMP%]{margin:32px auto auto;width:calc(100% - 128px);max-width:400px}.stretchedButton[_ngcontent-%COMP%]{display:block;width:80%;max-width:256px;margin-left:auto;margin-right:auto}"]}),n})();const k=function(){return["flashcards","random"]},N=function(){return["flashcards","foreign-to-native"]},I=function(){return["flashcards","native-to-foreign"]},F=[{path:"",component:(()=>{class n{constructor(e){this.themeService=e}ionViewWillEnter(){return(0,s.mG)(this,void 0,void 0,function*(){this.themeService.overwriteStatusBarColor("#f4f5f8")})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["pratice-overview"]],decls:28,vars:8,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"content"],["routerDirection","forward",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-header",0),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-title"),t._uU(3," Practice "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(4,"ion-content",1),t.TgZ(5,"ion-header",2),t.TgZ(6,"ion-toolbar"),t.TgZ(7,"ion-title",3),t._uU(8,"Practice"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",4),t.TgZ(10,"ion-card",5),t.TgZ(11,"ion-card-header"),t.TgZ(12,"ion-card-title"),t._uU(13,"Random"),t.qZA(),t.qZA(),t.TgZ(14,"ion-card-content"),t._uU(15," It is randomly chosen whether a word must be translated from the foreign language to the native language or vice versa. "),t.qZA(),t.qZA(),t.TgZ(16,"ion-card",5),t.TgZ(17,"ion-card-header"),t.TgZ(18,"ion-card-title"),t._uU(19,"Foreign to Native"),t.qZA(),t.qZA(),t.TgZ(20,"ion-card-content"),t._uU(21," All words must be translated from the foreign language into the native language. "),t.qZA(),t.qZA(),t.TgZ(22,"ion-card",5),t.TgZ(23,"ion-card-header"),t.TgZ(24,"ion-card-title"),t._uU(25,"Native to Foreign"),t.qZA(),t.qZA(),t.TgZ(26,"ion-card-content"),t._uU(27," All words must be translated from the native language into the foreign language. "),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("translucent",!0),t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(6),t.Q6J("routerLink",t.DdM(5,k)),t.xp6(6),t.Q6J("routerLink",t.DdM(6,N)),t.xp6(6),t.Q6J("routerLink",t.DdM(7,I)))},directives:[r.Gu,r.sr,r.wd,r.W2,r.PM,r.YI,g.rH,r.Zi,r.Dq,r.FN],styles:[".ios   body.light[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], .ios   body.light   [_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], .ios   body.light[_nghost-%COMP%]   ion-toolbar[_ngcontent-%COMP%], .ios   body.light   [_nghost-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #f4f5f8}.md[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin-top:16px}.md[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]:first-child{margin-top:32px}"]}),n})()},{path:"flashcards/:mode",component:y}];let J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.Bz.forChild(F)],g.Bz]}),n})(),U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.Pc,d.ez,f.u5,J]]}),n})()}}]);