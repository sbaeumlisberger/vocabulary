"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8919],{8919:(P,c,l)=>{l.r(c),l.d(c,{SettingsModule:()=>S});var r=l(5362),g=l(9808),m=l(4182),u=l(9705),d=l(655),h=l(4937),e=l(9863),p=l(1756),f=l(8140),_=l(5709),C=l(7790);function T(n,a){if(1&n&&(e.TgZ(0,"ion-select-option",18),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function b(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleReminderTimePicker()}),e.TgZ(1,"ion-label"),e._uU(2,"Time"),e.qZA(),e.TgZ(3,"ion-text",20),e._uU(4),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(3),e.s9C("color",t.showReminderTimePicker?"primary":"dark"),e.xp6(1),e.hij("",t.reminderTime," ")}}function Z(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ion-datetime",21),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().reminderTime=o})("ngModelChange",function(){return e.CHM(t),e.oxw().onReminderTimeChanged()}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.reminderTime)}}function v(n,a){1&n&&e._UZ(0,"ion-spinner")}const M=[{path:"",component:(()=>{class n{constructor(t,i,o,s,O){this.vocabularyService=t,this.themeService=i,this.alertController=o,this.reminderService=s,this.updateService=O,this.reminderEnabled=!1,this.showReminderTimePicker=!1,this.checkingForUpdate=!1}get themes(){return Object.values(h.Q)}get selectedTheme(){return this.themeService.getTheme()}set selectedTheme(t){this.themeService.changeTheme(t)}ngOnInit(){this.reminderEnabled=this.reminderService.isReminderEnabled();let t=this.reminderService.getReminderTime();this.reminderTime=t.hours.toString().padStart(2,"0")+":"+t.minutes.toString().padStart(2,"0")}ionViewWillEnter(){this.themeService.overwriteStatusBarColor("#f4f5f8")}import(t){return(0,d.mG)(this,void 0,void 0,function*(){let i=t.target.files;if(1==i.length)try{let o=JSON.parse(yield i.item(0).text());this.vocabularyService.deleteAll(),this.vocabularyService.import(o),(yield this.alertController.create({header:"Import completed",message:"Vocabulary was successfully imported.",buttons:["OK"]})).present()}catch(o){(yield this.alertController.create({header:"Import failed",message:"Could not import vocabulary. "+o,buttons:["OK"]})).present()}})}export(){return(0,d.mG)(this,void 0,void 0,function*(){let t=yield this.vocabularyService.getAll(),i=new Blob([JSON.stringify(t)],{type:"application/json"}),o=document.createElement("a"),s=URL.createObjectURL(i);o.href=s,o.download="vocabulary.json",o.click()})}onReminderEnabledChanged(){return(0,d.mG)(this,void 0,void 0,function*(){if(this.reminderEnabled)if(window.Notification){yield Notification.requestPermission();let t=this.reminderTime.split(":"),i=Number.parseInt(t[0]),o=Number.parseInt(t[1]);this.reminderService.enableReminder({hours:i,minutes:o})}else(yield this.alertController.create({header:"Not supported",message:"Unfortunately, this function is not supported by your device.",buttons:["OK"]})).present(),this.reminderEnabled=!1;else this.reminderService.disableReminder()})}onReminderTimeChanged(){let t=this.reminderTime.split(":"),i=Number.parseInt(t[0]),o=Number.parseInt(t[1]);this.reminderService.scheduleReminder({hours:i,minutes:o})}toggleReminderTimePicker(){this.showReminderTimePicker=!this.showReminderTimePicker}checkForUpdate(){return(0,d.mG)(this,void 0,void 0,function*(){this.checkingForUpdate=!0;let t=yield this.updateService.checkForUpdate();this.checkingForUpdate=!1,t||(yield this.alertController.create({header:"No update found",buttons:["OK"]})).present()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.c),e.Y36(f.f),e.Y36(r.Br),e.Y36(_.Z),e.Y36(C.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-settings"]],decls:39,vars:8,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"content"],["inset","true","lines","none"],["button","true"],["type","file","id","import",3,"change"],["button","true",3,"click"],[1,"themeLabel"],["interface","popover",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange"],["button","true","detail","false",3,"click",4,"ngIf"],["style","--background: medium","size","cover","presentation","time","hourCycle","23","color","primary",3,"ngModel","ngModelChange",4,"ngIf"],["lines","none",3,"click"],[4,"ngIf"],["lines","none"],[3,"value"],["button","true","detail","false",3,"click"],[2,"padding-right","4px",3,"color"],["size","cover","presentation","time","hourCycle","23","color","primary",2,"--background","medium",3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"ion-title"),e._uU(3," Settings "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",1),e.TgZ(5,"ion-header",2),e.TgZ(6,"ion-toolbar"),e.TgZ(7,"ion-title",3),e._uU(8,"Settings"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",4),e.TgZ(10,"ion-list",5),e.TgZ(11,"ion-item",6),e.TgZ(12,"ion-label"),e._uU(13,"Import"),e.qZA(),e.TgZ(14,"input",7),e.NdJ("change",function(s){return i.import(s)}),e.qZA(),e.qZA(),e.TgZ(15,"ion-item",8),e.NdJ("click",function(){return i.export()}),e.TgZ(16,"ion-label"),e._uU(17,"Export"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"ion-list",5),e.TgZ(19,"ion-item"),e.TgZ(20,"ion-label",9),e._uU(21,"Theme"),e.qZA(),e.TgZ(22,"ion-select",10),e.NdJ("ngModelChange",function(s){return i.selectedTheme=s}),e.YNc(23,T,2,2,"ion-select-option",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"ion-list",5),e.TgZ(25,"ion-item"),e.TgZ(26,"ion-label"),e._uU(27,"Daily reminder"),e.qZA(),e.TgZ(28,"ion-toggle",12),e.NdJ("ngModelChange",function(s){return i.reminderEnabled=s})("ngModelChange",function(){return i.onReminderEnabledChanged()}),e.qZA(),e.qZA(),e.YNc(29,b,5,2,"ion-item",13),e.YNc(30,Z,1,1,"ion-datetime",14),e.qZA(),e.TgZ(31,"ion-list",5),e.TgZ(32,"ion-item",15),e.NdJ("click",function(){return i.checkForUpdate()}),e.TgZ(33,"ion-label"),e._uU(34,"Vocabulary - Version 0.1.19"),e.qZA(),e.YNc(35,v,1,0,"ion-spinner",16),e.qZA(),e.TgZ(36,"ion-item",17),e.TgZ(37,"ion-label"),e._uU(38,"\xa9 Sebastian B\xe4umlisberger"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(18),e.Q6J("ngModel",i.selectedTheme),e.xp6(1),e.Q6J("ngForOf",i.themes),e.xp6(5),e.Q6J("ngModel",i.reminderEnabled),e.xp6(1),e.Q6J("ngIf",i.reminderEnabled),e.xp6(1),e.Q6J("ngIf",i.reminderEnabled&&i.showReminderTimePicker),e.xp6(5),e.Q6J("ngIf",i.checkingForUpdate))},directives:[r.Gu,r.sr,r.wd,r.W2,r.q_,r.Ie,r.Q$,r.t9,r.QI,m.JJ,m.On,g.sg,r.n0,r.ho,r.w,g.O5,r.yW,r.x4,r.PQ],styles:[".ios   body.dark[_nghost-%COMP%], .ios   body.dark   [_nghost-%COMP%]{--ion-item-background: #1c1c1d}.ios   body.light[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], .ios   body.light   [_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], .ios   body.light[_nghost-%COMP%]   ion-toolbar[_ngcontent-%COMP%], .ios   body.light   [_nghost-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #f4f5f8}.md   body.light[_nghost-%COMP%]   ion-list[_ngcontent-%COMP%], .md   body.light   [_nghost-%COMP%]   ion-list[_ngcontent-%COMP%]{background:#f8f8f8}.md   body.light[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%], .md   body.light   [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: #f8f8f8}.md[_nghost-%COMP%]   .themeLabel[_ngcontent-%COMP%], .md   [_nghost-%COMP%]   .themeLabel[_ngcontent-%COMP%]{margin-left:16px}.md[_nghost-%COMP%]   ion-toggle[_ngcontent-%COMP%], .md   [_nghost-%COMP%]   ion-toggle[_ngcontent-%COMP%]{padding-right:6px}#import[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;opacity:0}"]}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(M)],u.Bz]}),n})(),S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.Pc,g.ez,m.u5,y]]}),n})()}}]);