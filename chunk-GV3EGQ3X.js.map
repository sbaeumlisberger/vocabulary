{"version":3,"sources":["node_modules/dexie/dist/dexie.js","node_modules/dexie/import-wrapper.mjs","src/app/persistence/vocabulary-db.ts"],"sourcesContent":["/*\n * Dexie.js - a minimalistic wrapper for IndexedDB\n * ===============================================\n *\n * By David Fahlander, david.fahlander@gmail.com\n *\n * Version 4.0.11, Wed Jan 15 2025\n *\n * https://dexie.org\n *\n * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Dexie = factory());\n})(this, function () {\n  'use strict';\n\n  /*! *****************************************************************************\n  Copyright (c) Microsoft Corporation.\n  Permission to use, copy, modify, and/or distribute this software for any\n  purpose with or without fee is hereby granted.\n  THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n  PERFORMANCE OF THIS SOFTWARE.\n  ***************************************************************************** */\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  function __extends(d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  }\n  var __assign = function () {\n    __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n    };\n    return __assign.apply(this, arguments);\n  };\n  function __spreadArray(to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n        if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n        ar[i] = from[i];\n      }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n  }\n  var _global = typeof globalThis !== 'undefined' ? globalThis : typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : global;\n  var keys = Object.keys;\n  var isArray = Array.isArray;\n  if (typeof Promise !== 'undefined' && !_global.Promise) {\n    _global.Promise = Promise;\n  }\n  function extend(obj, extension) {\n    if (typeof extension !== 'object') return obj;\n    keys(extension).forEach(function (key) {\n      obj[key] = extension[key];\n    });\n    return obj;\n  }\n  var getProto = Object.getPrototypeOf;\n  var _hasOwn = {}.hasOwnProperty;\n  function hasOwn(obj, prop) {\n    return _hasOwn.call(obj, prop);\n  }\n  function props(proto, extension) {\n    if (typeof extension === 'function') extension = extension(getProto(proto));\n    (typeof Reflect === \"undefined\" ? keys : Reflect.ownKeys)(extension).forEach(function (key) {\n      setProp(proto, key, extension[key]);\n    });\n  }\n  var defineProperty = Object.defineProperty;\n  function setProp(obj, prop, functionOrGetSet, options) {\n    defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, \"get\") && typeof functionOrGetSet.get === 'function' ? {\n      get: functionOrGetSet.get,\n      set: functionOrGetSet.set,\n      configurable: true\n    } : {\n      value: functionOrGetSet,\n      configurable: true,\n      writable: true\n    }, options));\n  }\n  function derive(Child) {\n    return {\n      from: function (Parent) {\n        Child.prototype = Object.create(Parent.prototype);\n        setProp(Child.prototype, \"constructor\", Child);\n        return {\n          extend: props.bind(null, Child.prototype)\n        };\n      }\n    };\n  }\n  var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n  function getPropertyDescriptor(obj, prop) {\n    var pd = getOwnPropertyDescriptor(obj, prop);\n    var proto;\n    return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);\n  }\n  var _slice = [].slice;\n  function slice(args, start, end) {\n    return _slice.call(args, start, end);\n  }\n  function override(origFunc, overridedFactory) {\n    return overridedFactory(origFunc);\n  }\n  function assert(b) {\n    if (!b) throw new Error(\"Assertion Failed\");\n  }\n  function asap$1(fn) {\n    if (_global.setImmediate) setImmediate(fn);else setTimeout(fn, 0);\n  }\n  function arrayToObject(array, extractor) {\n    return array.reduce(function (result, item, i) {\n      var nameAndValue = extractor(item, i);\n      if (nameAndValue) result[nameAndValue[0]] = nameAndValue[1];\n      return result;\n    }, {});\n  }\n  function getByKeyPath(obj, keyPath) {\n    if (typeof keyPath === 'string' && hasOwn(obj, keyPath)) return obj[keyPath];\n    if (!keyPath) return obj;\n    if (typeof keyPath !== 'string') {\n      var rv = [];\n      for (var i = 0, l = keyPath.length; i < l; ++i) {\n        var val = getByKeyPath(obj, keyPath[i]);\n        rv.push(val);\n      }\n      return rv;\n    }\n    var period = keyPath.indexOf('.');\n    if (period !== -1) {\n      var innerObj = obj[keyPath.substr(0, period)];\n      return innerObj == null ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));\n    }\n    return undefined;\n  }\n  function setByKeyPath(obj, keyPath, value) {\n    if (!obj || keyPath === undefined) return;\n    if ('isFrozen' in Object && Object.isFrozen(obj)) return;\n    if (typeof keyPath !== 'string' && 'length' in keyPath) {\n      assert(typeof value !== 'string' && 'length' in value);\n      for (var i = 0, l = keyPath.length; i < l; ++i) {\n        setByKeyPath(obj, keyPath[i], value[i]);\n      }\n    } else {\n      var period = keyPath.indexOf('.');\n      if (period !== -1) {\n        var currentKeyPath = keyPath.substr(0, period);\n        var remainingKeyPath = keyPath.substr(period + 1);\n        if (remainingKeyPath === \"\") {\n          if (value === undefined) {\n            if (isArray(obj) && !isNaN(parseInt(currentKeyPath))) obj.splice(currentKeyPath, 1);else delete obj[currentKeyPath];\n          } else obj[currentKeyPath] = value;\n        } else {\n          var innerObj = obj[currentKeyPath];\n          if (!innerObj || !hasOwn(obj, currentKeyPath)) innerObj = obj[currentKeyPath] = {};\n          setByKeyPath(innerObj, remainingKeyPath, value);\n        }\n      } else {\n        if (value === undefined) {\n          if (isArray(obj) && !isNaN(parseInt(keyPath))) obj.splice(keyPath, 1);else delete obj[keyPath];\n        } else obj[keyPath] = value;\n      }\n    }\n  }\n  function delByKeyPath(obj, keyPath) {\n    if (typeof keyPath === 'string') setByKeyPath(obj, keyPath, undefined);else if ('length' in keyPath) [].map.call(keyPath, function (kp) {\n      setByKeyPath(obj, kp, undefined);\n    });\n  }\n  function shallowClone(obj) {\n    var rv = {};\n    for (var m in obj) {\n      if (hasOwn(obj, m)) rv[m] = obj[m];\n    }\n    return rv;\n  }\n  var concat = [].concat;\n  function flatten(a) {\n    return concat.apply([], a);\n  }\n  var intrinsicTypeNames = \"BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey\".split(',').concat(flatten([8, 16, 32, 64].map(function (num) {\n    return [\"Int\", \"Uint\", \"Float\"].map(function (t) {\n      return t + num + \"Array\";\n    });\n  }))).filter(function (t) {\n    return _global[t];\n  });\n  var intrinsicTypes = new Set(intrinsicTypeNames.map(function (t) {\n    return _global[t];\n  }));\n  function cloneSimpleObjectTree(o) {\n    var rv = {};\n    for (var k in o) if (hasOwn(o, k)) {\n      var v = o[k];\n      rv[k] = !v || typeof v !== 'object' || intrinsicTypes.has(v.constructor) ? v : cloneSimpleObjectTree(v);\n    }\n    return rv;\n  }\n  function objectIsEmpty(o) {\n    for (var k in o) if (hasOwn(o, k)) return false;\n    return true;\n  }\n  var circularRefs = null;\n  function deepClone(any) {\n    circularRefs = new WeakMap();\n    var rv = innerDeepClone(any);\n    circularRefs = null;\n    return rv;\n  }\n  function innerDeepClone(x) {\n    if (!x || typeof x !== 'object') return x;\n    var rv = circularRefs.get(x);\n    if (rv) return rv;\n    if (isArray(x)) {\n      rv = [];\n      circularRefs.set(x, rv);\n      for (var i = 0, l = x.length; i < l; ++i) {\n        rv.push(innerDeepClone(x[i]));\n      }\n    } else if (intrinsicTypes.has(x.constructor)) {\n      rv = x;\n    } else {\n      var proto = getProto(x);\n      rv = proto === Object.prototype ? {} : Object.create(proto);\n      circularRefs.set(x, rv);\n      for (var prop in x) {\n        if (hasOwn(x, prop)) {\n          rv[prop] = innerDeepClone(x[prop]);\n        }\n      }\n    }\n    return rv;\n  }\n  var toString = {}.toString;\n  function toStringTag(o) {\n    return toString.call(o).slice(8, -1);\n  }\n  var iteratorSymbol = typeof Symbol !== 'undefined' ? Symbol.iterator : '@@iterator';\n  var getIteratorOf = typeof iteratorSymbol === \"symbol\" ? function (x) {\n    var i;\n    return x != null && (i = x[iteratorSymbol]) && i.apply(x);\n  } : function () {\n    return null;\n  };\n  function delArrayItem(a, x) {\n    var i = a.indexOf(x);\n    if (i >= 0) a.splice(i, 1);\n    return i >= 0;\n  }\n  var NO_CHAR_ARRAY = {};\n  function getArrayOf(arrayLike) {\n    var i, a, x, it;\n    if (arguments.length === 1) {\n      if (isArray(arrayLike)) return arrayLike.slice();\n      if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string') return [arrayLike];\n      if (it = getIteratorOf(arrayLike)) {\n        a = [];\n        while (x = it.next(), !x.done) a.push(x.value);\n        return a;\n      }\n      if (arrayLike == null) return [arrayLike];\n      i = arrayLike.length;\n      if (typeof i === 'number') {\n        a = new Array(i);\n        while (i--) a[i] = arrayLike[i];\n        return a;\n      }\n      return [arrayLike];\n    }\n    i = arguments.length;\n    a = new Array(i);\n    while (i--) a[i] = arguments[i];\n    return a;\n  }\n  var isAsyncFunction = typeof Symbol !== 'undefined' ? function (fn) {\n    return fn[Symbol.toStringTag] === 'AsyncFunction';\n  } : function () {\n    return false;\n  };\n  var dexieErrorNames = ['Modify', 'Bulk', 'OpenFailed', 'VersionChange', 'Schema', 'Upgrade', 'InvalidTable', 'MissingAPI', 'NoSuchDatabase', 'InvalidArgument', 'SubTransaction', 'Unsupported', 'Internal', 'DatabaseClosed', 'PrematureCommit', 'ForeignAwait'];\n  var idbDomErrorNames = ['Unknown', 'Constraint', 'Data', 'TransactionInactive', 'ReadOnly', 'Version', 'NotFound', 'InvalidState', 'InvalidAccess', 'Abort', 'Timeout', 'QuotaExceeded', 'Syntax', 'DataClone'];\n  var errorList = dexieErrorNames.concat(idbDomErrorNames);\n  var defaultTexts = {\n    VersionChanged: \"Database version changed by other database connection\",\n    DatabaseClosed: \"Database has been closed\",\n    Abort: \"Transaction aborted\",\n    TransactionInactive: \"Transaction has already completed or failed\",\n    MissingAPI: \"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\"\n  };\n  function DexieError(name, msg) {\n    this.name = name;\n    this.message = msg;\n  }\n  derive(DexieError).from(Error).extend({\n    toString: function () {\n      return this.name + \": \" + this.message;\n    }\n  });\n  function getMultiErrorMessage(msg, failures) {\n    return msg + \". Errors: \" + Object.keys(failures).map(function (key) {\n      return failures[key].toString();\n    }).filter(function (v, i, s) {\n      return s.indexOf(v) === i;\n    }).join('\\n');\n  }\n  function ModifyError(msg, failures, successCount, failedKeys) {\n    this.failures = failures;\n    this.failedKeys = failedKeys;\n    this.successCount = successCount;\n    this.message = getMultiErrorMessage(msg, failures);\n  }\n  derive(ModifyError).from(DexieError);\n  function BulkError(msg, failures) {\n    this.name = \"BulkError\";\n    this.failures = Object.keys(failures).map(function (pos) {\n      return failures[pos];\n    });\n    this.failuresByPos = failures;\n    this.message = getMultiErrorMessage(msg, this.failures);\n  }\n  derive(BulkError).from(DexieError);\n  var errnames = errorList.reduce(function (obj, name) {\n    return obj[name] = name + \"Error\", obj;\n  }, {});\n  var BaseException = DexieError;\n  var exceptions = errorList.reduce(function (obj, name) {\n    var fullName = name + \"Error\";\n    function DexieError(msgOrInner, inner) {\n      this.name = fullName;\n      if (!msgOrInner) {\n        this.message = defaultTexts[name] || fullName;\n        this.inner = null;\n      } else if (typeof msgOrInner === 'string') {\n        this.message = \"\".concat(msgOrInner).concat(!inner ? '' : '\\n ' + inner);\n        this.inner = inner || null;\n      } else if (typeof msgOrInner === 'object') {\n        this.message = \"\".concat(msgOrInner.name, \" \").concat(msgOrInner.message);\n        this.inner = msgOrInner;\n      }\n    }\n    derive(DexieError).from(BaseException);\n    obj[name] = DexieError;\n    return obj;\n  }, {});\n  exceptions.Syntax = SyntaxError;\n  exceptions.Type = TypeError;\n  exceptions.Range = RangeError;\n  var exceptionMap = idbDomErrorNames.reduce(function (obj, name) {\n    obj[name + \"Error\"] = exceptions[name];\n    return obj;\n  }, {});\n  function mapError(domError, message) {\n    if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name]) return domError;\n    var rv = new exceptionMap[domError.name](message || domError.message, domError);\n    if (\"stack\" in domError) {\n      setProp(rv, \"stack\", {\n        get: function () {\n          return this.inner.stack;\n        }\n      });\n    }\n    return rv;\n  }\n  var fullNameExceptions = errorList.reduce(function (obj, name) {\n    if ([\"Syntax\", \"Type\", \"Range\"].indexOf(name) === -1) obj[name + \"Error\"] = exceptions[name];\n    return obj;\n  }, {});\n  fullNameExceptions.ModifyError = ModifyError;\n  fullNameExceptions.DexieError = DexieError;\n  fullNameExceptions.BulkError = BulkError;\n  function nop() {}\n  function mirror(val) {\n    return val;\n  }\n  function pureFunctionChain(f1, f2) {\n    if (f1 == null || f1 === mirror) return f2;\n    return function (val) {\n      return f2(f1(val));\n    };\n  }\n  function callBoth(on1, on2) {\n    return function () {\n      on1.apply(this, arguments);\n      on2.apply(this, arguments);\n    };\n  }\n  function hookCreatingChain(f1, f2) {\n    if (f1 === nop) return f2;\n    return function () {\n      var res = f1.apply(this, arguments);\n      if (res !== undefined) arguments[0] = res;\n      var onsuccess = this.onsuccess,\n        onerror = this.onerror;\n      this.onsuccess = null;\n      this.onerror = null;\n      var res2 = f2.apply(this, arguments);\n      if (onsuccess) this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n      if (onerror) this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n      return res2 !== undefined ? res2 : res;\n    };\n  }\n  function hookDeletingChain(f1, f2) {\n    if (f1 === nop) return f2;\n    return function () {\n      f1.apply(this, arguments);\n      var onsuccess = this.onsuccess,\n        onerror = this.onerror;\n      this.onsuccess = this.onerror = null;\n      f2.apply(this, arguments);\n      if (onsuccess) this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n      if (onerror) this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n    };\n  }\n  function hookUpdatingChain(f1, f2) {\n    if (f1 === nop) return f2;\n    return function (modifications) {\n      var res = f1.apply(this, arguments);\n      extend(modifications, res);\n      var onsuccess = this.onsuccess,\n        onerror = this.onerror;\n      this.onsuccess = null;\n      this.onerror = null;\n      var res2 = f2.apply(this, arguments);\n      if (onsuccess) this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n      if (onerror) this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n      return res === undefined ? res2 === undefined ? undefined : res2 : extend(res, res2);\n    };\n  }\n  function reverseStoppableEventChain(f1, f2) {\n    if (f1 === nop) return f2;\n    return function () {\n      if (f2.apply(this, arguments) === false) return false;\n      return f1.apply(this, arguments);\n    };\n  }\n  function promisableChain(f1, f2) {\n    if (f1 === nop) return f2;\n    return function () {\n      var res = f1.apply(this, arguments);\n      if (res && typeof res.then === 'function') {\n        var thiz = this,\n          i = arguments.length,\n          args = new Array(i);\n        while (i--) args[i] = arguments[i];\n        return res.then(function () {\n          return f2.apply(thiz, args);\n        });\n      }\n      return f2.apply(this, arguments);\n    };\n  }\n  var debug = typeof location !== 'undefined' && /^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);\n  function setDebug(value, filter) {\n    debug = value;\n  }\n  var INTERNAL = {};\n  var ZONE_ECHO_LIMIT = 100,\n    _a$1 = typeof Promise === 'undefined' ? [] : function () {\n      var globalP = Promise.resolve();\n      if (typeof crypto === 'undefined' || !crypto.subtle) return [globalP, getProto(globalP), globalP];\n      var nativeP = crypto.subtle.digest(\"SHA-512\", new Uint8Array([0]));\n      return [nativeP, getProto(nativeP), globalP];\n    }(),\n    resolvedNativePromise = _a$1[0],\n    nativePromiseProto = _a$1[1],\n    resolvedGlobalPromise = _a$1[2],\n    nativePromiseThen = nativePromiseProto && nativePromiseProto.then;\n  var NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;\n  var patchGlobalPromise = !!resolvedGlobalPromise;\n  function schedulePhysicalTick() {\n    queueMicrotask(physicalTick);\n  }\n  var asap = function (callback, args) {\n    microtickQueue.push([callback, args]);\n    if (needsNewPhysicalTick) {\n      schedulePhysicalTick();\n      needsNewPhysicalTick = false;\n    }\n  };\n  var isOutsideMicroTick = true,\n    needsNewPhysicalTick = true,\n    unhandledErrors = [],\n    rejectingErrors = [],\n    rejectionMapper = mirror;\n  var globalPSD = {\n    id: 'global',\n    global: true,\n    ref: 0,\n    unhandleds: [],\n    onunhandled: nop,\n    pgp: false,\n    env: {},\n    finalize: nop\n  };\n  var PSD = globalPSD;\n  var microtickQueue = [];\n  var numScheduledCalls = 0;\n  var tickFinalizers = [];\n  function DexiePromise(fn) {\n    if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n    this._listeners = [];\n    this._lib = false;\n    var psd = this._PSD = PSD;\n    if (typeof fn !== 'function') {\n      if (fn !== INTERNAL) throw new TypeError('Not a function');\n      this._state = arguments[1];\n      this._value = arguments[2];\n      if (this._state === false) handleRejection(this, this._value);\n      return;\n    }\n    this._state = null;\n    this._value = null;\n    ++psd.ref;\n    executePromiseTask(this, fn);\n  }\n  var thenProp = {\n    get: function () {\n      var psd = PSD,\n        microTaskId = totalEchoes;\n      function then(onFulfilled, onRejected) {\n        var _this = this;\n        var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);\n        var cleanup = possibleAwait && !decrementExpectedAwaits();\n        var rv = new DexiePromise(function (resolve, reject) {\n          propagateToListener(_this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait, cleanup), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait, cleanup), resolve, reject, psd));\n        });\n        if (this._consoleTask) rv._consoleTask = this._consoleTask;\n        return rv;\n      }\n      then.prototype = INTERNAL;\n      return then;\n    },\n    set: function (value) {\n      setProp(this, 'then', value && value.prototype === INTERNAL ? thenProp : {\n        get: function () {\n          return value;\n        },\n        set: thenProp.set\n      });\n    }\n  };\n  props(DexiePromise.prototype, {\n    then: thenProp,\n    _then: function (onFulfilled, onRejected) {\n      propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));\n    },\n    catch: function (onRejected) {\n      if (arguments.length === 1) return this.then(null, onRejected);\n      var type = arguments[0],\n        handler = arguments[1];\n      return typeof type === 'function' ? this.then(null, function (err) {\n        return err instanceof type ? handler(err) : PromiseReject(err);\n      }) : this.then(null, function (err) {\n        return err && err.name === type ? handler(err) : PromiseReject(err);\n      });\n    },\n    finally: function (onFinally) {\n      return this.then(function (value) {\n        return DexiePromise.resolve(onFinally()).then(function () {\n          return value;\n        });\n      }, function (err) {\n        return DexiePromise.resolve(onFinally()).then(function () {\n          return PromiseReject(err);\n        });\n      });\n    },\n    timeout: function (ms, msg) {\n      var _this = this;\n      return ms < Infinity ? new DexiePromise(function (resolve, reject) {\n        var handle = setTimeout(function () {\n          return reject(new exceptions.Timeout(msg));\n        }, ms);\n        _this.then(resolve, reject).finally(clearTimeout.bind(null, handle));\n      }) : this;\n    }\n  });\n  if (typeof Symbol !== 'undefined' && Symbol.toStringTag) setProp(DexiePromise.prototype, Symbol.toStringTag, 'Dexie.Promise');\n  globalPSD.env = snapShot();\n  function Listener(onFulfilled, onRejected, resolve, reject, zone) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.resolve = resolve;\n    this.reject = reject;\n    this.psd = zone;\n  }\n  props(DexiePromise, {\n    all: function () {\n      var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n      return new DexiePromise(function (resolve, reject) {\n        if (values.length === 0) resolve([]);\n        var remaining = values.length;\n        values.forEach(function (a, i) {\n          return DexiePromise.resolve(a).then(function (x) {\n            values[i] = x;\n            if (! --remaining) resolve(values);\n          }, reject);\n        });\n      });\n    },\n    resolve: function (value) {\n      if (value instanceof DexiePromise) return value;\n      if (value && typeof value.then === 'function') return new DexiePromise(function (resolve, reject) {\n        value.then(resolve, reject);\n      });\n      var rv = new DexiePromise(INTERNAL, true, value);\n      return rv;\n    },\n    reject: PromiseReject,\n    race: function () {\n      var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n      return new DexiePromise(function (resolve, reject) {\n        values.map(function (value) {\n          return DexiePromise.resolve(value).then(resolve, reject);\n        });\n      });\n    },\n    PSD: {\n      get: function () {\n        return PSD;\n      },\n      set: function (value) {\n        return PSD = value;\n      }\n    },\n    totalEchoes: {\n      get: function () {\n        return totalEchoes;\n      }\n    },\n    newPSD: newScope,\n    usePSD: usePSD,\n    scheduler: {\n      get: function () {\n        return asap;\n      },\n      set: function (value) {\n        asap = value;\n      }\n    },\n    rejectionMapper: {\n      get: function () {\n        return rejectionMapper;\n      },\n      set: function (value) {\n        rejectionMapper = value;\n      }\n    },\n    follow: function (fn, zoneProps) {\n      return new DexiePromise(function (resolve, reject) {\n        return newScope(function (resolve, reject) {\n          var psd = PSD;\n          psd.unhandleds = [];\n          psd.onunhandled = reject;\n          psd.finalize = callBoth(function () {\n            var _this = this;\n            run_at_end_of_this_or_next_physical_tick(function () {\n              _this.unhandleds.length === 0 ? resolve() : reject(_this.unhandleds[0]);\n            });\n          }, psd.finalize);\n          fn();\n        }, zoneProps, resolve, reject);\n      });\n    }\n  });\n  if (NativePromise) {\n    if (NativePromise.allSettled) setProp(DexiePromise, \"allSettled\", function () {\n      var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n      return new DexiePromise(function (resolve) {\n        if (possiblePromises.length === 0) resolve([]);\n        var remaining = possiblePromises.length;\n        var results = new Array(remaining);\n        possiblePromises.forEach(function (p, i) {\n          return DexiePromise.resolve(p).then(function (value) {\n            return results[i] = {\n              status: \"fulfilled\",\n              value: value\n            };\n          }, function (reason) {\n            return results[i] = {\n              status: \"rejected\",\n              reason: reason\n            };\n          }).then(function () {\n            return --remaining || resolve(results);\n          });\n        });\n      });\n    });\n    if (NativePromise.any && typeof AggregateError !== 'undefined') setProp(DexiePromise, \"any\", function () {\n      var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n      return new DexiePromise(function (resolve, reject) {\n        if (possiblePromises.length === 0) reject(new AggregateError([]));\n        var remaining = possiblePromises.length;\n        var failures = new Array(remaining);\n        possiblePromises.forEach(function (p, i) {\n          return DexiePromise.resolve(p).then(function (value) {\n            return resolve(value);\n          }, function (failure) {\n            failures[i] = failure;\n            if (! --remaining) reject(new AggregateError(failures));\n          });\n        });\n      });\n    });\n    if (NativePromise.withResolvers) DexiePromise.withResolvers = NativePromise.withResolvers;\n  }\n  function executePromiseTask(promise, fn) {\n    try {\n      fn(function (value) {\n        if (promise._state !== null) return;\n        if (value === promise) throw new TypeError('A promise cannot be resolved with itself.');\n        var shouldExecuteTick = promise._lib && beginMicroTickScope();\n        if (value && typeof value.then === 'function') {\n          executePromiseTask(promise, function (resolve, reject) {\n            value instanceof DexiePromise ? value._then(resolve, reject) : value.then(resolve, reject);\n          });\n        } else {\n          promise._state = true;\n          promise._value = value;\n          propagateAllListeners(promise);\n        }\n        if (shouldExecuteTick) endMicroTickScope();\n      }, handleRejection.bind(null, promise));\n    } catch (ex) {\n      handleRejection(promise, ex);\n    }\n  }\n  function handleRejection(promise, reason) {\n    rejectingErrors.push(reason);\n    if (promise._state !== null) return;\n    var shouldExecuteTick = promise._lib && beginMicroTickScope();\n    reason = rejectionMapper(reason);\n    promise._state = false;\n    promise._value = reason;\n    addPossiblyUnhandledError(promise);\n    propagateAllListeners(promise);\n    if (shouldExecuteTick) endMicroTickScope();\n  }\n  function propagateAllListeners(promise) {\n    var listeners = promise._listeners;\n    promise._listeners = [];\n    for (var i = 0, len = listeners.length; i < len; ++i) {\n      propagateToListener(promise, listeners[i]);\n    }\n    var psd = promise._PSD;\n    --psd.ref || psd.finalize();\n    if (numScheduledCalls === 0) {\n      ++numScheduledCalls;\n      asap(function () {\n        if (--numScheduledCalls === 0) finalizePhysicalTick();\n      }, []);\n    }\n  }\n  function propagateToListener(promise, listener) {\n    if (promise._state === null) {\n      promise._listeners.push(listener);\n      return;\n    }\n    var cb = promise._state ? listener.onFulfilled : listener.onRejected;\n    if (cb === null) {\n      return (promise._state ? listener.resolve : listener.reject)(promise._value);\n    }\n    ++listener.psd.ref;\n    ++numScheduledCalls;\n    asap(callListener, [cb, promise, listener]);\n  }\n  function callListener(cb, promise, listener) {\n    try {\n      var ret,\n        value = promise._value;\n      if (!promise._state && rejectingErrors.length) rejectingErrors = [];\n      ret = debug && promise._consoleTask ? promise._consoleTask.run(function () {\n        return cb(value);\n      }) : cb(value);\n      if (!promise._state && rejectingErrors.indexOf(value) === -1) {\n        markErrorAsHandled(promise);\n      }\n      listener.resolve(ret);\n    } catch (e) {\n      listener.reject(e);\n    } finally {\n      if (--numScheduledCalls === 0) finalizePhysicalTick();\n      --listener.psd.ref || listener.psd.finalize();\n    }\n  }\n  function physicalTick() {\n    usePSD(globalPSD, function () {\n      beginMicroTickScope() && endMicroTickScope();\n    });\n  }\n  function beginMicroTickScope() {\n    var wasRootExec = isOutsideMicroTick;\n    isOutsideMicroTick = false;\n    needsNewPhysicalTick = false;\n    return wasRootExec;\n  }\n  function endMicroTickScope() {\n    var callbacks, i, l;\n    do {\n      while (microtickQueue.length > 0) {\n        callbacks = microtickQueue;\n        microtickQueue = [];\n        l = callbacks.length;\n        for (i = 0; i < l; ++i) {\n          var item = callbacks[i];\n          item[0].apply(null, item[1]);\n        }\n      }\n    } while (microtickQueue.length > 0);\n    isOutsideMicroTick = true;\n    needsNewPhysicalTick = true;\n  }\n  function finalizePhysicalTick() {\n    var unhandledErrs = unhandledErrors;\n    unhandledErrors = [];\n    unhandledErrs.forEach(function (p) {\n      p._PSD.onunhandled.call(null, p._value, p);\n    });\n    var finalizers = tickFinalizers.slice(0);\n    var i = finalizers.length;\n    while (i) finalizers[--i]();\n  }\n  function run_at_end_of_this_or_next_physical_tick(fn) {\n    function finalizer() {\n      fn();\n      tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);\n    }\n    tickFinalizers.push(finalizer);\n    ++numScheduledCalls;\n    asap(function () {\n      if (--numScheduledCalls === 0) finalizePhysicalTick();\n    }, []);\n  }\n  function addPossiblyUnhandledError(promise) {\n    if (!unhandledErrors.some(function (p) {\n      return p._value === promise._value;\n    })) unhandledErrors.push(promise);\n  }\n  function markErrorAsHandled(promise) {\n    var i = unhandledErrors.length;\n    while (i) if (unhandledErrors[--i]._value === promise._value) {\n      unhandledErrors.splice(i, 1);\n      return;\n    }\n  }\n  function PromiseReject(reason) {\n    return new DexiePromise(INTERNAL, false, reason);\n  }\n  function wrap(fn, errorCatcher) {\n    var psd = PSD;\n    return function () {\n      var wasRootExec = beginMicroTickScope(),\n        outerScope = PSD;\n      try {\n        switchToZone(psd, true);\n        return fn.apply(this, arguments);\n      } catch (e) {\n        errorCatcher && errorCatcher(e);\n      } finally {\n        switchToZone(outerScope, false);\n        if (wasRootExec) endMicroTickScope();\n      }\n    };\n  }\n  var task = {\n    awaits: 0,\n    echoes: 0,\n    id: 0\n  };\n  var taskCounter = 0;\n  var zoneStack = [];\n  var zoneEchoes = 0;\n  var totalEchoes = 0;\n  var zone_id_counter = 0;\n  function newScope(fn, props, a1, a2) {\n    var parent = PSD,\n      psd = Object.create(parent);\n    psd.parent = parent;\n    psd.ref = 0;\n    psd.global = false;\n    psd.id = ++zone_id_counter;\n    globalPSD.env;\n    psd.env = patchGlobalPromise ? {\n      Promise: DexiePromise,\n      PromiseProp: {\n        value: DexiePromise,\n        configurable: true,\n        writable: true\n      },\n      all: DexiePromise.all,\n      race: DexiePromise.race,\n      allSettled: DexiePromise.allSettled,\n      any: DexiePromise.any,\n      resolve: DexiePromise.resolve,\n      reject: DexiePromise.reject\n    } : {};\n    if (props) extend(psd, props);\n    ++parent.ref;\n    psd.finalize = function () {\n      --this.parent.ref || this.parent.finalize();\n    };\n    var rv = usePSD(psd, fn, a1, a2);\n    if (psd.ref === 0) psd.finalize();\n    return rv;\n  }\n  function incrementExpectedAwaits() {\n    if (!task.id) task.id = ++taskCounter;\n    ++task.awaits;\n    task.echoes += ZONE_ECHO_LIMIT;\n    return task.id;\n  }\n  function decrementExpectedAwaits() {\n    if (!task.awaits) return false;\n    if (--task.awaits === 0) task.id = 0;\n    task.echoes = task.awaits * ZONE_ECHO_LIMIT;\n    return true;\n  }\n  if (('' + nativePromiseThen).indexOf('[native code]') === -1) {\n    incrementExpectedAwaits = decrementExpectedAwaits = nop;\n  }\n  function onPossibleParallellAsync(possiblePromise) {\n    if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {\n      incrementExpectedAwaits();\n      return possiblePromise.then(function (x) {\n        decrementExpectedAwaits();\n        return x;\n      }, function (e) {\n        decrementExpectedAwaits();\n        return rejection(e);\n      });\n    }\n    return possiblePromise;\n  }\n  function zoneEnterEcho(targetZone) {\n    ++totalEchoes;\n    if (!task.echoes || --task.echoes === 0) {\n      task.echoes = task.awaits = task.id = 0;\n    }\n    zoneStack.push(PSD);\n    switchToZone(targetZone, true);\n  }\n  function zoneLeaveEcho() {\n    var zone = zoneStack[zoneStack.length - 1];\n    zoneStack.pop();\n    switchToZone(zone, false);\n  }\n  function switchToZone(targetZone, bEnteringZone) {\n    var currentZone = PSD;\n    if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (! --zoneEchoes || targetZone !== PSD)) {\n      queueMicrotask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);\n    }\n    if (targetZone === PSD) return;\n    PSD = targetZone;\n    if (currentZone === globalPSD) globalPSD.env = snapShot();\n    if (patchGlobalPromise) {\n      var GlobalPromise = globalPSD.env.Promise;\n      var targetEnv = targetZone.env;\n      if (currentZone.global || targetZone.global) {\n        Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);\n        GlobalPromise.all = targetEnv.all;\n        GlobalPromise.race = targetEnv.race;\n        GlobalPromise.resolve = targetEnv.resolve;\n        GlobalPromise.reject = targetEnv.reject;\n        if (targetEnv.allSettled) GlobalPromise.allSettled = targetEnv.allSettled;\n        if (targetEnv.any) GlobalPromise.any = targetEnv.any;\n      }\n    }\n  }\n  function snapShot() {\n    var GlobalPromise = _global.Promise;\n    return patchGlobalPromise ? {\n      Promise: GlobalPromise,\n      PromiseProp: Object.getOwnPropertyDescriptor(_global, \"Promise\"),\n      all: GlobalPromise.all,\n      race: GlobalPromise.race,\n      allSettled: GlobalPromise.allSettled,\n      any: GlobalPromise.any,\n      resolve: GlobalPromise.resolve,\n      reject: GlobalPromise.reject\n    } : {};\n  }\n  function usePSD(psd, fn, a1, a2, a3) {\n    var outerScope = PSD;\n    try {\n      switchToZone(psd, true);\n      return fn(a1, a2, a3);\n    } finally {\n      switchToZone(outerScope, false);\n    }\n  }\n  function nativeAwaitCompatibleWrap(fn, zone, possibleAwait, cleanup) {\n    return typeof fn !== 'function' ? fn : function () {\n      var outerZone = PSD;\n      if (possibleAwait) incrementExpectedAwaits();\n      switchToZone(zone, true);\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        switchToZone(outerZone, false);\n        if (cleanup) queueMicrotask(decrementExpectedAwaits);\n      }\n    };\n  }\n  function execInGlobalContext(cb) {\n    if (Promise === NativePromise && task.echoes === 0) {\n      if (zoneEchoes === 0) {\n        cb();\n      } else {\n        enqueueNativeMicroTask(cb);\n      }\n    } else {\n      setTimeout(cb, 0);\n    }\n  }\n  var rejection = DexiePromise.reject;\n  function tempTransaction(db, mode, storeNames, fn) {\n    if (!db.idbdb || !db._state.openComplete && !PSD.letThrough && !db._vip) {\n      if (db._state.openComplete) {\n        return rejection(new exceptions.DatabaseClosed(db._state.dbOpenError));\n      }\n      if (!db._state.isBeingOpened) {\n        if (!db._state.autoOpen) return rejection(new exceptions.DatabaseClosed());\n        db.open().catch(nop);\n      }\n      return db._state.dbReadyPromise.then(function () {\n        return tempTransaction(db, mode, storeNames, fn);\n      });\n    } else {\n      var trans = db._createTransaction(mode, storeNames, db._dbSchema);\n      try {\n        trans.create();\n        db._state.PR1398_maxLoop = 3;\n      } catch (ex) {\n        if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {\n          console.warn('Dexie: Need to reopen db');\n          db.close({\n            disableAutoOpen: false\n          });\n          return db.open().then(function () {\n            return tempTransaction(db, mode, storeNames, fn);\n          });\n        }\n        return rejection(ex);\n      }\n      return trans._promise(mode, function (resolve, reject) {\n        return newScope(function () {\n          PSD.trans = trans;\n          return fn(resolve, reject, trans);\n        });\n      }).then(function (result) {\n        if (mode === 'readwrite') try {\n          trans.idbtrans.commit();\n        } catch (_a) {}\n        return mode === 'readonly' ? result : trans._completion.then(function () {\n          return result;\n        });\n      });\n    }\n  }\n  var DEXIE_VERSION = '4.0.11';\n  var maxString = String.fromCharCode(65535);\n  var minKey = -Infinity;\n  var INVALID_KEY_ARGUMENT = \"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\";\n  var STRING_EXPECTED = \"String expected.\";\n  var connections = [];\n  var DBNAMES_DB = '__dbnames';\n  var READONLY = 'readonly';\n  var READWRITE = 'readwrite';\n  function combine(filter1, filter2) {\n    return filter1 ? filter2 ? function () {\n      return filter1.apply(this, arguments) && filter2.apply(this, arguments);\n    } : filter1 : filter2;\n  }\n  var AnyRange = {\n    type: 3,\n    lower: -Infinity,\n    lowerOpen: false,\n    upper: [[]],\n    upperOpen: false\n  };\n  function workaroundForUndefinedPrimKey(keyPath) {\n    return typeof keyPath === \"string\" && !/\\./.test(keyPath) ? function (obj) {\n      if (obj[keyPath] === undefined && keyPath in obj) {\n        obj = deepClone(obj);\n        delete obj[keyPath];\n      }\n      return obj;\n    } : function (obj) {\n      return obj;\n    };\n  }\n  function Entity() {\n    throw exceptions.Type();\n  }\n  function cmp(a, b) {\n    try {\n      var ta = type(a);\n      var tb = type(b);\n      if (ta !== tb) {\n        if (ta === 'Array') return 1;\n        if (tb === 'Array') return -1;\n        if (ta === 'binary') return 1;\n        if (tb === 'binary') return -1;\n        if (ta === 'string') return 1;\n        if (tb === 'string') return -1;\n        if (ta === 'Date') return 1;\n        if (tb !== 'Date') return NaN;\n        return -1;\n      }\n      switch (ta) {\n        case 'number':\n        case 'Date':\n        case 'string':\n          return a > b ? 1 : a < b ? -1 : 0;\n        case 'binary':\n          {\n            return compareUint8Arrays(getUint8Array(a), getUint8Array(b));\n          }\n        case 'Array':\n          return compareArrays(a, b);\n      }\n    } catch (_a) {}\n    return NaN;\n  }\n  function compareArrays(a, b) {\n    var al = a.length;\n    var bl = b.length;\n    var l = al < bl ? al : bl;\n    for (var i = 0; i < l; ++i) {\n      var res = cmp(a[i], b[i]);\n      if (res !== 0) return res;\n    }\n    return al === bl ? 0 : al < bl ? -1 : 1;\n  }\n  function compareUint8Arrays(a, b) {\n    var al = a.length;\n    var bl = b.length;\n    var l = al < bl ? al : bl;\n    for (var i = 0; i < l; ++i) {\n      if (a[i] !== b[i]) return a[i] < b[i] ? -1 : 1;\n    }\n    return al === bl ? 0 : al < bl ? -1 : 1;\n  }\n  function type(x) {\n    var t = typeof x;\n    if (t !== 'object') return t;\n    if (ArrayBuffer.isView(x)) return 'binary';\n    var tsTag = toStringTag(x);\n    return tsTag === 'ArrayBuffer' ? 'binary' : tsTag;\n  }\n  function getUint8Array(a) {\n    if (a instanceof Uint8Array) return a;\n    if (ArrayBuffer.isView(a)) return new Uint8Array(a.buffer, a.byteOffset, a.byteLength);\n    return new Uint8Array(a);\n  }\n  var Table = function () {\n    function Table() {}\n    Table.prototype._trans = function (mode, fn, writeLocked) {\n      var trans = this._tx || PSD.trans;\n      var tableName = this.name;\n      var task = debug && typeof console !== 'undefined' && console.createTask && console.createTask(\"Dexie: \".concat(mode === 'readonly' ? 'read' : 'write', \" \").concat(this.name));\n      function checkTableInTransaction(resolve, reject, trans) {\n        if (!trans.schema[tableName]) throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n        return fn(trans.idbtrans, trans);\n      }\n      var wasRootExec = beginMicroTickScope();\n      try {\n        var p = trans && trans.db._novip === this.db._novip ? trans === PSD.trans ? trans._promise(mode, checkTableInTransaction, writeLocked) : newScope(function () {\n          return trans._promise(mode, checkTableInTransaction, writeLocked);\n        }, {\n          trans: trans,\n          transless: PSD.transless || PSD\n        }) : tempTransaction(this.db, mode, [this.name], checkTableInTransaction);\n        if (task) {\n          p._consoleTask = task;\n          p = p.catch(function (err) {\n            console.trace(err);\n            return rejection(err);\n          });\n        }\n        return p;\n      } finally {\n        if (wasRootExec) endMicroTickScope();\n      }\n    };\n    Table.prototype.get = function (keyOrCrit, cb) {\n      var _this = this;\n      if (keyOrCrit && keyOrCrit.constructor === Object) return this.where(keyOrCrit).first(cb);\n      if (keyOrCrit == null) return rejection(new exceptions.Type(\"Invalid argument to Table.get()\"));\n      return this._trans('readonly', function (trans) {\n        return _this.core.get({\n          trans: trans,\n          key: keyOrCrit\n        }).then(function (res) {\n          return _this.hook.reading.fire(res);\n        });\n      }).then(cb);\n    };\n    Table.prototype.where = function (indexOrCrit) {\n      if (typeof indexOrCrit === 'string') return new this.db.WhereClause(this, indexOrCrit);\n      if (isArray(indexOrCrit)) return new this.db.WhereClause(this, \"[\".concat(indexOrCrit.join('+'), \"]\"));\n      var keyPaths = keys(indexOrCrit);\n      if (keyPaths.length === 1) return this.where(keyPaths[0]).equals(indexOrCrit[keyPaths[0]]);\n      var compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(function (ix) {\n        if (ix.compound && keyPaths.every(function (keyPath) {\n          return ix.keyPath.indexOf(keyPath) >= 0;\n        })) {\n          for (var i = 0; i < keyPaths.length; ++i) {\n            if (keyPaths.indexOf(ix.keyPath[i]) === -1) return false;\n          }\n          return true;\n        }\n        return false;\n      }).sort(function (a, b) {\n        return a.keyPath.length - b.keyPath.length;\n      })[0];\n      if (compoundIndex && this.db._maxKey !== maxString) {\n        var keyPathsInValidOrder = compoundIndex.keyPath.slice(0, keyPaths.length);\n        return this.where(keyPathsInValidOrder).equals(keyPathsInValidOrder.map(function (kp) {\n          return indexOrCrit[kp];\n        }));\n      }\n      if (!compoundIndex && debug) console.warn(\"The query \".concat(JSON.stringify(indexOrCrit), \" on \").concat(this.name, \" would benefit from a \") + \"compound index [\".concat(keyPaths.join('+'), \"]\"));\n      var idxByName = this.schema.idxByName;\n      function equals(a, b) {\n        return cmp(a, b) === 0;\n      }\n      var _a = keyPaths.reduce(function (_a, keyPath) {\n          var prevIndex = _a[0],\n            prevFilterFn = _a[1];\n          var index = idxByName[keyPath];\n          var value = indexOrCrit[keyPath];\n          return [prevIndex || index, prevIndex || !index ? combine(prevFilterFn, index && index.multi ? function (x) {\n            var prop = getByKeyPath(x, keyPath);\n            return isArray(prop) && prop.some(function (item) {\n              return equals(value, item);\n            });\n          } : function (x) {\n            return equals(value, getByKeyPath(x, keyPath));\n          }) : prevFilterFn];\n        }, [null, null]),\n        idx = _a[0],\n        filterFunction = _a[1];\n      return idx ? this.where(idx.name).equals(indexOrCrit[idx.keyPath]).filter(filterFunction) : compoundIndex ? this.filter(filterFunction) : this.where(keyPaths).equals('');\n    };\n    Table.prototype.filter = function (filterFunction) {\n      return this.toCollection().and(filterFunction);\n    };\n    Table.prototype.count = function (thenShortcut) {\n      return this.toCollection().count(thenShortcut);\n    };\n    Table.prototype.offset = function (offset) {\n      return this.toCollection().offset(offset);\n    };\n    Table.prototype.limit = function (numRows) {\n      return this.toCollection().limit(numRows);\n    };\n    Table.prototype.each = function (callback) {\n      return this.toCollection().each(callback);\n    };\n    Table.prototype.toArray = function (thenShortcut) {\n      return this.toCollection().toArray(thenShortcut);\n    };\n    Table.prototype.toCollection = function () {\n      return new this.db.Collection(new this.db.WhereClause(this));\n    };\n    Table.prototype.orderBy = function (index) {\n      return new this.db.Collection(new this.db.WhereClause(this, isArray(index) ? \"[\".concat(index.join('+'), \"]\") : index));\n    };\n    Table.prototype.reverse = function () {\n      return this.toCollection().reverse();\n    };\n    Table.prototype.mapToClass = function (constructor) {\n      var _a = this,\n        db = _a.db,\n        tableName = _a.name;\n      this.schema.mappedClass = constructor;\n      if (constructor.prototype instanceof Entity) {\n        constructor = function (_super) {\n          __extends(class_1, _super);\n          function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n          }\n          Object.defineProperty(class_1.prototype, \"db\", {\n            get: function () {\n              return db;\n            },\n            enumerable: false,\n            configurable: true\n          });\n          class_1.prototype.table = function () {\n            return tableName;\n          };\n          return class_1;\n        }(constructor);\n      }\n      var inheritedProps = new Set();\n      for (var proto = constructor.prototype; proto; proto = getProto(proto)) {\n        Object.getOwnPropertyNames(proto).forEach(function (propName) {\n          return inheritedProps.add(propName);\n        });\n      }\n      var readHook = function (obj) {\n        if (!obj) return obj;\n        var res = Object.create(constructor.prototype);\n        for (var m in obj) if (!inheritedProps.has(m)) try {\n          res[m] = obj[m];\n        } catch (_) {}\n        return res;\n      };\n      if (this.schema.readHook) {\n        this.hook.reading.unsubscribe(this.schema.readHook);\n      }\n      this.schema.readHook = readHook;\n      this.hook(\"reading\", readHook);\n      return constructor;\n    };\n    Table.prototype.defineClass = function () {\n      function Class(content) {\n        extend(this, content);\n      }\n      return this.mapToClass(Class);\n    };\n    Table.prototype.add = function (obj, key) {\n      var _this = this;\n      var _a = this.schema.primKey,\n        auto = _a.auto,\n        keyPath = _a.keyPath;\n      var objToAdd = obj;\n      if (keyPath && auto) {\n        objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n      }\n      return this._trans('readwrite', function (trans) {\n        return _this.core.mutate({\n          trans: trans,\n          type: 'add',\n          keys: key != null ? [key] : null,\n          values: [objToAdd]\n        });\n      }).then(function (res) {\n        return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult;\n      }).then(function (lastResult) {\n        if (keyPath) {\n          try {\n            setByKeyPath(obj, keyPath, lastResult);\n          } catch (_) {}\n        }\n        return lastResult;\n      });\n    };\n    Table.prototype.update = function (keyOrObject, modifications) {\n      if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {\n        var key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);\n        if (key === undefined) return rejection(new exceptions.InvalidArgument(\"Given object does not contain its primary key\"));\n        return this.where(\":id\").equals(key).modify(modifications);\n      } else {\n        return this.where(\":id\").equals(keyOrObject).modify(modifications);\n      }\n    };\n    Table.prototype.put = function (obj, key) {\n      var _this = this;\n      var _a = this.schema.primKey,\n        auto = _a.auto,\n        keyPath = _a.keyPath;\n      var objToAdd = obj;\n      if (keyPath && auto) {\n        objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n      }\n      return this._trans('readwrite', function (trans) {\n        return _this.core.mutate({\n          trans: trans,\n          type: 'put',\n          values: [objToAdd],\n          keys: key != null ? [key] : null\n        });\n      }).then(function (res) {\n        return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult;\n      }).then(function (lastResult) {\n        if (keyPath) {\n          try {\n            setByKeyPath(obj, keyPath, lastResult);\n          } catch (_) {}\n        }\n        return lastResult;\n      });\n    };\n    Table.prototype.delete = function (key) {\n      var _this = this;\n      return this._trans('readwrite', function (trans) {\n        return _this.core.mutate({\n          trans: trans,\n          type: 'delete',\n          keys: [key]\n        });\n      }).then(function (res) {\n        return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined;\n      });\n    };\n    Table.prototype.clear = function () {\n      var _this = this;\n      return this._trans('readwrite', function (trans) {\n        return _this.core.mutate({\n          trans: trans,\n          type: 'deleteRange',\n          range: AnyRange\n        });\n      }).then(function (res) {\n        return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined;\n      });\n    };\n    Table.prototype.bulkGet = function (keys) {\n      var _this = this;\n      return this._trans('readonly', function (trans) {\n        return _this.core.getMany({\n          keys: keys,\n          trans: trans\n        }).then(function (result) {\n          return result.map(function (res) {\n            return _this.hook.reading.fire(res);\n          });\n        });\n      });\n    };\n    Table.prototype.bulkAdd = function (objects, keysOrOptions, options) {\n      var _this = this;\n      var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n      options = options || (keys ? undefined : keysOrOptions);\n      var wantResults = options ? options.allKeys : undefined;\n      return this._trans('readwrite', function (trans) {\n        var _a = _this.schema.primKey,\n          auto = _a.auto,\n          keyPath = _a.keyPath;\n        if (keyPath && keys) throw new exceptions.InvalidArgument(\"bulkAdd(): keys argument invalid on tables with inbound keys\");\n        if (keys && keys.length !== objects.length) throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n        var numObjects = objects.length;\n        var objectsToAdd = keyPath && auto ? objects.map(workaroundForUndefinedPrimKey(keyPath)) : objects;\n        return _this.core.mutate({\n          trans: trans,\n          type: 'add',\n          keys: keys,\n          values: objectsToAdd,\n          wantResults: wantResults\n        }).then(function (_a) {\n          var numFailures = _a.numFailures,\n            results = _a.results,\n            lastResult = _a.lastResult,\n            failures = _a.failures;\n          var result = wantResults ? results : lastResult;\n          if (numFailures === 0) return result;\n          throw new BulkError(\"\".concat(_this.name, \".bulkAdd(): \").concat(numFailures, \" of \").concat(numObjects, \" operations failed\"), failures);\n        });\n      });\n    };\n    Table.prototype.bulkPut = function (objects, keysOrOptions, options) {\n      var _this = this;\n      var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n      options = options || (keys ? undefined : keysOrOptions);\n      var wantResults = options ? options.allKeys : undefined;\n      return this._trans('readwrite', function (trans) {\n        var _a = _this.schema.primKey,\n          auto = _a.auto,\n          keyPath = _a.keyPath;\n        if (keyPath && keys) throw new exceptions.InvalidArgument(\"bulkPut(): keys argument invalid on tables with inbound keys\");\n        if (keys && keys.length !== objects.length) throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n        var numObjects = objects.length;\n        var objectsToPut = keyPath && auto ? objects.map(workaroundForUndefinedPrimKey(keyPath)) : objects;\n        return _this.core.mutate({\n          trans: trans,\n          type: 'put',\n          keys: keys,\n          values: objectsToPut,\n          wantResults: wantResults\n        }).then(function (_a) {\n          var numFailures = _a.numFailures,\n            results = _a.results,\n            lastResult = _a.lastResult,\n            failures = _a.failures;\n          var result = wantResults ? results : lastResult;\n          if (numFailures === 0) return result;\n          throw new BulkError(\"\".concat(_this.name, \".bulkPut(): \").concat(numFailures, \" of \").concat(numObjects, \" operations failed\"), failures);\n        });\n      });\n    };\n    Table.prototype.bulkUpdate = function (keysAndChanges) {\n      var _this = this;\n      var coreTable = this.core;\n      var keys = keysAndChanges.map(function (entry) {\n        return entry.key;\n      });\n      var changeSpecs = keysAndChanges.map(function (entry) {\n        return entry.changes;\n      });\n      var offsetMap = [];\n      return this._trans('readwrite', function (trans) {\n        return coreTable.getMany({\n          trans: trans,\n          keys: keys,\n          cache: 'clone'\n        }).then(function (objs) {\n          var resultKeys = [];\n          var resultObjs = [];\n          keysAndChanges.forEach(function (_a, idx) {\n            var key = _a.key,\n              changes = _a.changes;\n            var obj = objs[idx];\n            if (obj) {\n              for (var _i = 0, _b = Object.keys(changes); _i < _b.length; _i++) {\n                var keyPath = _b[_i];\n                var value = changes[keyPath];\n                if (keyPath === _this.schema.primKey.keyPath) {\n                  if (cmp(value, key) !== 0) {\n                    throw new exceptions.Constraint(\"Cannot update primary key in bulkUpdate()\");\n                  }\n                } else {\n                  setByKeyPath(obj, keyPath, value);\n                }\n              }\n              offsetMap.push(idx);\n              resultKeys.push(key);\n              resultObjs.push(obj);\n            }\n          });\n          var numEntries = resultKeys.length;\n          return coreTable.mutate({\n            trans: trans,\n            type: 'put',\n            keys: resultKeys,\n            values: resultObjs,\n            updates: {\n              keys: keys,\n              changeSpecs: changeSpecs\n            }\n          }).then(function (_a) {\n            var numFailures = _a.numFailures,\n              failures = _a.failures;\n            if (numFailures === 0) return numEntries;\n            for (var _i = 0, _b = Object.keys(failures); _i < _b.length; _i++) {\n              var offset = _b[_i];\n              var mappedOffset = offsetMap[Number(offset)];\n              if (mappedOffset != null) {\n                var failure = failures[offset];\n                delete failures[offset];\n                failures[mappedOffset] = failure;\n              }\n            }\n            throw new BulkError(\"\".concat(_this.name, \".bulkUpdate(): \").concat(numFailures, \" of \").concat(numEntries, \" operations failed\"), failures);\n          });\n        });\n      });\n    };\n    Table.prototype.bulkDelete = function (keys) {\n      var _this = this;\n      var numKeys = keys.length;\n      return this._trans('readwrite', function (trans) {\n        return _this.core.mutate({\n          trans: trans,\n          type: 'delete',\n          keys: keys\n        });\n      }).then(function (_a) {\n        var numFailures = _a.numFailures,\n          lastResult = _a.lastResult,\n          failures = _a.failures;\n        if (numFailures === 0) return lastResult;\n        throw new BulkError(\"\".concat(_this.name, \".bulkDelete(): \").concat(numFailures, \" of \").concat(numKeys, \" operations failed\"), failures);\n      });\n    };\n    return Table;\n  }();\n  function Events(ctx) {\n    var evs = {};\n    var rv = function (eventName, subscriber) {\n      if (subscriber) {\n        var i = arguments.length,\n          args = new Array(i - 1);\n        while (--i) args[i - 1] = arguments[i];\n        evs[eventName].subscribe.apply(null, args);\n        return ctx;\n      } else if (typeof eventName === 'string') {\n        return evs[eventName];\n      }\n    };\n    rv.addEventType = add;\n    for (var i = 1, l = arguments.length; i < l; ++i) {\n      add(arguments[i]);\n    }\n    return rv;\n    function add(eventName, chainFunction, defaultFunction) {\n      if (typeof eventName === 'object') return addConfiguredEvents(eventName);\n      if (!chainFunction) chainFunction = reverseStoppableEventChain;\n      if (!defaultFunction) defaultFunction = nop;\n      var context = {\n        subscribers: [],\n        fire: defaultFunction,\n        subscribe: function (cb) {\n          if (context.subscribers.indexOf(cb) === -1) {\n            context.subscribers.push(cb);\n            context.fire = chainFunction(context.fire, cb);\n          }\n        },\n        unsubscribe: function (cb) {\n          context.subscribers = context.subscribers.filter(function (fn) {\n            return fn !== cb;\n          });\n          context.fire = context.subscribers.reduce(chainFunction, defaultFunction);\n        }\n      };\n      evs[eventName] = rv[eventName] = context;\n      return context;\n    }\n    function addConfiguredEvents(cfg) {\n      keys(cfg).forEach(function (eventName) {\n        var args = cfg[eventName];\n        if (isArray(args)) {\n          add(eventName, cfg[eventName][0], cfg[eventName][1]);\n        } else if (args === 'asap') {\n          var context = add(eventName, mirror, function fire() {\n            var i = arguments.length,\n              args = new Array(i);\n            while (i--) args[i] = arguments[i];\n            context.subscribers.forEach(function (fn) {\n              asap$1(function fireEvent() {\n                fn.apply(null, args);\n              });\n            });\n          });\n        } else throw new exceptions.InvalidArgument(\"Invalid event config\");\n      });\n    }\n  }\n  function makeClassConstructor(prototype, constructor) {\n    derive(constructor).from({\n      prototype: prototype\n    });\n    return constructor;\n  }\n  function createTableConstructor(db) {\n    return makeClassConstructor(Table.prototype, function Table(name, tableSchema, trans) {\n      this.db = db;\n      this._tx = trans;\n      this.name = name;\n      this.schema = tableSchema;\n      this.hook = db._allTables[name] ? db._allTables[name].hook : Events(null, {\n        \"creating\": [hookCreatingChain, nop],\n        \"reading\": [pureFunctionChain, mirror],\n        \"updating\": [hookUpdatingChain, nop],\n        \"deleting\": [hookDeletingChain, nop]\n      });\n    });\n  }\n  function isPlainKeyRange(ctx, ignoreLimitFilter) {\n    return !(ctx.filter || ctx.algorithm || ctx.or) && (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);\n  }\n  function addFilter(ctx, fn) {\n    ctx.filter = combine(ctx.filter, fn);\n  }\n  function addReplayFilter(ctx, factory, isLimitFilter) {\n    var curr = ctx.replayFilter;\n    ctx.replayFilter = curr ? function () {\n      return combine(curr(), factory());\n    } : factory;\n    ctx.justLimit = isLimitFilter && !curr;\n  }\n  function addMatchFilter(ctx, fn) {\n    ctx.isMatch = combine(ctx.isMatch, fn);\n  }\n  function getIndexOrStore(ctx, coreSchema) {\n    if (ctx.isPrimKey) return coreSchema.primaryKey;\n    var index = coreSchema.getIndexByKeyPath(ctx.index);\n    if (!index) throw new exceptions.Schema(\"KeyPath \" + ctx.index + \" on object store \" + coreSchema.name + \" is not indexed\");\n    return index;\n  }\n  function openCursor(ctx, coreTable, trans) {\n    var index = getIndexOrStore(ctx, coreTable.schema);\n    return coreTable.openCursor({\n      trans: trans,\n      values: !ctx.keysOnly,\n      reverse: ctx.dir === 'prev',\n      unique: !!ctx.unique,\n      query: {\n        index: index,\n        range: ctx.range\n      }\n    });\n  }\n  function iter(ctx, fn, coreTrans, coreTable) {\n    var filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;\n    if (!ctx.or) {\n      return iterate(openCursor(ctx, coreTable, coreTrans), combine(ctx.algorithm, filter), fn, !ctx.keysOnly && ctx.valueMapper);\n    } else {\n      var set_1 = {};\n      var union = function (item, cursor, advance) {\n        if (!filter || filter(cursor, advance, function (result) {\n          return cursor.stop(result);\n        }, function (err) {\n          return cursor.fail(err);\n        })) {\n          var primaryKey = cursor.primaryKey;\n          var key = '' + primaryKey;\n          if (key === '[object ArrayBuffer]') key = '' + new Uint8Array(primaryKey);\n          if (!hasOwn(set_1, key)) {\n            set_1[key] = true;\n            fn(item, cursor, advance);\n          }\n        }\n      };\n      return Promise.all([ctx.or._iterate(union, coreTrans), iterate(openCursor(ctx, coreTable, coreTrans), ctx.algorithm, union, !ctx.keysOnly && ctx.valueMapper)]);\n    }\n  }\n  function iterate(cursorPromise, filter, fn, valueMapper) {\n    var mappedFn = valueMapper ? function (x, c, a) {\n      return fn(valueMapper(x), c, a);\n    } : fn;\n    var wrappedFn = wrap(mappedFn);\n    return cursorPromise.then(function (cursor) {\n      if (cursor) {\n        return cursor.start(function () {\n          var c = function () {\n            return cursor.continue();\n          };\n          if (!filter || filter(cursor, function (advancer) {\n            return c = advancer;\n          }, function (val) {\n            cursor.stop(val);\n            c = nop;\n          }, function (e) {\n            cursor.fail(e);\n            c = nop;\n          })) wrappedFn(cursor.value, cursor, function (advancer) {\n            return c = advancer;\n          });\n          c();\n        });\n      }\n    });\n  }\n  var PropModification = function () {\n    function PropModification(spec) {\n      this[\"@@propmod\"] = spec;\n    }\n    PropModification.prototype.execute = function (value) {\n      var _a;\n      var spec = this[\"@@propmod\"];\n      if (spec.add !== undefined) {\n        var term = spec.add;\n        if (isArray(term)) {\n          return __spreadArray(__spreadArray([], isArray(value) ? value : [], true), term, true).sort();\n        }\n        if (typeof term === 'number') return (Number(value) || 0) + term;\n        if (typeof term === 'bigint') {\n          try {\n            return BigInt(value) + term;\n          } catch (_b) {\n            return BigInt(0) + term;\n          }\n        }\n        throw new TypeError(\"Invalid term \".concat(term));\n      }\n      if (spec.remove !== undefined) {\n        var subtrahend_1 = spec.remove;\n        if (isArray(subtrahend_1)) {\n          return isArray(value) ? value.filter(function (item) {\n            return !subtrahend_1.includes(item);\n          }).sort() : [];\n        }\n        if (typeof subtrahend_1 === 'number') return Number(value) - subtrahend_1;\n        if (typeof subtrahend_1 === 'bigint') {\n          try {\n            return BigInt(value) - subtrahend_1;\n          } catch (_c) {\n            return BigInt(0) - subtrahend_1;\n          }\n        }\n        throw new TypeError(\"Invalid subtrahend \".concat(subtrahend_1));\n      }\n      var prefixToReplace = (_a = spec.replacePrefix) === null || _a === void 0 ? void 0 : _a[0];\n      if (prefixToReplace && typeof value === 'string' && value.startsWith(prefixToReplace)) {\n        return spec.replacePrefix[1] + value.substring(prefixToReplace.length);\n      }\n      return value;\n    };\n    return PropModification;\n  }();\n  var Collection = function () {\n    function Collection() {}\n    Collection.prototype._read = function (fn, cb) {\n      var ctx = this._ctx;\n      return ctx.error ? ctx.table._trans(null, rejection.bind(null, ctx.error)) : ctx.table._trans('readonly', fn).then(cb);\n    };\n    Collection.prototype._write = function (fn) {\n      var ctx = this._ctx;\n      return ctx.error ? ctx.table._trans(null, rejection.bind(null, ctx.error)) : ctx.table._trans('readwrite', fn, \"locked\");\n    };\n    Collection.prototype._addAlgorithm = function (fn) {\n      var ctx = this._ctx;\n      ctx.algorithm = combine(ctx.algorithm, fn);\n    };\n    Collection.prototype._iterate = function (fn, coreTrans) {\n      return iter(this._ctx, fn, coreTrans, this._ctx.table.core);\n    };\n    Collection.prototype.clone = function (props) {\n      var rv = Object.create(this.constructor.prototype),\n        ctx = Object.create(this._ctx);\n      if (props) extend(ctx, props);\n      rv._ctx = ctx;\n      return rv;\n    };\n    Collection.prototype.raw = function () {\n      this._ctx.valueMapper = null;\n      return this;\n    };\n    Collection.prototype.each = function (fn) {\n      var ctx = this._ctx;\n      return this._read(function (trans) {\n        return iter(ctx, fn, trans, ctx.table.core);\n      });\n    };\n    Collection.prototype.count = function (cb) {\n      var _this = this;\n      return this._read(function (trans) {\n        var ctx = _this._ctx;\n        var coreTable = ctx.table.core;\n        if (isPlainKeyRange(ctx, true)) {\n          return coreTable.count({\n            trans: trans,\n            query: {\n              index: getIndexOrStore(ctx, coreTable.schema),\n              range: ctx.range\n            }\n          }).then(function (count) {\n            return Math.min(count, ctx.limit);\n          });\n        } else {\n          var count = 0;\n          return iter(ctx, function () {\n            ++count;\n            return false;\n          }, trans, coreTable).then(function () {\n            return count;\n          });\n        }\n      }).then(cb);\n    };\n    Collection.prototype.sortBy = function (keyPath, cb) {\n      var parts = keyPath.split('.').reverse(),\n        lastPart = parts[0],\n        lastIndex = parts.length - 1;\n      function getval(obj, i) {\n        if (i) return getval(obj[parts[i]], i - 1);\n        return obj[lastPart];\n      }\n      var order = this._ctx.dir === \"next\" ? 1 : -1;\n      function sorter(a, b) {\n        var aVal = getval(a, lastIndex),\n          bVal = getval(b, lastIndex);\n        return cmp(aVal, bVal) * order;\n      }\n      return this.toArray(function (a) {\n        return a.sort(sorter);\n      }).then(cb);\n    };\n    Collection.prototype.toArray = function (cb) {\n      var _this = this;\n      return this._read(function (trans) {\n        var ctx = _this._ctx;\n        if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n          var valueMapper_1 = ctx.valueMapper;\n          var index = getIndexOrStore(ctx, ctx.table.core.schema);\n          return ctx.table.core.query({\n            trans: trans,\n            limit: ctx.limit,\n            values: true,\n            query: {\n              index: index,\n              range: ctx.range\n            }\n          }).then(function (_a) {\n            var result = _a.result;\n            return valueMapper_1 ? result.map(valueMapper_1) : result;\n          });\n        } else {\n          var a_1 = [];\n          return iter(ctx, function (item) {\n            return a_1.push(item);\n          }, trans, ctx.table.core).then(function () {\n            return a_1;\n          });\n        }\n      }, cb);\n    };\n    Collection.prototype.offset = function (offset) {\n      var ctx = this._ctx;\n      if (offset <= 0) return this;\n      ctx.offset += offset;\n      if (isPlainKeyRange(ctx)) {\n        addReplayFilter(ctx, function () {\n          var offsetLeft = offset;\n          return function (cursor, advance) {\n            if (offsetLeft === 0) return true;\n            if (offsetLeft === 1) {\n              --offsetLeft;\n              return false;\n            }\n            advance(function () {\n              cursor.advance(offsetLeft);\n              offsetLeft = 0;\n            });\n            return false;\n          };\n        });\n      } else {\n        addReplayFilter(ctx, function () {\n          var offsetLeft = offset;\n          return function () {\n            return --offsetLeft < 0;\n          };\n        });\n      }\n      return this;\n    };\n    Collection.prototype.limit = function (numRows) {\n      this._ctx.limit = Math.min(this._ctx.limit, numRows);\n      addReplayFilter(this._ctx, function () {\n        var rowsLeft = numRows;\n        return function (cursor, advance, resolve) {\n          if (--rowsLeft <= 0) advance(resolve);\n          return rowsLeft >= 0;\n        };\n      }, true);\n      return this;\n    };\n    Collection.prototype.until = function (filterFunction, bIncludeStopEntry) {\n      addFilter(this._ctx, function (cursor, advance, resolve) {\n        if (filterFunction(cursor.value)) {\n          advance(resolve);\n          return bIncludeStopEntry;\n        } else {\n          return true;\n        }\n      });\n      return this;\n    };\n    Collection.prototype.first = function (cb) {\n      return this.limit(1).toArray(function (a) {\n        return a[0];\n      }).then(cb);\n    };\n    Collection.prototype.last = function (cb) {\n      return this.reverse().first(cb);\n    };\n    Collection.prototype.filter = function (filterFunction) {\n      addFilter(this._ctx, function (cursor) {\n        return filterFunction(cursor.value);\n      });\n      addMatchFilter(this._ctx, filterFunction);\n      return this;\n    };\n    Collection.prototype.and = function (filter) {\n      return this.filter(filter);\n    };\n    Collection.prototype.or = function (indexName) {\n      return new this.db.WhereClause(this._ctx.table, indexName, this);\n    };\n    Collection.prototype.reverse = function () {\n      this._ctx.dir = this._ctx.dir === \"prev\" ? \"next\" : \"prev\";\n      if (this._ondirectionchange) this._ondirectionchange(this._ctx.dir);\n      return this;\n    };\n    Collection.prototype.desc = function () {\n      return this.reverse();\n    };\n    Collection.prototype.eachKey = function (cb) {\n      var ctx = this._ctx;\n      ctx.keysOnly = !ctx.isMatch;\n      return this.each(function (val, cursor) {\n        cb(cursor.key, cursor);\n      });\n    };\n    Collection.prototype.eachUniqueKey = function (cb) {\n      this._ctx.unique = \"unique\";\n      return this.eachKey(cb);\n    };\n    Collection.prototype.eachPrimaryKey = function (cb) {\n      var ctx = this._ctx;\n      ctx.keysOnly = !ctx.isMatch;\n      return this.each(function (val, cursor) {\n        cb(cursor.primaryKey, cursor);\n      });\n    };\n    Collection.prototype.keys = function (cb) {\n      var ctx = this._ctx;\n      ctx.keysOnly = !ctx.isMatch;\n      var a = [];\n      return this.each(function (item, cursor) {\n        a.push(cursor.key);\n      }).then(function () {\n        return a;\n      }).then(cb);\n    };\n    Collection.prototype.primaryKeys = function (cb) {\n      var ctx = this._ctx;\n      if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n        return this._read(function (trans) {\n          var index = getIndexOrStore(ctx, ctx.table.core.schema);\n          return ctx.table.core.query({\n            trans: trans,\n            values: false,\n            limit: ctx.limit,\n            query: {\n              index: index,\n              range: ctx.range\n            }\n          });\n        }).then(function (_a) {\n          var result = _a.result;\n          return result;\n        }).then(cb);\n      }\n      ctx.keysOnly = !ctx.isMatch;\n      var a = [];\n      return this.each(function (item, cursor) {\n        a.push(cursor.primaryKey);\n      }).then(function () {\n        return a;\n      }).then(cb);\n    };\n    Collection.prototype.uniqueKeys = function (cb) {\n      this._ctx.unique = \"unique\";\n      return this.keys(cb);\n    };\n    Collection.prototype.firstKey = function (cb) {\n      return this.limit(1).keys(function (a) {\n        return a[0];\n      }).then(cb);\n    };\n    Collection.prototype.lastKey = function (cb) {\n      return this.reverse().firstKey(cb);\n    };\n    Collection.prototype.distinct = function () {\n      var ctx = this._ctx,\n        idx = ctx.index && ctx.table.schema.idxByName[ctx.index];\n      if (!idx || !idx.multi) return this;\n      var set = {};\n      addFilter(this._ctx, function (cursor) {\n        var strKey = cursor.primaryKey.toString();\n        var found = hasOwn(set, strKey);\n        set[strKey] = true;\n        return !found;\n      });\n      return this;\n    };\n    Collection.prototype.modify = function (changes) {\n      var _this = this;\n      var ctx = this._ctx;\n      return this._write(function (trans) {\n        var modifyer;\n        if (typeof changes === 'function') {\n          modifyer = changes;\n        } else {\n          var keyPaths = keys(changes);\n          var numKeys = keyPaths.length;\n          modifyer = function (item) {\n            var anythingModified = false;\n            for (var i = 0; i < numKeys; ++i) {\n              var keyPath = keyPaths[i];\n              var val = changes[keyPath];\n              var origVal = getByKeyPath(item, keyPath);\n              if (val instanceof PropModification) {\n                setByKeyPath(item, keyPath, val.execute(origVal));\n                anythingModified = true;\n              } else if (origVal !== val) {\n                setByKeyPath(item, keyPath, val);\n                anythingModified = true;\n              }\n            }\n            return anythingModified;\n          };\n        }\n        var coreTable = ctx.table.core;\n        var _a = coreTable.schema.primaryKey,\n          outbound = _a.outbound,\n          extractKey = _a.extractKey;\n        var limit = 200;\n        var modifyChunkSize = _this.db._options.modifyChunkSize;\n        if (modifyChunkSize) {\n          if (typeof modifyChunkSize == 'object') {\n            limit = modifyChunkSize[coreTable.name] || modifyChunkSize['*'] || 200;\n          } else {\n            limit = modifyChunkSize;\n          }\n        }\n        var totalFailures = [];\n        var successCount = 0;\n        var failedKeys = [];\n        var applyMutateResult = function (expectedCount, res) {\n          var failures = res.failures,\n            numFailures = res.numFailures;\n          successCount += expectedCount - numFailures;\n          for (var _i = 0, _a = keys(failures); _i < _a.length; _i++) {\n            var pos = _a[_i];\n            totalFailures.push(failures[pos]);\n          }\n        };\n        return _this.clone().primaryKeys().then(function (keys) {\n          var criteria = isPlainKeyRange(ctx) && ctx.limit === Infinity && (typeof changes !== 'function' || changes === deleteCallback) && {\n            index: ctx.index,\n            range: ctx.range\n          };\n          var nextChunk = function (offset) {\n            var count = Math.min(limit, keys.length - offset);\n            return coreTable.getMany({\n              trans: trans,\n              keys: keys.slice(offset, offset + count),\n              cache: \"immutable\"\n            }).then(function (values) {\n              var addValues = [];\n              var putValues = [];\n              var putKeys = outbound ? [] : null;\n              var deleteKeys = [];\n              for (var i = 0; i < count; ++i) {\n                var origValue = values[i];\n                var ctx_1 = {\n                  value: deepClone(origValue),\n                  primKey: keys[offset + i]\n                };\n                if (modifyer.call(ctx_1, ctx_1.value, ctx_1) !== false) {\n                  if (ctx_1.value == null) {\n                    deleteKeys.push(keys[offset + i]);\n                  } else if (!outbound && cmp(extractKey(origValue), extractKey(ctx_1.value)) !== 0) {\n                    deleteKeys.push(keys[offset + i]);\n                    addValues.push(ctx_1.value);\n                  } else {\n                    putValues.push(ctx_1.value);\n                    if (outbound) putKeys.push(keys[offset + i]);\n                  }\n                }\n              }\n              return Promise.resolve(addValues.length > 0 && coreTable.mutate({\n                trans: trans,\n                type: 'add',\n                values: addValues\n              }).then(function (res) {\n                for (var pos in res.failures) {\n                  deleteKeys.splice(parseInt(pos), 1);\n                }\n                applyMutateResult(addValues.length, res);\n              })).then(function () {\n                return (putValues.length > 0 || criteria && typeof changes === 'object') && coreTable.mutate({\n                  trans: trans,\n                  type: 'put',\n                  keys: putKeys,\n                  values: putValues,\n                  criteria: criteria,\n                  changeSpec: typeof changes !== 'function' && changes,\n                  isAdditionalChunk: offset > 0\n                }).then(function (res) {\n                  return applyMutateResult(putValues.length, res);\n                });\n              }).then(function () {\n                return (deleteKeys.length > 0 || criteria && changes === deleteCallback) && coreTable.mutate({\n                  trans: trans,\n                  type: 'delete',\n                  keys: deleteKeys,\n                  criteria: criteria,\n                  isAdditionalChunk: offset > 0\n                }).then(function (res) {\n                  return applyMutateResult(deleteKeys.length, res);\n                });\n              }).then(function () {\n                return keys.length > offset + count && nextChunk(offset + limit);\n              });\n            });\n          };\n          return nextChunk(0).then(function () {\n            if (totalFailures.length > 0) throw new ModifyError(\"Error modifying one or more objects\", totalFailures, successCount, failedKeys);\n            return keys.length;\n          });\n        });\n      });\n    };\n    Collection.prototype.delete = function () {\n      var ctx = this._ctx,\n        range = ctx.range;\n      if (isPlainKeyRange(ctx) && (ctx.isPrimKey || range.type === 3)) {\n        return this._write(function (trans) {\n          var primaryKey = ctx.table.core.schema.primaryKey;\n          var coreRange = range;\n          return ctx.table.core.count({\n            trans: trans,\n            query: {\n              index: primaryKey,\n              range: coreRange\n            }\n          }).then(function (count) {\n            return ctx.table.core.mutate({\n              trans: trans,\n              type: 'deleteRange',\n              range: coreRange\n            }).then(function (_a) {\n              var failures = _a.failures;\n              _a.lastResult;\n              _a.results;\n              var numFailures = _a.numFailures;\n              if (numFailures) throw new ModifyError(\"Could not delete some values\", Object.keys(failures).map(function (pos) {\n                return failures[pos];\n              }), count - numFailures);\n              return count - numFailures;\n            });\n          });\n        });\n      }\n      return this.modify(deleteCallback);\n    };\n    return Collection;\n  }();\n  var deleteCallback = function (value, ctx) {\n    return ctx.value = null;\n  };\n  function createCollectionConstructor(db) {\n    return makeClassConstructor(Collection.prototype, function Collection(whereClause, keyRangeGenerator) {\n      this.db = db;\n      var keyRange = AnyRange,\n        error = null;\n      if (keyRangeGenerator) try {\n        keyRange = keyRangeGenerator();\n      } catch (ex) {\n        error = ex;\n      }\n      var whereCtx = whereClause._ctx;\n      var table = whereCtx.table;\n      var readingHook = table.hook.reading.fire;\n      this._ctx = {\n        table: table,\n        index: whereCtx.index,\n        isPrimKey: !whereCtx.index || table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name,\n        range: keyRange,\n        keysOnly: false,\n        dir: \"next\",\n        unique: \"\",\n        algorithm: null,\n        filter: null,\n        replayFilter: null,\n        justLimit: true,\n        isMatch: null,\n        offset: 0,\n        limit: Infinity,\n        error: error,\n        or: whereCtx.or,\n        valueMapper: readingHook !== mirror ? readingHook : null\n      };\n    });\n  }\n  function simpleCompare(a, b) {\n    return a < b ? -1 : a === b ? 0 : 1;\n  }\n  function simpleCompareReverse(a, b) {\n    return a > b ? -1 : a === b ? 0 : 1;\n  }\n  function fail(collectionOrWhereClause, err, T) {\n    var collection = collectionOrWhereClause instanceof WhereClause ? new collectionOrWhereClause.Collection(collectionOrWhereClause) : collectionOrWhereClause;\n    collection._ctx.error = T ? new T(err) : new TypeError(err);\n    return collection;\n  }\n  function emptyCollection(whereClause) {\n    return new whereClause.Collection(whereClause, function () {\n      return rangeEqual(\"\");\n    }).limit(0);\n  }\n  function upperFactory(dir) {\n    return dir === \"next\" ? function (s) {\n      return s.toUpperCase();\n    } : function (s) {\n      return s.toLowerCase();\n    };\n  }\n  function lowerFactory(dir) {\n    return dir === \"next\" ? function (s) {\n      return s.toLowerCase();\n    } : function (s) {\n      return s.toUpperCase();\n    };\n  }\n  function nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {\n    var length = Math.min(key.length, lowerNeedle.length);\n    var llp = -1;\n    for (var i = 0; i < length; ++i) {\n      var lwrKeyChar = lowerKey[i];\n      if (lwrKeyChar !== lowerNeedle[i]) {\n        if (cmp(key[i], upperNeedle[i]) < 0) return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);\n        if (cmp(key[i], lowerNeedle[i]) < 0) return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);\n        if (llp >= 0) return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);\n        return null;\n      }\n      if (cmp(key[i], lwrKeyChar) < 0) llp = i;\n    }\n    if (length < lowerNeedle.length && dir === \"next\") return key + upperNeedle.substr(key.length);\n    if (length < key.length && dir === \"prev\") return key.substr(0, upperNeedle.length);\n    return llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1);\n  }\n  function addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {\n    var upper,\n      lower,\n      compare,\n      upperNeedles,\n      lowerNeedles,\n      direction,\n      nextKeySuffix,\n      needlesLen = needles.length;\n    if (!needles.every(function (s) {\n      return typeof s === 'string';\n    })) {\n      return fail(whereClause, STRING_EXPECTED);\n    }\n    function initDirection(dir) {\n      upper = upperFactory(dir);\n      lower = lowerFactory(dir);\n      compare = dir === \"next\" ? simpleCompare : simpleCompareReverse;\n      var needleBounds = needles.map(function (needle) {\n        return {\n          lower: lower(needle),\n          upper: upper(needle)\n        };\n      }).sort(function (a, b) {\n        return compare(a.lower, b.lower);\n      });\n      upperNeedles = needleBounds.map(function (nb) {\n        return nb.upper;\n      });\n      lowerNeedles = needleBounds.map(function (nb) {\n        return nb.lower;\n      });\n      direction = dir;\n      nextKeySuffix = dir === \"next\" ? \"\" : suffix;\n    }\n    initDirection(\"next\");\n    var c = new whereClause.Collection(whereClause, function () {\n      return createRange(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix);\n    });\n    c._ondirectionchange = function (direction) {\n      initDirection(direction);\n    };\n    var firstPossibleNeedle = 0;\n    c._addAlgorithm(function (cursor, advance, resolve) {\n      var key = cursor.key;\n      if (typeof key !== 'string') return false;\n      var lowerKey = lower(key);\n      if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {\n        return true;\n      } else {\n        var lowestPossibleCasing = null;\n        for (var i = firstPossibleNeedle; i < needlesLen; ++i) {\n          var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);\n          if (casing === null && lowestPossibleCasing === null) firstPossibleNeedle = i + 1;else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {\n            lowestPossibleCasing = casing;\n          }\n        }\n        if (lowestPossibleCasing !== null) {\n          advance(function () {\n            cursor.continue(lowestPossibleCasing + nextKeySuffix);\n          });\n        } else {\n          advance(resolve);\n        }\n        return false;\n      }\n    });\n    return c;\n  }\n  function createRange(lower, upper, lowerOpen, upperOpen) {\n    return {\n      type: 2,\n      lower: lower,\n      upper: upper,\n      lowerOpen: lowerOpen,\n      upperOpen: upperOpen\n    };\n  }\n  function rangeEqual(value) {\n    return {\n      type: 1,\n      lower: value,\n      upper: value\n    };\n  }\n  var WhereClause = function () {\n    function WhereClause() {}\n    Object.defineProperty(WhereClause.prototype, \"Collection\", {\n      get: function () {\n        return this._ctx.table.db.Collection;\n      },\n      enumerable: false,\n      configurable: true\n    });\n    WhereClause.prototype.between = function (lower, upper, includeLower, includeUpper) {\n      includeLower = includeLower !== false;\n      includeUpper = includeUpper === true;\n      try {\n        if (this._cmp(lower, upper) > 0 || this._cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)) return emptyCollection(this);\n        return new this.Collection(this, function () {\n          return createRange(lower, upper, !includeLower, !includeUpper);\n        });\n      } catch (e) {\n        return fail(this, INVALID_KEY_ARGUMENT);\n      }\n    };\n    WhereClause.prototype.equals = function (value) {\n      if (value == null) return fail(this, INVALID_KEY_ARGUMENT);\n      return new this.Collection(this, function () {\n        return rangeEqual(value);\n      });\n    };\n    WhereClause.prototype.above = function (value) {\n      if (value == null) return fail(this, INVALID_KEY_ARGUMENT);\n      return new this.Collection(this, function () {\n        return createRange(value, undefined, true);\n      });\n    };\n    WhereClause.prototype.aboveOrEqual = function (value) {\n      if (value == null) return fail(this, INVALID_KEY_ARGUMENT);\n      return new this.Collection(this, function () {\n        return createRange(value, undefined, false);\n      });\n    };\n    WhereClause.prototype.below = function (value) {\n      if (value == null) return fail(this, INVALID_KEY_ARGUMENT);\n      return new this.Collection(this, function () {\n        return createRange(undefined, value, false, true);\n      });\n    };\n    WhereClause.prototype.belowOrEqual = function (value) {\n      if (value == null) return fail(this, INVALID_KEY_ARGUMENT);\n      return new this.Collection(this, function () {\n        return createRange(undefined, value);\n      });\n    };\n    WhereClause.prototype.startsWith = function (str) {\n      if (typeof str !== 'string') return fail(this, STRING_EXPECTED);\n      return this.between(str, str + maxString, true, true);\n    };\n    WhereClause.prototype.startsWithIgnoreCase = function (str) {\n      if (str === \"\") return this.startsWith(str);\n      return addIgnoreCaseAlgorithm(this, function (x, a) {\n        return x.indexOf(a[0]) === 0;\n      }, [str], maxString);\n    };\n    WhereClause.prototype.equalsIgnoreCase = function (str) {\n      return addIgnoreCaseAlgorithm(this, function (x, a) {\n        return x === a[0];\n      }, [str], \"\");\n    };\n    WhereClause.prototype.anyOfIgnoreCase = function () {\n      var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n      if (set.length === 0) return emptyCollection(this);\n      return addIgnoreCaseAlgorithm(this, function (x, a) {\n        return a.indexOf(x) !== -1;\n      }, set, \"\");\n    };\n    WhereClause.prototype.startsWithAnyOfIgnoreCase = function () {\n      var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n      if (set.length === 0) return emptyCollection(this);\n      return addIgnoreCaseAlgorithm(this, function (x, a) {\n        return a.some(function (n) {\n          return x.indexOf(n) === 0;\n        });\n      }, set, maxString);\n    };\n    WhereClause.prototype.anyOf = function () {\n      var _this = this;\n      var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n      var compare = this._cmp;\n      try {\n        set.sort(compare);\n      } catch (e) {\n        return fail(this, INVALID_KEY_ARGUMENT);\n      }\n      if (set.length === 0) return emptyCollection(this);\n      var c = new this.Collection(this, function () {\n        return createRange(set[0], set[set.length - 1]);\n      });\n      c._ondirectionchange = function (direction) {\n        compare = direction === \"next\" ? _this._ascending : _this._descending;\n        set.sort(compare);\n      };\n      var i = 0;\n      c._addAlgorithm(function (cursor, advance, resolve) {\n        var key = cursor.key;\n        while (compare(key, set[i]) > 0) {\n          ++i;\n          if (i === set.length) {\n            advance(resolve);\n            return false;\n          }\n        }\n        if (compare(key, set[i]) === 0) {\n          return true;\n        } else {\n          advance(function () {\n            cursor.continue(set[i]);\n          });\n          return false;\n        }\n      });\n      return c;\n    };\n    WhereClause.prototype.notEqual = function (value) {\n      return this.inAnyRange([[minKey, value], [value, this.db._maxKey]], {\n        includeLowers: false,\n        includeUppers: false\n      });\n    };\n    WhereClause.prototype.noneOf = function () {\n      var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n      if (set.length === 0) return new this.Collection(this);\n      try {\n        set.sort(this._ascending);\n      } catch (e) {\n        return fail(this, INVALID_KEY_ARGUMENT);\n      }\n      var ranges = set.reduce(function (res, val) {\n        return res ? res.concat([[res[res.length - 1][1], val]]) : [[minKey, val]];\n      }, null);\n      ranges.push([set[set.length - 1], this.db._maxKey]);\n      return this.inAnyRange(ranges, {\n        includeLowers: false,\n        includeUppers: false\n      });\n    };\n    WhereClause.prototype.inAnyRange = function (ranges, options) {\n      var _this = this;\n      var cmp = this._cmp,\n        ascending = this._ascending,\n        descending = this._descending,\n        min = this._min,\n        max = this._max;\n      if (ranges.length === 0) return emptyCollection(this);\n      if (!ranges.every(function (range) {\n        return range[0] !== undefined && range[1] !== undefined && ascending(range[0], range[1]) <= 0;\n      })) {\n        return fail(this, \"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\", exceptions.InvalidArgument);\n      }\n      var includeLowers = !options || options.includeLowers !== false;\n      var includeUppers = options && options.includeUppers === true;\n      function addRange(ranges, newRange) {\n        var i = 0,\n          l = ranges.length;\n        for (; i < l; ++i) {\n          var range = ranges[i];\n          if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {\n            range[0] = min(range[0], newRange[0]);\n            range[1] = max(range[1], newRange[1]);\n            break;\n          }\n        }\n        if (i === l) ranges.push(newRange);\n        return ranges;\n      }\n      var sortDirection = ascending;\n      function rangeSorter(a, b) {\n        return sortDirection(a[0], b[0]);\n      }\n      var set;\n      try {\n        set = ranges.reduce(addRange, []);\n        set.sort(rangeSorter);\n      } catch (ex) {\n        return fail(this, INVALID_KEY_ARGUMENT);\n      }\n      var rangePos = 0;\n      var keyIsBeyondCurrentEntry = includeUppers ? function (key) {\n        return ascending(key, set[rangePos][1]) > 0;\n      } : function (key) {\n        return ascending(key, set[rangePos][1]) >= 0;\n      };\n      var keyIsBeforeCurrentEntry = includeLowers ? function (key) {\n        return descending(key, set[rangePos][0]) > 0;\n      } : function (key) {\n        return descending(key, set[rangePos][0]) >= 0;\n      };\n      function keyWithinCurrentRange(key) {\n        return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);\n      }\n      var checkKey = keyIsBeyondCurrentEntry;\n      var c = new this.Collection(this, function () {\n        return createRange(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers);\n      });\n      c._ondirectionchange = function (direction) {\n        if (direction === \"next\") {\n          checkKey = keyIsBeyondCurrentEntry;\n          sortDirection = ascending;\n        } else {\n          checkKey = keyIsBeforeCurrentEntry;\n          sortDirection = descending;\n        }\n        set.sort(rangeSorter);\n      };\n      c._addAlgorithm(function (cursor, advance, resolve) {\n        var key = cursor.key;\n        while (checkKey(key)) {\n          ++rangePos;\n          if (rangePos === set.length) {\n            advance(resolve);\n            return false;\n          }\n        }\n        if (keyWithinCurrentRange(key)) {\n          return true;\n        } else if (_this._cmp(key, set[rangePos][1]) === 0 || _this._cmp(key, set[rangePos][0]) === 0) {\n          return false;\n        } else {\n          advance(function () {\n            if (sortDirection === ascending) cursor.continue(set[rangePos][0]);else cursor.continue(set[rangePos][1]);\n          });\n          return false;\n        }\n      });\n      return c;\n    };\n    WhereClause.prototype.startsWithAnyOf = function () {\n      var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n      if (!set.every(function (s) {\n        return typeof s === 'string';\n      })) {\n        return fail(this, \"startsWithAnyOf() only works with strings\");\n      }\n      if (set.length === 0) return emptyCollection(this);\n      return this.inAnyRange(set.map(function (str) {\n        return [str, str + maxString];\n      }));\n    };\n    return WhereClause;\n  }();\n  function createWhereClauseConstructor(db) {\n    return makeClassConstructor(WhereClause.prototype, function WhereClause(table, index, orCollection) {\n      this.db = db;\n      this._ctx = {\n        table: table,\n        index: index === \":id\" ? null : index,\n        or: orCollection\n      };\n      this._cmp = this._ascending = cmp;\n      this._descending = function (a, b) {\n        return cmp(b, a);\n      };\n      this._max = function (a, b) {\n        return cmp(a, b) > 0 ? a : b;\n      };\n      this._min = function (a, b) {\n        return cmp(a, b) < 0 ? a : b;\n      };\n      this._IDBKeyRange = db._deps.IDBKeyRange;\n      if (!this._IDBKeyRange) throw new exceptions.MissingAPI();\n    });\n  }\n  function eventRejectHandler(reject) {\n    return wrap(function (event) {\n      preventDefault(event);\n      reject(event.target.error);\n      return false;\n    });\n  }\n  function preventDefault(event) {\n    if (event.stopPropagation) event.stopPropagation();\n    if (event.preventDefault) event.preventDefault();\n  }\n  var DEXIE_STORAGE_MUTATED_EVENT_NAME = 'storagemutated';\n  var STORAGE_MUTATED_DOM_EVENT_NAME = 'x-storagemutated-1';\n  var globalEvents = Events(null, DEXIE_STORAGE_MUTATED_EVENT_NAME);\n  var Transaction = function () {\n    function Transaction() {}\n    Transaction.prototype._lock = function () {\n      assert(!PSD.global);\n      ++this._reculock;\n      if (this._reculock === 1 && !PSD.global) PSD.lockOwnerFor = this;\n      return this;\n    };\n    Transaction.prototype._unlock = function () {\n      assert(!PSD.global);\n      if (--this._reculock === 0) {\n        if (!PSD.global) PSD.lockOwnerFor = null;\n        while (this._blockedFuncs.length > 0 && !this._locked()) {\n          var fnAndPSD = this._blockedFuncs.shift();\n          try {\n            usePSD(fnAndPSD[1], fnAndPSD[0]);\n          } catch (e) {}\n        }\n      }\n      return this;\n    };\n    Transaction.prototype._locked = function () {\n      return this._reculock && PSD.lockOwnerFor !== this;\n    };\n    Transaction.prototype.create = function (idbtrans) {\n      var _this = this;\n      if (!this.mode) return this;\n      var idbdb = this.db.idbdb;\n      var dbOpenError = this.db._state.dbOpenError;\n      assert(!this.idbtrans);\n      if (!idbtrans && !idbdb) {\n        switch (dbOpenError && dbOpenError.name) {\n          case \"DatabaseClosedError\":\n            throw new exceptions.DatabaseClosed(dbOpenError);\n          case \"MissingAPIError\":\n            throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);\n          default:\n            throw new exceptions.OpenFailed(dbOpenError);\n        }\n      }\n      if (!this.active) throw new exceptions.TransactionInactive();\n      assert(this._completion._state === null);\n      idbtrans = this.idbtrans = idbtrans || (this.db.core ? this.db.core.transaction(this.storeNames, this.mode, {\n        durability: this.chromeTransactionDurability\n      }) : idbdb.transaction(this.storeNames, this.mode, {\n        durability: this.chromeTransactionDurability\n      }));\n      idbtrans.onerror = wrap(function (ev) {\n        preventDefault(ev);\n        _this._reject(idbtrans.error);\n      });\n      idbtrans.onabort = wrap(function (ev) {\n        preventDefault(ev);\n        _this.active && _this._reject(new exceptions.Abort(idbtrans.error));\n        _this.active = false;\n        _this.on(\"abort\").fire(ev);\n      });\n      idbtrans.oncomplete = wrap(function () {\n        _this.active = false;\n        _this._resolve();\n        if ('mutatedParts' in idbtrans) {\n          globalEvents.storagemutated.fire(idbtrans[\"mutatedParts\"]);\n        }\n      });\n      return this;\n    };\n    Transaction.prototype._promise = function (mode, fn, bWriteLock) {\n      var _this = this;\n      if (mode === 'readwrite' && this.mode !== 'readwrite') return rejection(new exceptions.ReadOnly(\"Transaction is readonly\"));\n      if (!this.active) return rejection(new exceptions.TransactionInactive());\n      if (this._locked()) {\n        return new DexiePromise(function (resolve, reject) {\n          _this._blockedFuncs.push([function () {\n            _this._promise(mode, fn, bWriteLock).then(resolve, reject);\n          }, PSD]);\n        });\n      } else if (bWriteLock) {\n        return newScope(function () {\n          var p = new DexiePromise(function (resolve, reject) {\n            _this._lock();\n            var rv = fn(resolve, reject, _this);\n            if (rv && rv.then) rv.then(resolve, reject);\n          });\n          p.finally(function () {\n            return _this._unlock();\n          });\n          p._lib = true;\n          return p;\n        });\n      } else {\n        var p = new DexiePromise(function (resolve, reject) {\n          var rv = fn(resolve, reject, _this);\n          if (rv && rv.then) rv.then(resolve, reject);\n        });\n        p._lib = true;\n        return p;\n      }\n    };\n    Transaction.prototype._root = function () {\n      return this.parent ? this.parent._root() : this;\n    };\n    Transaction.prototype.waitFor = function (promiseLike) {\n      var root = this._root();\n      var promise = DexiePromise.resolve(promiseLike);\n      if (root._waitingFor) {\n        root._waitingFor = root._waitingFor.then(function () {\n          return promise;\n        });\n      } else {\n        root._waitingFor = promise;\n        root._waitingQueue = [];\n        var store = root.idbtrans.objectStore(root.storeNames[0]);\n        (function spin() {\n          ++root._spinCount;\n          while (root._waitingQueue.length) root._waitingQueue.shift()();\n          if (root._waitingFor) store.get(-Infinity).onsuccess = spin;\n        })();\n      }\n      var currentWaitPromise = root._waitingFor;\n      return new DexiePromise(function (resolve, reject) {\n        promise.then(function (res) {\n          return root._waitingQueue.push(wrap(resolve.bind(null, res)));\n        }, function (err) {\n          return root._waitingQueue.push(wrap(reject.bind(null, err)));\n        }).finally(function () {\n          if (root._waitingFor === currentWaitPromise) {\n            root._waitingFor = null;\n          }\n        });\n      });\n    };\n    Transaction.prototype.abort = function () {\n      if (this.active) {\n        this.active = false;\n        if (this.idbtrans) this.idbtrans.abort();\n        this._reject(new exceptions.Abort());\n      }\n    };\n    Transaction.prototype.table = function (tableName) {\n      var memoizedTables = this._memoizedTables || (this._memoizedTables = {});\n      if (hasOwn(memoizedTables, tableName)) return memoizedTables[tableName];\n      var tableSchema = this.schema[tableName];\n      if (!tableSchema) {\n        throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n      }\n      var transactionBoundTable = new this.db.Table(tableName, tableSchema, this);\n      transactionBoundTable.core = this.db.core.table(tableName);\n      memoizedTables[tableName] = transactionBoundTable;\n      return transactionBoundTable;\n    };\n    return Transaction;\n  }();\n  function createTransactionConstructor(db) {\n    return makeClassConstructor(Transaction.prototype, function Transaction(mode, storeNames, dbschema, chromeTransactionDurability, parent) {\n      var _this = this;\n      this.db = db;\n      this.mode = mode;\n      this.storeNames = storeNames;\n      this.schema = dbschema;\n      this.chromeTransactionDurability = chromeTransactionDurability;\n      this.idbtrans = null;\n      this.on = Events(this, \"complete\", \"error\", \"abort\");\n      this.parent = parent || null;\n      this.active = true;\n      this._reculock = 0;\n      this._blockedFuncs = [];\n      this._resolve = null;\n      this._reject = null;\n      this._waitingFor = null;\n      this._waitingQueue = null;\n      this._spinCount = 0;\n      this._completion = new DexiePromise(function (resolve, reject) {\n        _this._resolve = resolve;\n        _this._reject = reject;\n      });\n      this._completion.then(function () {\n        _this.active = false;\n        _this.on.complete.fire();\n      }, function (e) {\n        var wasActive = _this.active;\n        _this.active = false;\n        _this.on.error.fire(e);\n        _this.parent ? _this.parent._reject(e) : wasActive && _this.idbtrans && _this.idbtrans.abort();\n        return rejection(e);\n      });\n    });\n  }\n  function createIndexSpec(name, keyPath, unique, multi, auto, compound, isPrimKey) {\n    return {\n      name: name,\n      keyPath: keyPath,\n      unique: unique,\n      multi: multi,\n      auto: auto,\n      compound: compound,\n      src: (unique && !isPrimKey ? '&' : '') + (multi ? '*' : '') + (auto ? \"++\" : \"\") + nameFromKeyPath(keyPath)\n    };\n  }\n  function nameFromKeyPath(keyPath) {\n    return typeof keyPath === 'string' ? keyPath : keyPath ? '[' + [].join.call(keyPath, '+') + ']' : \"\";\n  }\n  function createTableSchema(name, primKey, indexes) {\n    return {\n      name: name,\n      primKey: primKey,\n      indexes: indexes,\n      mappedClass: null,\n      idxByName: arrayToObject(indexes, function (index) {\n        return [index.name, index];\n      })\n    };\n  }\n  function safariMultiStoreFix(storeNames) {\n    return storeNames.length === 1 ? storeNames[0] : storeNames;\n  }\n  var getMaxKey = function (IdbKeyRange) {\n    try {\n      IdbKeyRange.only([[]]);\n      getMaxKey = function () {\n        return [[]];\n      };\n      return [[]];\n    } catch (e) {\n      getMaxKey = function () {\n        return maxString;\n      };\n      return maxString;\n    }\n  };\n  function getKeyExtractor(keyPath) {\n    if (keyPath == null) {\n      return function () {\n        return undefined;\n      };\n    } else if (typeof keyPath === 'string') {\n      return getSinglePathKeyExtractor(keyPath);\n    } else {\n      return function (obj) {\n        return getByKeyPath(obj, keyPath);\n      };\n    }\n  }\n  function getSinglePathKeyExtractor(keyPath) {\n    var split = keyPath.split('.');\n    if (split.length === 1) {\n      return function (obj) {\n        return obj[keyPath];\n      };\n    } else {\n      return function (obj) {\n        return getByKeyPath(obj, keyPath);\n      };\n    }\n  }\n  function arrayify(arrayLike) {\n    return [].slice.call(arrayLike);\n  }\n  var _id_counter = 0;\n  function getKeyPathAlias(keyPath) {\n    return keyPath == null ? \":id\" : typeof keyPath === 'string' ? keyPath : \"[\".concat(keyPath.join('+'), \"]\");\n  }\n  function createDBCore(db, IdbKeyRange, tmpTrans) {\n    function extractSchema(db, trans) {\n      var tables = arrayify(db.objectStoreNames);\n      return {\n        schema: {\n          name: db.name,\n          tables: tables.map(function (table) {\n            return trans.objectStore(table);\n          }).map(function (store) {\n            var keyPath = store.keyPath,\n              autoIncrement = store.autoIncrement;\n            var compound = isArray(keyPath);\n            var outbound = keyPath == null;\n            var indexByKeyPath = {};\n            var result = {\n              name: store.name,\n              primaryKey: {\n                name: null,\n                isPrimaryKey: true,\n                outbound: outbound,\n                compound: compound,\n                keyPath: keyPath,\n                autoIncrement: autoIncrement,\n                unique: true,\n                extractKey: getKeyExtractor(keyPath)\n              },\n              indexes: arrayify(store.indexNames).map(function (indexName) {\n                return store.index(indexName);\n              }).map(function (index) {\n                var name = index.name,\n                  unique = index.unique,\n                  multiEntry = index.multiEntry,\n                  keyPath = index.keyPath;\n                var compound = isArray(keyPath);\n                var result = {\n                  name: name,\n                  compound: compound,\n                  keyPath: keyPath,\n                  unique: unique,\n                  multiEntry: multiEntry,\n                  extractKey: getKeyExtractor(keyPath)\n                };\n                indexByKeyPath[getKeyPathAlias(keyPath)] = result;\n                return result;\n              }),\n              getIndexByKeyPath: function (keyPath) {\n                return indexByKeyPath[getKeyPathAlias(keyPath)];\n              }\n            };\n            indexByKeyPath[\":id\"] = result.primaryKey;\n            if (keyPath != null) {\n              indexByKeyPath[getKeyPathAlias(keyPath)] = result.primaryKey;\n            }\n            return result;\n          })\n        },\n        hasGetAll: tables.length > 0 && 'getAll' in trans.objectStore(tables[0]) && !(typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) && !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) && [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604)\n      };\n    }\n    function makeIDBKeyRange(range) {\n      if (range.type === 3) return null;\n      if (range.type === 4) throw new Error(\"Cannot convert never type to IDBKeyRange\");\n      var lower = range.lower,\n        upper = range.upper,\n        lowerOpen = range.lowerOpen,\n        upperOpen = range.upperOpen;\n      var idbRange = lower === undefined ? upper === undefined ? null : IdbKeyRange.upperBound(upper, !!upperOpen) : upper === undefined ? IdbKeyRange.lowerBound(lower, !!lowerOpen) : IdbKeyRange.bound(lower, upper, !!lowerOpen, !!upperOpen);\n      return idbRange;\n    }\n    function createDbCoreTable(tableSchema) {\n      var tableName = tableSchema.name;\n      function mutate(_a) {\n        var trans = _a.trans,\n          type = _a.type,\n          keys = _a.keys,\n          values = _a.values,\n          range = _a.range;\n        return new Promise(function (resolve, reject) {\n          resolve = wrap(resolve);\n          var store = trans.objectStore(tableName);\n          var outbound = store.keyPath == null;\n          var isAddOrPut = type === \"put\" || type === \"add\";\n          if (!isAddOrPut && type !== 'delete' && type !== 'deleteRange') throw new Error(\"Invalid operation type: \" + type);\n          var length = (keys || values || {\n            length: 1\n          }).length;\n          if (keys && values && keys.length !== values.length) {\n            throw new Error(\"Given keys array must have same length as given values array.\");\n          }\n          if (length === 0) return resolve({\n            numFailures: 0,\n            failures: {},\n            results: [],\n            lastResult: undefined\n          });\n          var req;\n          var reqs = [];\n          var failures = [];\n          var numFailures = 0;\n          var errorHandler = function (event) {\n            ++numFailures;\n            preventDefault(event);\n          };\n          if (type === 'deleteRange') {\n            if (range.type === 4) return resolve({\n              numFailures: numFailures,\n              failures: failures,\n              results: [],\n              lastResult: undefined\n            });\n            if (range.type === 3) reqs.push(req = store.clear());else reqs.push(req = store.delete(makeIDBKeyRange(range)));\n          } else {\n            var _a = isAddOrPut ? outbound ? [values, keys] : [values, null] : [keys, null],\n              args1 = _a[0],\n              args2 = _a[1];\n            if (isAddOrPut) {\n              for (var i = 0; i < length; ++i) {\n                reqs.push(req = args2 && args2[i] !== undefined ? store[type](args1[i], args2[i]) : store[type](args1[i]));\n                req.onerror = errorHandler;\n              }\n            } else {\n              for (var i = 0; i < length; ++i) {\n                reqs.push(req = store[type](args1[i]));\n                req.onerror = errorHandler;\n              }\n            }\n          }\n          var done = function (event) {\n            var lastResult = event.target.result;\n            reqs.forEach(function (req, i) {\n              return req.error != null && (failures[i] = req.error);\n            });\n            resolve({\n              numFailures: numFailures,\n              failures: failures,\n              results: type === \"delete\" ? keys : reqs.map(function (req) {\n                return req.result;\n              }),\n              lastResult: lastResult\n            });\n          };\n          req.onerror = function (event) {\n            errorHandler(event);\n            done(event);\n          };\n          req.onsuccess = done;\n        });\n      }\n      function openCursor(_a) {\n        var trans = _a.trans,\n          values = _a.values,\n          query = _a.query,\n          reverse = _a.reverse,\n          unique = _a.unique;\n        return new Promise(function (resolve, reject) {\n          resolve = wrap(resolve);\n          var index = query.index,\n            range = query.range;\n          var store = trans.objectStore(tableName);\n          var source = index.isPrimaryKey ? store : store.index(index.name);\n          var direction = reverse ? unique ? \"prevunique\" : \"prev\" : unique ? \"nextunique\" : \"next\";\n          var req = values || !('openKeyCursor' in source) ? source.openCursor(makeIDBKeyRange(range), direction) : source.openKeyCursor(makeIDBKeyRange(range), direction);\n          req.onerror = eventRejectHandler(reject);\n          req.onsuccess = wrap(function (ev) {\n            var cursor = req.result;\n            if (!cursor) {\n              resolve(null);\n              return;\n            }\n            cursor.___id = ++_id_counter;\n            cursor.done = false;\n            var _cursorContinue = cursor.continue.bind(cursor);\n            var _cursorContinuePrimaryKey = cursor.continuePrimaryKey;\n            if (_cursorContinuePrimaryKey) _cursorContinuePrimaryKey = _cursorContinuePrimaryKey.bind(cursor);\n            var _cursorAdvance = cursor.advance.bind(cursor);\n            var doThrowCursorIsNotStarted = function () {\n              throw new Error(\"Cursor not started\");\n            };\n            var doThrowCursorIsStopped = function () {\n              throw new Error(\"Cursor not stopped\");\n            };\n            cursor.trans = trans;\n            cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsNotStarted;\n            cursor.fail = wrap(reject);\n            cursor.next = function () {\n              var _this = this;\n              var gotOne = 1;\n              return this.start(function () {\n                return gotOne-- ? _this.continue() : _this.stop();\n              }).then(function () {\n                return _this;\n              });\n            };\n            cursor.start = function (callback) {\n              var iterationPromise = new Promise(function (resolveIteration, rejectIteration) {\n                resolveIteration = wrap(resolveIteration);\n                req.onerror = eventRejectHandler(rejectIteration);\n                cursor.fail = rejectIteration;\n                cursor.stop = function (value) {\n                  cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsStopped;\n                  resolveIteration(value);\n                };\n              });\n              var guardedCallback = function () {\n                if (req.result) {\n                  try {\n                    callback();\n                  } catch (err) {\n                    cursor.fail(err);\n                  }\n                } else {\n                  cursor.done = true;\n                  cursor.start = function () {\n                    throw new Error(\"Cursor behind last entry\");\n                  };\n                  cursor.stop();\n                }\n              };\n              req.onsuccess = wrap(function (ev) {\n                req.onsuccess = guardedCallback;\n                guardedCallback();\n              });\n              cursor.continue = _cursorContinue;\n              cursor.continuePrimaryKey = _cursorContinuePrimaryKey;\n              cursor.advance = _cursorAdvance;\n              guardedCallback();\n              return iterationPromise;\n            };\n            resolve(cursor);\n          }, reject);\n        });\n      }\n      function query(hasGetAll) {\n        return function (request) {\n          return new Promise(function (resolve, reject) {\n            resolve = wrap(resolve);\n            var trans = request.trans,\n              values = request.values,\n              limit = request.limit,\n              query = request.query;\n            var nonInfinitLimit = limit === Infinity ? undefined : limit;\n            var index = query.index,\n              range = query.range;\n            var store = trans.objectStore(tableName);\n            var source = index.isPrimaryKey ? store : store.index(index.name);\n            var idbKeyRange = makeIDBKeyRange(range);\n            if (limit === 0) return resolve({\n              result: []\n            });\n            if (hasGetAll) {\n              var req = values ? source.getAll(idbKeyRange, nonInfinitLimit) : source.getAllKeys(idbKeyRange, nonInfinitLimit);\n              req.onsuccess = function (event) {\n                return resolve({\n                  result: event.target.result\n                });\n              };\n              req.onerror = eventRejectHandler(reject);\n            } else {\n              var count_1 = 0;\n              var req_1 = values || !('openKeyCursor' in source) ? source.openCursor(idbKeyRange) : source.openKeyCursor(idbKeyRange);\n              var result_1 = [];\n              req_1.onsuccess = function (event) {\n                var cursor = req_1.result;\n                if (!cursor) return resolve({\n                  result: result_1\n                });\n                result_1.push(values ? cursor.value : cursor.primaryKey);\n                if (++count_1 === limit) return resolve({\n                  result: result_1\n                });\n                cursor.continue();\n              };\n              req_1.onerror = eventRejectHandler(reject);\n            }\n          });\n        };\n      }\n      return {\n        name: tableName,\n        schema: tableSchema,\n        mutate: mutate,\n        getMany: function (_a) {\n          var trans = _a.trans,\n            keys = _a.keys;\n          return new Promise(function (resolve, reject) {\n            resolve = wrap(resolve);\n            var store = trans.objectStore(tableName);\n            var length = keys.length;\n            var result = new Array(length);\n            var keyCount = 0;\n            var callbackCount = 0;\n            var req;\n            var successHandler = function (event) {\n              var req = event.target;\n              if ((result[req._pos] = req.result) != null) ;\n              if (++callbackCount === keyCount) resolve(result);\n            };\n            var errorHandler = eventRejectHandler(reject);\n            for (var i = 0; i < length; ++i) {\n              var key = keys[i];\n              if (key != null) {\n                req = store.get(keys[i]);\n                req._pos = i;\n                req.onsuccess = successHandler;\n                req.onerror = errorHandler;\n                ++keyCount;\n              }\n            }\n            if (keyCount === 0) resolve(result);\n          });\n        },\n        get: function (_a) {\n          var trans = _a.trans,\n            key = _a.key;\n          return new Promise(function (resolve, reject) {\n            resolve = wrap(resolve);\n            var store = trans.objectStore(tableName);\n            var req = store.get(key);\n            req.onsuccess = function (event) {\n              return resolve(event.target.result);\n            };\n            req.onerror = eventRejectHandler(reject);\n          });\n        },\n        query: query(hasGetAll),\n        openCursor: openCursor,\n        count: function (_a) {\n          var query = _a.query,\n            trans = _a.trans;\n          var index = query.index,\n            range = query.range;\n          return new Promise(function (resolve, reject) {\n            var store = trans.objectStore(tableName);\n            var source = index.isPrimaryKey ? store : store.index(index.name);\n            var idbKeyRange = makeIDBKeyRange(range);\n            var req = idbKeyRange ? source.count(idbKeyRange) : source.count();\n            req.onsuccess = wrap(function (ev) {\n              return resolve(ev.target.result);\n            });\n            req.onerror = eventRejectHandler(reject);\n          });\n        }\n      };\n    }\n    var _a = extractSchema(db, tmpTrans),\n      schema = _a.schema,\n      hasGetAll = _a.hasGetAll;\n    var tables = schema.tables.map(function (tableSchema) {\n      return createDbCoreTable(tableSchema);\n    });\n    var tableMap = {};\n    tables.forEach(function (table) {\n      return tableMap[table.name] = table;\n    });\n    return {\n      stack: \"dbcore\",\n      transaction: db.transaction.bind(db),\n      table: function (name) {\n        var result = tableMap[name];\n        if (!result) throw new Error(\"Table '\".concat(name, \"' not found\"));\n        return tableMap[name];\n      },\n      MIN_KEY: -Infinity,\n      MAX_KEY: getMaxKey(IdbKeyRange),\n      schema: schema\n    };\n  }\n  function createMiddlewareStack(stackImpl, middlewares) {\n    return middlewares.reduce(function (down, _a) {\n      var create = _a.create;\n      return __assign(__assign({}, down), create(down));\n    }, stackImpl);\n  }\n  function createMiddlewareStacks(middlewares, idbdb, _a, tmpTrans) {\n    var IDBKeyRange = _a.IDBKeyRange;\n    _a.indexedDB;\n    var dbcore = createMiddlewareStack(createDBCore(idbdb, IDBKeyRange, tmpTrans), middlewares.dbcore);\n    return {\n      dbcore: dbcore\n    };\n  }\n  function generateMiddlewareStacks(db, tmpTrans) {\n    var idbdb = tmpTrans.db;\n    var stacks = createMiddlewareStacks(db._middlewares, idbdb, db._deps, tmpTrans);\n    db.core = stacks.dbcore;\n    db.tables.forEach(function (table) {\n      var tableName = table.name;\n      if (db.core.schema.tables.some(function (tbl) {\n        return tbl.name === tableName;\n      })) {\n        table.core = db.core.table(tableName);\n        if (db[tableName] instanceof db.Table) {\n          db[tableName].core = table.core;\n        }\n      }\n    });\n  }\n  function setApiOnPlace(db, objs, tableNames, dbschema) {\n    tableNames.forEach(function (tableName) {\n      var schema = dbschema[tableName];\n      objs.forEach(function (obj) {\n        var propDesc = getPropertyDescriptor(obj, tableName);\n        if (!propDesc || \"value\" in propDesc && propDesc.value === undefined) {\n          if (obj === db.Transaction.prototype || obj instanceof db.Transaction) {\n            setProp(obj, tableName, {\n              get: function () {\n                return this.table(tableName);\n              },\n              set: function (value) {\n                defineProperty(this, tableName, {\n                  value: value,\n                  writable: true,\n                  configurable: true,\n                  enumerable: true\n                });\n              }\n            });\n          } else {\n            obj[tableName] = new db.Table(tableName, schema);\n          }\n        }\n      });\n    });\n  }\n  function removeTablesApi(db, objs) {\n    objs.forEach(function (obj) {\n      for (var key in obj) {\n        if (obj[key] instanceof db.Table) delete obj[key];\n      }\n    });\n  }\n  function lowerVersionFirst(a, b) {\n    return a._cfg.version - b._cfg.version;\n  }\n  function runUpgraders(db, oldVersion, idbUpgradeTrans, reject) {\n    var globalSchema = db._dbSchema;\n    if (idbUpgradeTrans.objectStoreNames.contains('$meta') && !globalSchema.$meta) {\n      globalSchema.$meta = createTableSchema(\"$meta\", parseIndexSyntax(\"\")[0], []);\n      db._storeNames.push('$meta');\n    }\n    var trans = db._createTransaction('readwrite', db._storeNames, globalSchema);\n    trans.create(idbUpgradeTrans);\n    trans._completion.catch(reject);\n    var rejectTransaction = trans._reject.bind(trans);\n    var transless = PSD.transless || PSD;\n    newScope(function () {\n      PSD.trans = trans;\n      PSD.transless = transless;\n      if (oldVersion === 0) {\n        keys(globalSchema).forEach(function (tableName) {\n          createTable(idbUpgradeTrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);\n        });\n        generateMiddlewareStacks(db, idbUpgradeTrans);\n        DexiePromise.follow(function () {\n          return db.on.populate.fire(trans);\n        }).catch(rejectTransaction);\n      } else {\n        generateMiddlewareStacks(db, idbUpgradeTrans);\n        return getExistingVersion(db, trans, oldVersion).then(function (oldVersion) {\n          return updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans);\n        }).catch(rejectTransaction);\n      }\n    });\n  }\n  function patchCurrentVersion(db, idbUpgradeTrans) {\n    createMissingTables(db._dbSchema, idbUpgradeTrans);\n    if (idbUpgradeTrans.db.version % 10 === 0 && !idbUpgradeTrans.objectStoreNames.contains('$meta')) {\n      idbUpgradeTrans.db.createObjectStore('$meta').add(Math.ceil(idbUpgradeTrans.db.version / 10 - 1), 'version');\n    }\n    var globalSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);\n    adjustToExistingIndexNames(db, db._dbSchema, idbUpgradeTrans);\n    var diff = getSchemaDiff(globalSchema, db._dbSchema);\n    var _loop_1 = function (tableChange) {\n      if (tableChange.change.length || tableChange.recreate) {\n        console.warn(\"Unable to patch indexes of table \".concat(tableChange.name, \" because it has changes on the type of index or primary key.\"));\n        return {\n          value: void 0\n        };\n      }\n      var store = idbUpgradeTrans.objectStore(tableChange.name);\n      tableChange.add.forEach(function (idx) {\n        if (debug) console.debug(\"Dexie upgrade patch: Creating missing index \".concat(tableChange.name, \".\").concat(idx.src));\n        addIndex(store, idx);\n      });\n    };\n    for (var _i = 0, _a = diff.change; _i < _a.length; _i++) {\n      var tableChange = _a[_i];\n      var state_1 = _loop_1(tableChange);\n      if (typeof state_1 === \"object\") return state_1.value;\n    }\n  }\n  function getExistingVersion(db, trans, oldVersion) {\n    if (trans.storeNames.includes('$meta')) {\n      return trans.table('$meta').get('version').then(function (metaVersion) {\n        return metaVersion != null ? metaVersion : oldVersion;\n      });\n    } else {\n      return DexiePromise.resolve(oldVersion);\n    }\n  }\n  function updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans) {\n    var queue = [];\n    var versions = db._versions;\n    var globalSchema = db._dbSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);\n    var versToRun = versions.filter(function (v) {\n      return v._cfg.version >= oldVersion;\n    });\n    if (versToRun.length === 0) {\n      return DexiePromise.resolve();\n    }\n    versToRun.forEach(function (version) {\n      queue.push(function () {\n        var oldSchema = globalSchema;\n        var newSchema = version._cfg.dbschema;\n        adjustToExistingIndexNames(db, oldSchema, idbUpgradeTrans);\n        adjustToExistingIndexNames(db, newSchema, idbUpgradeTrans);\n        globalSchema = db._dbSchema = newSchema;\n        var diff = getSchemaDiff(oldSchema, newSchema);\n        diff.add.forEach(function (tuple) {\n          createTable(idbUpgradeTrans, tuple[0], tuple[1].primKey, tuple[1].indexes);\n        });\n        diff.change.forEach(function (change) {\n          if (change.recreate) {\n            throw new exceptions.Upgrade(\"Not yet support for changing primary key\");\n          } else {\n            var store_1 = idbUpgradeTrans.objectStore(change.name);\n            change.add.forEach(function (idx) {\n              return addIndex(store_1, idx);\n            });\n            change.change.forEach(function (idx) {\n              store_1.deleteIndex(idx.name);\n              addIndex(store_1, idx);\n            });\n            change.del.forEach(function (idxName) {\n              return store_1.deleteIndex(idxName);\n            });\n          }\n        });\n        var contentUpgrade = version._cfg.contentUpgrade;\n        if (contentUpgrade && version._cfg.version > oldVersion) {\n          generateMiddlewareStacks(db, idbUpgradeTrans);\n          trans._memoizedTables = {};\n          var upgradeSchema_1 = shallowClone(newSchema);\n          diff.del.forEach(function (table) {\n            upgradeSchema_1[table] = oldSchema[table];\n          });\n          removeTablesApi(db, [db.Transaction.prototype]);\n          setApiOnPlace(db, [db.Transaction.prototype], keys(upgradeSchema_1), upgradeSchema_1);\n          trans.schema = upgradeSchema_1;\n          var contentUpgradeIsAsync_1 = isAsyncFunction(contentUpgrade);\n          if (contentUpgradeIsAsync_1) {\n            incrementExpectedAwaits();\n          }\n          var returnValue_1;\n          var promiseFollowed = DexiePromise.follow(function () {\n            returnValue_1 = contentUpgrade(trans);\n            if (returnValue_1) {\n              if (contentUpgradeIsAsync_1) {\n                var decrementor = decrementExpectedAwaits.bind(null, null);\n                returnValue_1.then(decrementor, decrementor);\n              }\n            }\n          });\n          return returnValue_1 && typeof returnValue_1.then === 'function' ? DexiePromise.resolve(returnValue_1) : promiseFollowed.then(function () {\n            return returnValue_1;\n          });\n        }\n      });\n      queue.push(function (idbtrans) {\n        var newSchema = version._cfg.dbschema;\n        deleteRemovedTables(newSchema, idbtrans);\n        removeTablesApi(db, [db.Transaction.prototype]);\n        setApiOnPlace(db, [db.Transaction.prototype], db._storeNames, db._dbSchema);\n        trans.schema = db._dbSchema;\n      });\n      queue.push(function (idbtrans) {\n        if (db.idbdb.objectStoreNames.contains('$meta')) {\n          if (Math.ceil(db.idbdb.version / 10) === version._cfg.version) {\n            db.idbdb.deleteObjectStore('$meta');\n            delete db._dbSchema.$meta;\n            db._storeNames = db._storeNames.filter(function (name) {\n              return name !== '$meta';\n            });\n          } else {\n            idbtrans.objectStore('$meta').put(version._cfg.version, 'version');\n          }\n        }\n      });\n    });\n    function runQueue() {\n      return queue.length ? DexiePromise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) : DexiePromise.resolve();\n    }\n    return runQueue().then(function () {\n      createMissingTables(globalSchema, idbUpgradeTrans);\n    });\n  }\n  function getSchemaDiff(oldSchema, newSchema) {\n    var diff = {\n      del: [],\n      add: [],\n      change: []\n    };\n    var table;\n    for (table in oldSchema) {\n      if (!newSchema[table]) diff.del.push(table);\n    }\n    for (table in newSchema) {\n      var oldDef = oldSchema[table],\n        newDef = newSchema[table];\n      if (!oldDef) {\n        diff.add.push([table, newDef]);\n      } else {\n        var change = {\n          name: table,\n          def: newDef,\n          recreate: false,\n          del: [],\n          add: [],\n          change: []\n        };\n        if ('' + (oldDef.primKey.keyPath || '') !== '' + (newDef.primKey.keyPath || '') || oldDef.primKey.auto !== newDef.primKey.auto) {\n          change.recreate = true;\n          diff.change.push(change);\n        } else {\n          var oldIndexes = oldDef.idxByName;\n          var newIndexes = newDef.idxByName;\n          var idxName = void 0;\n          for (idxName in oldIndexes) {\n            if (!newIndexes[idxName]) change.del.push(idxName);\n          }\n          for (idxName in newIndexes) {\n            var oldIdx = oldIndexes[idxName],\n              newIdx = newIndexes[idxName];\n            if (!oldIdx) change.add.push(newIdx);else if (oldIdx.src !== newIdx.src) change.change.push(newIdx);\n          }\n          if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {\n            diff.change.push(change);\n          }\n        }\n      }\n    }\n    return diff;\n  }\n  function createTable(idbtrans, tableName, primKey, indexes) {\n    var store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ? {\n      keyPath: primKey.keyPath,\n      autoIncrement: primKey.auto\n    } : {\n      autoIncrement: primKey.auto\n    });\n    indexes.forEach(function (idx) {\n      return addIndex(store, idx);\n    });\n    return store;\n  }\n  function createMissingTables(newSchema, idbtrans) {\n    keys(newSchema).forEach(function (tableName) {\n      if (!idbtrans.db.objectStoreNames.contains(tableName)) {\n        if (debug) console.debug('Dexie: Creating missing table', tableName);\n        createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);\n      }\n    });\n  }\n  function deleteRemovedTables(newSchema, idbtrans) {\n    [].slice.call(idbtrans.db.objectStoreNames).forEach(function (storeName) {\n      return newSchema[storeName] == null && idbtrans.db.deleteObjectStore(storeName);\n    });\n  }\n  function addIndex(store, idx) {\n    store.createIndex(idx.name, idx.keyPath, {\n      unique: idx.unique,\n      multiEntry: idx.multi\n    });\n  }\n  function buildGlobalSchema(db, idbdb, tmpTrans) {\n    var globalSchema = {};\n    var dbStoreNames = slice(idbdb.objectStoreNames, 0);\n    dbStoreNames.forEach(function (storeName) {\n      var store = tmpTrans.objectStore(storeName);\n      var keyPath = store.keyPath;\n      var primKey = createIndexSpec(nameFromKeyPath(keyPath), keyPath || \"\", true, false, !!store.autoIncrement, keyPath && typeof keyPath !== \"string\", true);\n      var indexes = [];\n      for (var j = 0; j < store.indexNames.length; ++j) {\n        var idbindex = store.index(store.indexNames[j]);\n        keyPath = idbindex.keyPath;\n        var index = createIndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== \"string\", false);\n        indexes.push(index);\n      }\n      globalSchema[storeName] = createTableSchema(storeName, primKey, indexes);\n    });\n    return globalSchema;\n  }\n  function readGlobalSchema(db, idbdb, tmpTrans) {\n    db.verno = idbdb.version / 10;\n    var globalSchema = db._dbSchema = buildGlobalSchema(db, idbdb, tmpTrans);\n    db._storeNames = slice(idbdb.objectStoreNames, 0);\n    setApiOnPlace(db, [db._allTables], keys(globalSchema), globalSchema);\n  }\n  function verifyInstalledSchema(db, tmpTrans) {\n    var installedSchema = buildGlobalSchema(db, db.idbdb, tmpTrans);\n    var diff = getSchemaDiff(installedSchema, db._dbSchema);\n    return !(diff.add.length || diff.change.some(function (ch) {\n      return ch.add.length || ch.change.length;\n    }));\n  }\n  function adjustToExistingIndexNames(db, schema, idbtrans) {\n    var storeNames = idbtrans.db.objectStoreNames;\n    for (var i = 0; i < storeNames.length; ++i) {\n      var storeName = storeNames[i];\n      var store = idbtrans.objectStore(storeName);\n      db._hasGetAll = 'getAll' in store;\n      for (var j = 0; j < store.indexNames.length; ++j) {\n        var indexName = store.indexNames[j];\n        var keyPath = store.index(indexName).keyPath;\n        var dexieName = typeof keyPath === 'string' ? keyPath : \"[\" + slice(keyPath).join('+') + \"]\";\n        if (schema[storeName]) {\n          var indexSpec = schema[storeName].idxByName[dexieName];\n          if (indexSpec) {\n            indexSpec.name = indexName;\n            delete schema[storeName].idxByName[dexieName];\n            schema[storeName].idxByName[indexName] = indexSpec;\n          }\n        }\n      }\n    }\n    if (typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) && !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) && _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope && [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604) {\n      db._hasGetAll = false;\n    }\n  }\n  function parseIndexSyntax(primKeyAndIndexes) {\n    return primKeyAndIndexes.split(',').map(function (index, indexNum) {\n      index = index.trim();\n      var name = index.replace(/([&*]|\\+\\+)/g, \"\");\n      var keyPath = /^\\[/.test(name) ? name.match(/^\\[(.*)\\]$/)[1].split('+') : name;\n      return createIndexSpec(name, keyPath || null, /\\&/.test(index), /\\*/.test(index), /\\+\\+/.test(index), isArray(keyPath), indexNum === 0);\n    });\n  }\n  var Version = function () {\n    function Version() {}\n    Version.prototype._parseStoresSpec = function (stores, outSchema) {\n      keys(stores).forEach(function (tableName) {\n        if (stores[tableName] !== null) {\n          var indexes = parseIndexSyntax(stores[tableName]);\n          var primKey = indexes.shift();\n          primKey.unique = true;\n          if (primKey.multi) throw new exceptions.Schema(\"Primary key cannot be multi-valued\");\n          indexes.forEach(function (idx) {\n            if (idx.auto) throw new exceptions.Schema(\"Only primary key can be marked as autoIncrement (++)\");\n            if (!idx.keyPath) throw new exceptions.Schema(\"Index must have a name and cannot be an empty string\");\n          });\n          outSchema[tableName] = createTableSchema(tableName, primKey, indexes);\n        }\n      });\n    };\n    Version.prototype.stores = function (stores) {\n      var db = this.db;\n      this._cfg.storesSource = this._cfg.storesSource ? extend(this._cfg.storesSource, stores) : stores;\n      var versions = db._versions;\n      var storesSpec = {};\n      var dbschema = {};\n      versions.forEach(function (version) {\n        extend(storesSpec, version._cfg.storesSource);\n        dbschema = version._cfg.dbschema = {};\n        version._parseStoresSpec(storesSpec, dbschema);\n      });\n      db._dbSchema = dbschema;\n      removeTablesApi(db, [db._allTables, db, db.Transaction.prototype]);\n      setApiOnPlace(db, [db._allTables, db, db.Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);\n      db._storeNames = keys(dbschema);\n      return this;\n    };\n    Version.prototype.upgrade = function (upgradeFunction) {\n      this._cfg.contentUpgrade = promisableChain(this._cfg.contentUpgrade || nop, upgradeFunction);\n      return this;\n    };\n    return Version;\n  }();\n  function createVersionConstructor(db) {\n    return makeClassConstructor(Version.prototype, function Version(versionNumber) {\n      this.db = db;\n      this._cfg = {\n        version: versionNumber,\n        storesSource: null,\n        dbschema: {},\n        tables: {},\n        contentUpgrade: null\n      };\n    });\n  }\n  function getDbNamesTable(indexedDB, IDBKeyRange) {\n    var dbNamesDB = indexedDB[\"_dbNamesDB\"];\n    if (!dbNamesDB) {\n      dbNamesDB = indexedDB[\"_dbNamesDB\"] = new Dexie$1(DBNAMES_DB, {\n        addons: [],\n        indexedDB: indexedDB,\n        IDBKeyRange: IDBKeyRange\n      });\n      dbNamesDB.version(1).stores({\n        dbnames: \"name\"\n      });\n    }\n    return dbNamesDB.table(\"dbnames\");\n  }\n  function hasDatabasesNative(indexedDB) {\n    return indexedDB && typeof indexedDB.databases === \"function\";\n  }\n  function getDatabaseNames(_a) {\n    var indexedDB = _a.indexedDB,\n      IDBKeyRange = _a.IDBKeyRange;\n    return hasDatabasesNative(indexedDB) ? Promise.resolve(indexedDB.databases()).then(function (infos) {\n      return infos.map(function (info) {\n        return info.name;\n      }).filter(function (name) {\n        return name !== DBNAMES_DB;\n      });\n    }) : getDbNamesTable(indexedDB, IDBKeyRange).toCollection().primaryKeys();\n  }\n  function _onDatabaseCreated(_a, name) {\n    var indexedDB = _a.indexedDB,\n      IDBKeyRange = _a.IDBKeyRange;\n    !hasDatabasesNative(indexedDB) && name !== DBNAMES_DB && getDbNamesTable(indexedDB, IDBKeyRange).put({\n      name: name\n    }).catch(nop);\n  }\n  function _onDatabaseDeleted(_a, name) {\n    var indexedDB = _a.indexedDB,\n      IDBKeyRange = _a.IDBKeyRange;\n    !hasDatabasesNative(indexedDB) && name !== DBNAMES_DB && getDbNamesTable(indexedDB, IDBKeyRange).delete(name).catch(nop);\n  }\n  function vip(fn) {\n    return newScope(function () {\n      PSD.letThrough = true;\n      return fn();\n    });\n  }\n  function idbReady() {\n    var isSafari = !navigator.userAgentData && /Safari\\//.test(navigator.userAgent) && !/Chrom(e|ium)\\//.test(navigator.userAgent);\n    if (!isSafari || !indexedDB.databases) return Promise.resolve();\n    var intervalId;\n    return new Promise(function (resolve) {\n      var tryIdb = function () {\n        return indexedDB.databases().finally(resolve);\n      };\n      intervalId = setInterval(tryIdb, 100);\n      tryIdb();\n    }).finally(function () {\n      return clearInterval(intervalId);\n    });\n  }\n  var _a;\n  function isEmptyRange(node) {\n    return !(\"from\" in node);\n  }\n  var RangeSet = function (fromOrTree, to) {\n    if (this) {\n      extend(this, arguments.length ? {\n        d: 1,\n        from: fromOrTree,\n        to: arguments.length > 1 ? to : fromOrTree\n      } : {\n        d: 0\n      });\n    } else {\n      var rv = new RangeSet();\n      if (fromOrTree && \"d\" in fromOrTree) {\n        extend(rv, fromOrTree);\n      }\n      return rv;\n    }\n  };\n  props(RangeSet.prototype, (_a = {\n    add: function (rangeSet) {\n      mergeRanges(this, rangeSet);\n      return this;\n    },\n    addKey: function (key) {\n      addRange(this, key, key);\n      return this;\n    },\n    addKeys: function (keys) {\n      var _this = this;\n      keys.forEach(function (key) {\n        return addRange(_this, key, key);\n      });\n      return this;\n    },\n    hasKey: function (key) {\n      var node = getRangeSetIterator(this).next(key).value;\n      return node && cmp(node.from, key) <= 0 && cmp(node.to, key) >= 0;\n    }\n  }, _a[iteratorSymbol] = function () {\n    return getRangeSetIterator(this);\n  }, _a));\n  function addRange(target, from, to) {\n    var diff = cmp(from, to);\n    if (isNaN(diff)) return;\n    if (diff > 0) throw RangeError();\n    if (isEmptyRange(target)) return extend(target, {\n      from: from,\n      to: to,\n      d: 1\n    });\n    var left = target.l;\n    var right = target.r;\n    if (cmp(to, target.from) < 0) {\n      left ? addRange(left, from, to) : target.l = {\n        from: from,\n        to: to,\n        d: 1,\n        l: null,\n        r: null\n      };\n      return rebalance(target);\n    }\n    if (cmp(from, target.to) > 0) {\n      right ? addRange(right, from, to) : target.r = {\n        from: from,\n        to: to,\n        d: 1,\n        l: null,\n        r: null\n      };\n      return rebalance(target);\n    }\n    if (cmp(from, target.from) < 0) {\n      target.from = from;\n      target.l = null;\n      target.d = right ? right.d + 1 : 1;\n    }\n    if (cmp(to, target.to) > 0) {\n      target.to = to;\n      target.r = null;\n      target.d = target.l ? target.l.d + 1 : 1;\n    }\n    var rightWasCutOff = !target.r;\n    if (left && !target.l) {\n      mergeRanges(target, left);\n    }\n    if (right && rightWasCutOff) {\n      mergeRanges(target, right);\n    }\n  }\n  function mergeRanges(target, newSet) {\n    function _addRangeSet(target, _a) {\n      var from = _a.from,\n        to = _a.to,\n        l = _a.l,\n        r = _a.r;\n      addRange(target, from, to);\n      if (l) _addRangeSet(target, l);\n      if (r) _addRangeSet(target, r);\n    }\n    if (!isEmptyRange(newSet)) _addRangeSet(target, newSet);\n  }\n  function rangesOverlap(rangeSet1, rangeSet2) {\n    var i1 = getRangeSetIterator(rangeSet2);\n    var nextResult1 = i1.next();\n    if (nextResult1.done) return false;\n    var a = nextResult1.value;\n    var i2 = getRangeSetIterator(rangeSet1);\n    var nextResult2 = i2.next(a.from);\n    var b = nextResult2.value;\n    while (!nextResult1.done && !nextResult2.done) {\n      if (cmp(b.from, a.to) <= 0 && cmp(b.to, a.from) >= 0) return true;\n      cmp(a.from, b.from) < 0 ? a = (nextResult1 = i1.next(b.from)).value : b = (nextResult2 = i2.next(a.from)).value;\n    }\n    return false;\n  }\n  function getRangeSetIterator(node) {\n    var state = isEmptyRange(node) ? null : {\n      s: 0,\n      n: node\n    };\n    return {\n      next: function (key) {\n        var keyProvided = arguments.length > 0;\n        while (state) {\n          switch (state.s) {\n            case 0:\n              state.s = 1;\n              if (keyProvided) {\n                while (state.n.l && cmp(key, state.n.from) < 0) state = {\n                  up: state,\n                  n: state.n.l,\n                  s: 1\n                };\n              } else {\n                while (state.n.l) state = {\n                  up: state,\n                  n: state.n.l,\n                  s: 1\n                };\n              }\n            case 1:\n              state.s = 2;\n              if (!keyProvided || cmp(key, state.n.to) <= 0) return {\n                value: state.n,\n                done: false\n              };\n            case 2:\n              if (state.n.r) {\n                state.s = 3;\n                state = {\n                  up: state,\n                  n: state.n.r,\n                  s: 0\n                };\n                continue;\n              }\n            case 3:\n              state = state.up;\n          }\n        }\n        return {\n          done: true\n        };\n      }\n    };\n  }\n  function rebalance(target) {\n    var _a, _b;\n    var diff = (((_a = target.r) === null || _a === void 0 ? void 0 : _a.d) || 0) - (((_b = target.l) === null || _b === void 0 ? void 0 : _b.d) || 0);\n    var r = diff > 1 ? \"r\" : diff < -1 ? \"l\" : \"\";\n    if (r) {\n      var l = r === \"r\" ? \"l\" : \"r\";\n      var rootClone = __assign({}, target);\n      var oldRootRight = target[r];\n      target.from = oldRootRight.from;\n      target.to = oldRootRight.to;\n      target[r] = oldRootRight[r];\n      rootClone[r] = oldRootRight[l];\n      target[l] = rootClone;\n      rootClone.d = computeDepth(rootClone);\n    }\n    target.d = computeDepth(target);\n  }\n  function computeDepth(_a) {\n    var r = _a.r,\n      l = _a.l;\n    return (r ? l ? Math.max(r.d, l.d) : r.d : l ? l.d : 0) + 1;\n  }\n  function extendObservabilitySet(target, newSet) {\n    keys(newSet).forEach(function (part) {\n      if (target[part]) mergeRanges(target[part], newSet[part]);else target[part] = cloneSimpleObjectTree(newSet[part]);\n    });\n    return target;\n  }\n  function obsSetsOverlap(os1, os2) {\n    return os1.all || os2.all || Object.keys(os1).some(function (key) {\n      return os2[key] && rangesOverlap(os2[key], os1[key]);\n    });\n  }\n  var cache = {};\n  var unsignaledParts = {};\n  var isTaskEnqueued = false;\n  function signalSubscribersLazily(part, optimistic) {\n    extendObservabilitySet(unsignaledParts, part);\n    if (!isTaskEnqueued) {\n      isTaskEnqueued = true;\n      setTimeout(function () {\n        isTaskEnqueued = false;\n        var parts = unsignaledParts;\n        unsignaledParts = {};\n        signalSubscribersNow(parts, false);\n      }, 0);\n    }\n  }\n  function signalSubscribersNow(updatedParts, deleteAffectedCacheEntries) {\n    if (deleteAffectedCacheEntries === void 0) {\n      deleteAffectedCacheEntries = false;\n    }\n    var queriesToSignal = new Set();\n    if (updatedParts.all) {\n      for (var _i = 0, _a = Object.values(cache); _i < _a.length; _i++) {\n        var tblCache = _a[_i];\n        collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);\n      }\n    } else {\n      for (var key in updatedParts) {\n        var parts = /^idb\\:\\/\\/(.*)\\/(.*)\\//.exec(key);\n        if (parts) {\n          var dbName = parts[1],\n            tableName = parts[2];\n          var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)];\n          if (tblCache) collectTableSubscribers(tblCache, updatedParts, queriesToSignal, deleteAffectedCacheEntries);\n        }\n      }\n    }\n    queriesToSignal.forEach(function (requery) {\n      return requery();\n    });\n  }\n  function collectTableSubscribers(tblCache, updatedParts, outQueriesToSignal, deleteAffectedCacheEntries) {\n    var updatedEntryLists = [];\n    for (var _i = 0, _a = Object.entries(tblCache.queries.query); _i < _a.length; _i++) {\n      var _b = _a[_i],\n        indexName = _b[0],\n        entries = _b[1];\n      var filteredEntries = [];\n      for (var _c = 0, entries_1 = entries; _c < entries_1.length; _c++) {\n        var entry = entries_1[_c];\n        if (obsSetsOverlap(updatedParts, entry.obsSet)) {\n          entry.subscribers.forEach(function (requery) {\n            return outQueriesToSignal.add(requery);\n          });\n        } else if (deleteAffectedCacheEntries) {\n          filteredEntries.push(entry);\n        }\n      }\n      if (deleteAffectedCacheEntries) updatedEntryLists.push([indexName, filteredEntries]);\n    }\n    if (deleteAffectedCacheEntries) {\n      for (var _d = 0, updatedEntryLists_1 = updatedEntryLists; _d < updatedEntryLists_1.length; _d++) {\n        var _e = updatedEntryLists_1[_d],\n          indexName = _e[0],\n          filteredEntries = _e[1];\n        tblCache.queries.query[indexName] = filteredEntries;\n      }\n    }\n  }\n  function dexieOpen(db) {\n    var state = db._state;\n    var indexedDB = db._deps.indexedDB;\n    if (state.isBeingOpened || db.idbdb) return state.dbReadyPromise.then(function () {\n      return state.dbOpenError ? rejection(state.dbOpenError) : db;\n    });\n    state.isBeingOpened = true;\n    state.dbOpenError = null;\n    state.openComplete = false;\n    var openCanceller = state.openCanceller;\n    var nativeVerToOpen = Math.round(db.verno * 10);\n    var schemaPatchMode = false;\n    function throwIfCancelled() {\n      if (state.openCanceller !== openCanceller) throw new exceptions.DatabaseClosed('db.open() was cancelled');\n    }\n    var resolveDbReady = state.dbReadyResolve,\n      upgradeTransaction = null,\n      wasCreated = false;\n    var tryOpenDB = function () {\n      return new DexiePromise(function (resolve, reject) {\n        throwIfCancelled();\n        if (!indexedDB) throw new exceptions.MissingAPI();\n        var dbName = db.name;\n        var req = state.autoSchema || !nativeVerToOpen ? indexedDB.open(dbName) : indexedDB.open(dbName, nativeVerToOpen);\n        if (!req) throw new exceptions.MissingAPI();\n        req.onerror = eventRejectHandler(reject);\n        req.onblocked = wrap(db._fireOnBlocked);\n        req.onupgradeneeded = wrap(function (e) {\n          upgradeTransaction = req.transaction;\n          if (state.autoSchema && !db._options.allowEmptyDB) {\n            req.onerror = preventDefault;\n            upgradeTransaction.abort();\n            req.result.close();\n            var delreq = indexedDB.deleteDatabase(dbName);\n            delreq.onsuccess = delreq.onerror = wrap(function () {\n              reject(new exceptions.NoSuchDatabase(\"Database \".concat(dbName, \" doesnt exist\")));\n            });\n          } else {\n            upgradeTransaction.onerror = eventRejectHandler(reject);\n            var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion;\n            wasCreated = oldVer < 1;\n            db.idbdb = req.result;\n            if (schemaPatchMode) {\n              patchCurrentVersion(db, upgradeTransaction);\n            }\n            runUpgraders(db, oldVer / 10, upgradeTransaction, reject);\n          }\n        }, reject);\n        req.onsuccess = wrap(function () {\n          upgradeTransaction = null;\n          var idbdb = db.idbdb = req.result;\n          var objectStoreNames = slice(idbdb.objectStoreNames);\n          if (objectStoreNames.length > 0) try {\n            var tmpTrans = idbdb.transaction(safariMultiStoreFix(objectStoreNames), 'readonly');\n            if (state.autoSchema) readGlobalSchema(db, idbdb, tmpTrans);else {\n              adjustToExistingIndexNames(db, db._dbSchema, tmpTrans);\n              if (!verifyInstalledSchema(db, tmpTrans) && !schemaPatchMode) {\n                console.warn(\"Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this.\");\n                idbdb.close();\n                nativeVerToOpen = idbdb.version + 1;\n                schemaPatchMode = true;\n                return resolve(tryOpenDB());\n              }\n            }\n            generateMiddlewareStacks(db, tmpTrans);\n          } catch (e) {}\n          connections.push(db);\n          idbdb.onversionchange = wrap(function (ev) {\n            state.vcFired = true;\n            db.on(\"versionchange\").fire(ev);\n          });\n          idbdb.onclose = wrap(function (ev) {\n            db.on(\"close\").fire(ev);\n          });\n          if (wasCreated) _onDatabaseCreated(db._deps, dbName);\n          resolve();\n        }, reject);\n      }).catch(function (err) {\n        switch (err === null || err === void 0 ? void 0 : err.name) {\n          case \"UnknownError\":\n            if (state.PR1398_maxLoop > 0) {\n              state.PR1398_maxLoop--;\n              console.warn('Dexie: Workaround for Chrome UnknownError on open()');\n              return tryOpenDB();\n            }\n            break;\n          case \"VersionError\":\n            if (nativeVerToOpen > 0) {\n              nativeVerToOpen = 0;\n              return tryOpenDB();\n            }\n            break;\n        }\n        return DexiePromise.reject(err);\n      });\n    };\n    return DexiePromise.race([openCanceller, (typeof navigator === 'undefined' ? DexiePromise.resolve() : idbReady()).then(tryOpenDB)]).then(function () {\n      throwIfCancelled();\n      state.onReadyBeingFired = [];\n      return DexiePromise.resolve(vip(function () {\n        return db.on.ready.fire(db.vip);\n      })).then(function fireRemainders() {\n        if (state.onReadyBeingFired.length > 0) {\n          var remainders_1 = state.onReadyBeingFired.reduce(promisableChain, nop);\n          state.onReadyBeingFired = [];\n          return DexiePromise.resolve(vip(function () {\n            return remainders_1(db.vip);\n          })).then(fireRemainders);\n        }\n      });\n    }).finally(function () {\n      if (state.openCanceller === openCanceller) {\n        state.onReadyBeingFired = null;\n        state.isBeingOpened = false;\n      }\n    }).catch(function (err) {\n      state.dbOpenError = err;\n      try {\n        upgradeTransaction && upgradeTransaction.abort();\n      } catch (_a) {}\n      if (openCanceller === state.openCanceller) {\n        db._close();\n      }\n      return rejection(err);\n    }).finally(function () {\n      state.openComplete = true;\n      resolveDbReady();\n    }).then(function () {\n      if (wasCreated) {\n        var everything_1 = {};\n        db.tables.forEach(function (table) {\n          table.schema.indexes.forEach(function (idx) {\n            if (idx.name) everything_1[\"idb://\".concat(db.name, \"/\").concat(table.name, \"/\").concat(idx.name)] = new RangeSet(-Infinity, [[[]]]);\n          });\n          everything_1[\"idb://\".concat(db.name, \"/\").concat(table.name, \"/\")] = everything_1[\"idb://\".concat(db.name, \"/\").concat(table.name, \"/:dels\")] = new RangeSet(-Infinity, [[[]]]);\n        });\n        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME).fire(everything_1);\n        signalSubscribersNow(everything_1, true);\n      }\n      return db;\n    });\n  }\n  function awaitIterator(iterator) {\n    var callNext = function (result) {\n        return iterator.next(result);\n      },\n      doThrow = function (error) {\n        return iterator.throw(error);\n      },\n      onSuccess = step(callNext),\n      onError = step(doThrow);\n    function step(getNext) {\n      return function (val) {\n        var next = getNext(val),\n          value = next.value;\n        return next.done ? value : !value || typeof value.then !== 'function' ? isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) : value.then(onSuccess, onError);\n      };\n    }\n    return step(callNext)();\n  }\n  function extractTransactionArgs(mode, _tableArgs_, scopeFunc) {\n    var i = arguments.length;\n    if (i < 2) throw new exceptions.InvalidArgument(\"Too few arguments\");\n    var args = new Array(i - 1);\n    while (--i) args[i - 1] = arguments[i];\n    scopeFunc = args.pop();\n    var tables = flatten(args);\n    return [mode, tables, scopeFunc];\n  }\n  function enterTransactionScope(db, mode, storeNames, parentTransaction, scopeFunc) {\n    return DexiePromise.resolve().then(function () {\n      var transless = PSD.transless || PSD;\n      var trans = db._createTransaction(mode, storeNames, db._dbSchema, parentTransaction);\n      trans.explicit = true;\n      var zoneProps = {\n        trans: trans,\n        transless: transless\n      };\n      if (parentTransaction) {\n        trans.idbtrans = parentTransaction.idbtrans;\n      } else {\n        try {\n          trans.create();\n          trans.idbtrans._explicit = true;\n          db._state.PR1398_maxLoop = 3;\n        } catch (ex) {\n          if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {\n            console.warn('Dexie: Need to reopen db');\n            db.close({\n              disableAutoOpen: false\n            });\n            return db.open().then(function () {\n              return enterTransactionScope(db, mode, storeNames, null, scopeFunc);\n            });\n          }\n          return rejection(ex);\n        }\n      }\n      var scopeFuncIsAsync = isAsyncFunction(scopeFunc);\n      if (scopeFuncIsAsync) {\n        incrementExpectedAwaits();\n      }\n      var returnValue;\n      var promiseFollowed = DexiePromise.follow(function () {\n        returnValue = scopeFunc.call(trans, trans);\n        if (returnValue) {\n          if (scopeFuncIsAsync) {\n            var decrementor = decrementExpectedAwaits.bind(null, null);\n            returnValue.then(decrementor, decrementor);\n          } else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {\n            returnValue = awaitIterator(returnValue);\n          }\n        }\n      }, zoneProps);\n      return (returnValue && typeof returnValue.then === 'function' ? DexiePromise.resolve(returnValue).then(function (x) {\n        return trans.active ? x : rejection(new exceptions.PrematureCommit(\"Transaction committed too early. See http://bit.ly/2kdckMn\"));\n      }) : promiseFollowed.then(function () {\n        return returnValue;\n      })).then(function (x) {\n        if (parentTransaction) trans._resolve();\n        return trans._completion.then(function () {\n          return x;\n        });\n      }).catch(function (e) {\n        trans._reject(e);\n        return rejection(e);\n      });\n    });\n  }\n  function pad(a, value, count) {\n    var result = isArray(a) ? a.slice() : [a];\n    for (var i = 0; i < count; ++i) result.push(value);\n    return result;\n  }\n  function createVirtualIndexMiddleware(down) {\n    return __assign(__assign({}, down), {\n      table: function (tableName) {\n        var table = down.table(tableName);\n        var schema = table.schema;\n        var indexLookup = {};\n        var allVirtualIndexes = [];\n        function addVirtualIndexes(keyPath, keyTail, lowLevelIndex) {\n          var keyPathAlias = getKeyPathAlias(keyPath);\n          var indexList = indexLookup[keyPathAlias] = indexLookup[keyPathAlias] || [];\n          var keyLength = keyPath == null ? 0 : typeof keyPath === 'string' ? 1 : keyPath.length;\n          var isVirtual = keyTail > 0;\n          var virtualIndex = __assign(__assign({}, lowLevelIndex), {\n            name: isVirtual ? \"\".concat(keyPathAlias, \"(virtual-from:\").concat(lowLevelIndex.name, \")\") : lowLevelIndex.name,\n            lowLevelIndex: lowLevelIndex,\n            isVirtual: isVirtual,\n            keyTail: keyTail,\n            keyLength: keyLength,\n            extractKey: getKeyExtractor(keyPath),\n            unique: !isVirtual && lowLevelIndex.unique\n          });\n          indexList.push(virtualIndex);\n          if (!virtualIndex.isPrimaryKey) {\n            allVirtualIndexes.push(virtualIndex);\n          }\n          if (keyLength > 1) {\n            var virtualKeyPath = keyLength === 2 ? keyPath[0] : keyPath.slice(0, keyLength - 1);\n            addVirtualIndexes(virtualKeyPath, keyTail + 1, lowLevelIndex);\n          }\n          indexList.sort(function (a, b) {\n            return a.keyTail - b.keyTail;\n          });\n          return virtualIndex;\n        }\n        var primaryKey = addVirtualIndexes(schema.primaryKey.keyPath, 0, schema.primaryKey);\n        indexLookup[\":id\"] = [primaryKey];\n        for (var _i = 0, _a = schema.indexes; _i < _a.length; _i++) {\n          var index = _a[_i];\n          addVirtualIndexes(index.keyPath, 0, index);\n        }\n        function findBestIndex(keyPath) {\n          var result = indexLookup[getKeyPathAlias(keyPath)];\n          return result && result[0];\n        }\n        function translateRange(range, keyTail) {\n          return {\n            type: range.type === 1 ? 2 : range.type,\n            lower: pad(range.lower, range.lowerOpen ? down.MAX_KEY : down.MIN_KEY, keyTail),\n            lowerOpen: true,\n            upper: pad(range.upper, range.upperOpen ? down.MIN_KEY : down.MAX_KEY, keyTail),\n            upperOpen: true\n          };\n        }\n        function translateRequest(req) {\n          var index = req.query.index;\n          return index.isVirtual ? __assign(__assign({}, req), {\n            query: {\n              index: index.lowLevelIndex,\n              range: translateRange(req.query.range, index.keyTail)\n            }\n          }) : req;\n        }\n        var result = __assign(__assign({}, table), {\n          schema: __assign(__assign({}, schema), {\n            primaryKey: primaryKey,\n            indexes: allVirtualIndexes,\n            getIndexByKeyPath: findBestIndex\n          }),\n          count: function (req) {\n            return table.count(translateRequest(req));\n          },\n          query: function (req) {\n            return table.query(translateRequest(req));\n          },\n          openCursor: function (req) {\n            var _a = req.query.index,\n              keyTail = _a.keyTail,\n              isVirtual = _a.isVirtual,\n              keyLength = _a.keyLength;\n            if (!isVirtual) return table.openCursor(req);\n            function createVirtualCursor(cursor) {\n              function _continue(key) {\n                key != null ? cursor.continue(pad(key, req.reverse ? down.MAX_KEY : down.MIN_KEY, keyTail)) : req.unique ? cursor.continue(cursor.key.slice(0, keyLength).concat(req.reverse ? down.MIN_KEY : down.MAX_KEY, keyTail)) : cursor.continue();\n              }\n              var virtualCursor = Object.create(cursor, {\n                continue: {\n                  value: _continue\n                },\n                continuePrimaryKey: {\n                  value: function (key, primaryKey) {\n                    cursor.continuePrimaryKey(pad(key, down.MAX_KEY, keyTail), primaryKey);\n                  }\n                },\n                primaryKey: {\n                  get: function () {\n                    return cursor.primaryKey;\n                  }\n                },\n                key: {\n                  get: function () {\n                    var key = cursor.key;\n                    return keyLength === 1 ? key[0] : key.slice(0, keyLength);\n                  }\n                },\n                value: {\n                  get: function () {\n                    return cursor.value;\n                  }\n                }\n              });\n              return virtualCursor;\n            }\n            return table.openCursor(translateRequest(req)).then(function (cursor) {\n              return cursor && createVirtualCursor(cursor);\n            });\n          }\n        });\n        return result;\n      }\n    });\n  }\n  var virtualIndexMiddleware = {\n    stack: \"dbcore\",\n    name: \"VirtualIndexMiddleware\",\n    level: 1,\n    create: createVirtualIndexMiddleware\n  };\n  function getObjectDiff(a, b, rv, prfx) {\n    rv = rv || {};\n    prfx = prfx || '';\n    keys(a).forEach(function (prop) {\n      if (!hasOwn(b, prop)) {\n        rv[prfx + prop] = undefined;\n      } else {\n        var ap = a[prop],\n          bp = b[prop];\n        if (typeof ap === 'object' && typeof bp === 'object' && ap && bp) {\n          var apTypeName = toStringTag(ap);\n          var bpTypeName = toStringTag(bp);\n          if (apTypeName !== bpTypeName) {\n            rv[prfx + prop] = b[prop];\n          } else if (apTypeName === 'Object') {\n            getObjectDiff(ap, bp, rv, prfx + prop + '.');\n          } else if (ap !== bp) {\n            rv[prfx + prop] = b[prop];\n          }\n        } else if (ap !== bp) rv[prfx + prop] = b[prop];\n      }\n    });\n    keys(b).forEach(function (prop) {\n      if (!hasOwn(a, prop)) {\n        rv[prfx + prop] = b[prop];\n      }\n    });\n    return rv;\n  }\n  function getEffectiveKeys(primaryKey, req) {\n    if (req.type === 'delete') return req.keys;\n    return req.keys || req.values.map(primaryKey.extractKey);\n  }\n  var hooksMiddleware = {\n    stack: \"dbcore\",\n    name: \"HooksMiddleware\",\n    level: 2,\n    create: function (downCore) {\n      return __assign(__assign({}, downCore), {\n        table: function (tableName) {\n          var downTable = downCore.table(tableName);\n          var primaryKey = downTable.schema.primaryKey;\n          var tableMiddleware = __assign(__assign({}, downTable), {\n            mutate: function (req) {\n              var dxTrans = PSD.trans;\n              var _a = dxTrans.table(tableName).hook,\n                deleting = _a.deleting,\n                creating = _a.creating,\n                updating = _a.updating;\n              switch (req.type) {\n                case 'add':\n                  if (creating.fire === nop) break;\n                  return dxTrans._promise('readwrite', function () {\n                    return addPutOrDelete(req);\n                  }, true);\n                case 'put':\n                  if (creating.fire === nop && updating.fire === nop) break;\n                  return dxTrans._promise('readwrite', function () {\n                    return addPutOrDelete(req);\n                  }, true);\n                case 'delete':\n                  if (deleting.fire === nop) break;\n                  return dxTrans._promise('readwrite', function () {\n                    return addPutOrDelete(req);\n                  }, true);\n                case 'deleteRange':\n                  if (deleting.fire === nop) break;\n                  return dxTrans._promise('readwrite', function () {\n                    return deleteRange(req);\n                  }, true);\n              }\n              return downTable.mutate(req);\n              function addPutOrDelete(req) {\n                var dxTrans = PSD.trans;\n                var keys = req.keys || getEffectiveKeys(primaryKey, req);\n                if (!keys) throw new Error(\"Keys missing\");\n                req = req.type === 'add' || req.type === 'put' ? __assign(__assign({}, req), {\n                  keys: keys\n                }) : __assign({}, req);\n                if (req.type !== 'delete') req.values = __spreadArray([], req.values, true);\n                if (req.keys) req.keys = __spreadArray([], req.keys, true);\n                return getExistingValues(downTable, req, keys).then(function (existingValues) {\n                  var contexts = keys.map(function (key, i) {\n                    var existingValue = existingValues[i];\n                    var ctx = {\n                      onerror: null,\n                      onsuccess: null\n                    };\n                    if (req.type === 'delete') {\n                      deleting.fire.call(ctx, key, existingValue, dxTrans);\n                    } else if (req.type === 'add' || existingValue === undefined) {\n                      var generatedPrimaryKey = creating.fire.call(ctx, key, req.values[i], dxTrans);\n                      if (key == null && generatedPrimaryKey != null) {\n                        key = generatedPrimaryKey;\n                        req.keys[i] = key;\n                        if (!primaryKey.outbound) {\n                          setByKeyPath(req.values[i], primaryKey.keyPath, key);\n                        }\n                      }\n                    } else {\n                      var objectDiff = getObjectDiff(existingValue, req.values[i]);\n                      var additionalChanges_1 = updating.fire.call(ctx, objectDiff, key, existingValue, dxTrans);\n                      if (additionalChanges_1) {\n                        var requestedValue_1 = req.values[i];\n                        Object.keys(additionalChanges_1).forEach(function (keyPath) {\n                          if (hasOwn(requestedValue_1, keyPath)) {\n                            requestedValue_1[keyPath] = additionalChanges_1[keyPath];\n                          } else {\n                            setByKeyPath(requestedValue_1, keyPath, additionalChanges_1[keyPath]);\n                          }\n                        });\n                      }\n                    }\n                    return ctx;\n                  });\n                  return downTable.mutate(req).then(function (_a) {\n                    var failures = _a.failures,\n                      results = _a.results,\n                      numFailures = _a.numFailures,\n                      lastResult = _a.lastResult;\n                    for (var i = 0; i < keys.length; ++i) {\n                      var primKey = results ? results[i] : keys[i];\n                      var ctx = contexts[i];\n                      if (primKey == null) {\n                        ctx.onerror && ctx.onerror(failures[i]);\n                      } else {\n                        ctx.onsuccess && ctx.onsuccess(req.type === 'put' && existingValues[i] ? req.values[i] : primKey);\n                      }\n                    }\n                    return {\n                      failures: failures,\n                      results: results,\n                      numFailures: numFailures,\n                      lastResult: lastResult\n                    };\n                  }).catch(function (error) {\n                    contexts.forEach(function (ctx) {\n                      return ctx.onerror && ctx.onerror(error);\n                    });\n                    return Promise.reject(error);\n                  });\n                });\n              }\n              function deleteRange(req) {\n                return deleteNextChunk(req.trans, req.range, 10000);\n              }\n              function deleteNextChunk(trans, range, limit) {\n                return downTable.query({\n                  trans: trans,\n                  values: false,\n                  query: {\n                    index: primaryKey,\n                    range: range\n                  },\n                  limit: limit\n                }).then(function (_a) {\n                  var result = _a.result;\n                  return addPutOrDelete({\n                    type: 'delete',\n                    keys: result,\n                    trans: trans\n                  }).then(function (res) {\n                    if (res.numFailures > 0) return Promise.reject(res.failures[0]);\n                    if (result.length < limit) {\n                      return {\n                        failures: [],\n                        numFailures: 0,\n                        lastResult: undefined\n                      };\n                    } else {\n                      return deleteNextChunk(trans, __assign(__assign({}, range), {\n                        lower: result[result.length - 1],\n                        lowerOpen: true\n                      }), limit);\n                    }\n                  });\n                });\n              }\n            }\n          });\n          return tableMiddleware;\n        }\n      });\n    }\n  };\n  function getExistingValues(table, req, effectiveKeys) {\n    return req.type === \"add\" ? Promise.resolve([]) : table.getMany({\n      trans: req.trans,\n      keys: effectiveKeys,\n      cache: \"immutable\"\n    });\n  }\n  function getFromTransactionCache(keys, cache, clone) {\n    try {\n      if (!cache) return null;\n      if (cache.keys.length < keys.length) return null;\n      var result = [];\n      for (var i = 0, j = 0; i < cache.keys.length && j < keys.length; ++i) {\n        if (cmp(cache.keys[i], keys[j]) !== 0) continue;\n        result.push(clone ? deepClone(cache.values[i]) : cache.values[i]);\n        ++j;\n      }\n      return result.length === keys.length ? result : null;\n    } catch (_a) {\n      return null;\n    }\n  }\n  var cacheExistingValuesMiddleware = {\n    stack: \"dbcore\",\n    level: -1,\n    create: function (core) {\n      return {\n        table: function (tableName) {\n          var table = core.table(tableName);\n          return __assign(__assign({}, table), {\n            getMany: function (req) {\n              if (!req.cache) {\n                return table.getMany(req);\n              }\n              var cachedResult = getFromTransactionCache(req.keys, req.trans[\"_cache\"], req.cache === \"clone\");\n              if (cachedResult) {\n                return DexiePromise.resolve(cachedResult);\n              }\n              return table.getMany(req).then(function (res) {\n                req.trans[\"_cache\"] = {\n                  keys: req.keys,\n                  values: req.cache === \"clone\" ? deepClone(res) : res\n                };\n                return res;\n              });\n            },\n            mutate: function (req) {\n              if (req.type !== \"add\") req.trans[\"_cache\"] = null;\n              return table.mutate(req);\n            }\n          });\n        }\n      };\n    }\n  };\n  function isCachableContext(ctx, table) {\n    return ctx.trans.mode === 'readonly' && !!ctx.subscr && !ctx.trans.explicit && ctx.trans.db._options.cache !== 'disabled' && !table.schema.primaryKey.outbound;\n  }\n  function isCachableRequest(type, req) {\n    switch (type) {\n      case 'query':\n        return req.values && !req.unique;\n      case 'get':\n        return false;\n      case 'getMany':\n        return false;\n      case 'count':\n        return false;\n      case 'openCursor':\n        return false;\n    }\n  }\n  var observabilityMiddleware = {\n    stack: \"dbcore\",\n    level: 0,\n    name: \"Observability\",\n    create: function (core) {\n      var dbName = core.schema.name;\n      var FULL_RANGE = new RangeSet(core.MIN_KEY, core.MAX_KEY);\n      return __assign(__assign({}, core), {\n        transaction: function (stores, mode, options) {\n          if (PSD.subscr && mode !== 'readonly') {\n            throw new exceptions.ReadOnly(\"Readwrite transaction in liveQuery context. Querier source: \".concat(PSD.querier));\n          }\n          return core.transaction(stores, mode, options);\n        },\n        table: function (tableName) {\n          var table = core.table(tableName);\n          var schema = table.schema;\n          var primaryKey = schema.primaryKey,\n            indexes = schema.indexes;\n          var extractKey = primaryKey.extractKey,\n            outbound = primaryKey.outbound;\n          var indexesWithAutoIncPK = primaryKey.autoIncrement && indexes.filter(function (index) {\n            return index.compound && index.keyPath.includes(primaryKey.keyPath);\n          });\n          var tableClone = __assign(__assign({}, table), {\n            mutate: function (req) {\n              var _a, _b;\n              var trans = req.trans;\n              var mutatedParts = req.mutatedParts || (req.mutatedParts = {});\n              var getRangeSet = function (indexName) {\n                var part = \"idb://\".concat(dbName, \"/\").concat(tableName, \"/\").concat(indexName);\n                return mutatedParts[part] || (mutatedParts[part] = new RangeSet());\n              };\n              var pkRangeSet = getRangeSet(\"\");\n              var delsRangeSet = getRangeSet(\":dels\");\n              var type = req.type;\n              var _c = req.type === \"deleteRange\" ? [req.range] : req.type === \"delete\" ? [req.keys] : req.values.length < 50 ? [getEffectiveKeys(primaryKey, req).filter(function (id) {\n                  return id;\n                }), req.values] : [],\n                keys = _c[0],\n                newObjs = _c[1];\n              var oldCache = req.trans[\"_cache\"];\n              if (isArray(keys)) {\n                pkRangeSet.addKeys(keys);\n                var oldObjs = type === 'delete' || keys.length === newObjs.length ? getFromTransactionCache(keys, oldCache) : null;\n                if (!oldObjs) {\n                  delsRangeSet.addKeys(keys);\n                }\n                if (oldObjs || newObjs) {\n                  trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs);\n                }\n              } else if (keys) {\n                var range = {\n                  from: (_a = keys.lower) !== null && _a !== void 0 ? _a : core.MIN_KEY,\n                  to: (_b = keys.upper) !== null && _b !== void 0 ? _b : core.MAX_KEY\n                };\n                delsRangeSet.add(range);\n                pkRangeSet.add(range);\n              } else {\n                pkRangeSet.add(FULL_RANGE);\n                delsRangeSet.add(FULL_RANGE);\n                schema.indexes.forEach(function (idx) {\n                  return getRangeSet(idx.name).add(FULL_RANGE);\n                });\n              }\n              return table.mutate(req).then(function (res) {\n                if (keys && (req.type === 'add' || req.type === 'put')) {\n                  pkRangeSet.addKeys(res.results);\n                  if (indexesWithAutoIncPK) {\n                    indexesWithAutoIncPK.forEach(function (idx) {\n                      var idxVals = req.values.map(function (v) {\n                        return idx.extractKey(v);\n                      });\n                      var pkPos = idx.keyPath.findIndex(function (prop) {\n                        return prop === primaryKey.keyPath;\n                      });\n                      for (var i = 0, len = res.results.length; i < len; ++i) {\n                        idxVals[i][pkPos] = res.results[i];\n                      }\n                      getRangeSet(idx.name).addKeys(idxVals);\n                    });\n                  }\n                }\n                trans.mutatedParts = extendObservabilitySet(trans.mutatedParts || {}, mutatedParts);\n                return res;\n              });\n            }\n          });\n          var getRange = function (_a) {\n            var _b, _c;\n            var _d = _a.query,\n              index = _d.index,\n              range = _d.range;\n            return [index, new RangeSet((_b = range.lower) !== null && _b !== void 0 ? _b : core.MIN_KEY, (_c = range.upper) !== null && _c !== void 0 ? _c : core.MAX_KEY)];\n          };\n          var readSubscribers = {\n            get: function (req) {\n              return [primaryKey, new RangeSet(req.key)];\n            },\n            getMany: function (req) {\n              return [primaryKey, new RangeSet().addKeys(req.keys)];\n            },\n            count: getRange,\n            query: getRange,\n            openCursor: getRange\n          };\n          keys(readSubscribers).forEach(function (method) {\n            tableClone[method] = function (req) {\n              var subscr = PSD.subscr;\n              var isLiveQuery = !!subscr;\n              var cachable = isCachableContext(PSD, table) && isCachableRequest(method, req);\n              var obsSet = cachable ? req.obsSet = {} : subscr;\n              if (isLiveQuery) {\n                var getRangeSet = function (indexName) {\n                  var part = \"idb://\".concat(dbName, \"/\").concat(tableName, \"/\").concat(indexName);\n                  return obsSet[part] || (obsSet[part] = new RangeSet());\n                };\n                var pkRangeSet_1 = getRangeSet(\"\");\n                var delsRangeSet_1 = getRangeSet(\":dels\");\n                var _a = readSubscribers[method](req),\n                  queriedIndex = _a[0],\n                  queriedRanges = _a[1];\n                if (method === 'query' && queriedIndex.isPrimaryKey && !req.values) {\n                  delsRangeSet_1.add(queriedRanges);\n                } else {\n                  getRangeSet(queriedIndex.name || \"\").add(queriedRanges);\n                }\n                if (!queriedIndex.isPrimaryKey) {\n                  if (method === \"count\") {\n                    delsRangeSet_1.add(FULL_RANGE);\n                  } else {\n                    var keysPromise_1 = method === \"query\" && outbound && req.values && table.query(__assign(__assign({}, req), {\n                      values: false\n                    }));\n                    return table[method].apply(this, arguments).then(function (res) {\n                      if (method === \"query\") {\n                        if (outbound && req.values) {\n                          return keysPromise_1.then(function (_a) {\n                            var resultingKeys = _a.result;\n                            pkRangeSet_1.addKeys(resultingKeys);\n                            return res;\n                          });\n                        }\n                        var pKeys = req.values ? res.result.map(extractKey) : res.result;\n                        if (req.values) {\n                          pkRangeSet_1.addKeys(pKeys);\n                        } else {\n                          delsRangeSet_1.addKeys(pKeys);\n                        }\n                      } else if (method === \"openCursor\") {\n                        var cursor_1 = res;\n                        var wantValues_1 = req.values;\n                        return cursor_1 && Object.create(cursor_1, {\n                          key: {\n                            get: function () {\n                              delsRangeSet_1.addKey(cursor_1.primaryKey);\n                              return cursor_1.key;\n                            }\n                          },\n                          primaryKey: {\n                            get: function () {\n                              var pkey = cursor_1.primaryKey;\n                              delsRangeSet_1.addKey(pkey);\n                              return pkey;\n                            }\n                          },\n                          value: {\n                            get: function () {\n                              wantValues_1 && pkRangeSet_1.addKey(cursor_1.primaryKey);\n                              return cursor_1.value;\n                            }\n                          }\n                        });\n                      }\n                      return res;\n                    });\n                  }\n                }\n              }\n              return table[method].apply(this, arguments);\n            };\n          });\n          return tableClone;\n        }\n      });\n    }\n  };\n  function trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs) {\n    function addAffectedIndex(ix) {\n      var rangeSet = getRangeSet(ix.name || \"\");\n      function extractKey(obj) {\n        return obj != null ? ix.extractKey(obj) : null;\n      }\n      var addKeyOrKeys = function (key) {\n        return ix.multiEntry && isArray(key) ? key.forEach(function (key) {\n          return rangeSet.addKey(key);\n        }) : rangeSet.addKey(key);\n      };\n      (oldObjs || newObjs).forEach(function (_, i) {\n        var oldKey = oldObjs && extractKey(oldObjs[i]);\n        var newKey = newObjs && extractKey(newObjs[i]);\n        if (cmp(oldKey, newKey) !== 0) {\n          if (oldKey != null) addKeyOrKeys(oldKey);\n          if (newKey != null) addKeyOrKeys(newKey);\n        }\n      });\n    }\n    schema.indexes.forEach(addAffectedIndex);\n  }\n  function adjustOptimisticFromFailures(tblCache, req, res) {\n    if (res.numFailures === 0) return req;\n    if (req.type === 'deleteRange') {\n      return null;\n    }\n    var numBulkOps = req.keys ? req.keys.length : 'values' in req && req.values ? req.values.length : 1;\n    if (res.numFailures === numBulkOps) {\n      return null;\n    }\n    var clone = __assign({}, req);\n    if (isArray(clone.keys)) {\n      clone.keys = clone.keys.filter(function (_, i) {\n        return !(i in res.failures);\n      });\n    }\n    if ('values' in clone && isArray(clone.values)) {\n      clone.values = clone.values.filter(function (_, i) {\n        return !(i in res.failures);\n      });\n    }\n    return clone;\n  }\n  function isAboveLower(key, range) {\n    return range.lower === undefined ? true : range.lowerOpen ? cmp(key, range.lower) > 0 : cmp(key, range.lower) >= 0;\n  }\n  function isBelowUpper(key, range) {\n    return range.upper === undefined ? true : range.upperOpen ? cmp(key, range.upper) < 0 : cmp(key, range.upper) <= 0;\n  }\n  function isWithinRange(key, range) {\n    return isAboveLower(key, range) && isBelowUpper(key, range);\n  }\n  function applyOptimisticOps(result, req, ops, table, cacheEntry, immutable) {\n    if (!ops || ops.length === 0) return result;\n    var index = req.query.index;\n    var multiEntry = index.multiEntry;\n    var queryRange = req.query.range;\n    var primaryKey = table.schema.primaryKey;\n    var extractPrimKey = primaryKey.extractKey;\n    var extractIndex = index.extractKey;\n    var extractLowLevelIndex = (index.lowLevelIndex || index).extractKey;\n    var finalResult = ops.reduce(function (result, op) {\n      var modifedResult = result;\n      var includedValues = [];\n      if (op.type === 'add' || op.type === 'put') {\n        var includedPKs = new RangeSet();\n        for (var i = op.values.length - 1; i >= 0; --i) {\n          var value = op.values[i];\n          var pk = extractPrimKey(value);\n          if (includedPKs.hasKey(pk)) continue;\n          var key = extractIndex(value);\n          if (multiEntry && isArray(key) ? key.some(function (k) {\n            return isWithinRange(k, queryRange);\n          }) : isWithinRange(key, queryRange)) {\n            includedPKs.addKey(pk);\n            includedValues.push(value);\n          }\n        }\n      }\n      switch (op.type) {\n        case 'add':\n          {\n            var existingKeys_1 = new RangeSet().addKeys(req.values ? result.map(function (v) {\n              return extractPrimKey(v);\n            }) : result);\n            modifedResult = result.concat(req.values ? includedValues.filter(function (v) {\n              var key = extractPrimKey(v);\n              if (existingKeys_1.hasKey(key)) return false;\n              existingKeys_1.addKey(key);\n              return true;\n            }) : includedValues.map(function (v) {\n              return extractPrimKey(v);\n            }).filter(function (k) {\n              if (existingKeys_1.hasKey(k)) return false;\n              existingKeys_1.addKey(k);\n              return true;\n            }));\n            break;\n          }\n        case 'put':\n          {\n            var keySet_1 = new RangeSet().addKeys(op.values.map(function (v) {\n              return extractPrimKey(v);\n            }));\n            modifedResult = result.filter(function (item) {\n              return !keySet_1.hasKey(req.values ? extractPrimKey(item) : item);\n            }).concat(req.values ? includedValues : includedValues.map(function (v) {\n              return extractPrimKey(v);\n            }));\n            break;\n          }\n        case 'delete':\n          var keysToDelete_1 = new RangeSet().addKeys(op.keys);\n          modifedResult = result.filter(function (item) {\n            return !keysToDelete_1.hasKey(req.values ? extractPrimKey(item) : item);\n          });\n          break;\n        case 'deleteRange':\n          var range_1 = op.range;\n          modifedResult = result.filter(function (item) {\n            return !isWithinRange(extractPrimKey(item), range_1);\n          });\n          break;\n      }\n      return modifedResult;\n    }, result);\n    if (finalResult === result) return result;\n    finalResult.sort(function (a, b) {\n      return cmp(extractLowLevelIndex(a), extractLowLevelIndex(b)) || cmp(extractPrimKey(a), extractPrimKey(b));\n    });\n    if (req.limit && req.limit < Infinity) {\n      if (finalResult.length > req.limit) {\n        finalResult.length = req.limit;\n      } else if (result.length === req.limit && finalResult.length < req.limit) {\n        cacheEntry.dirty = true;\n      }\n    }\n    return immutable ? Object.freeze(finalResult) : finalResult;\n  }\n  function areRangesEqual(r1, r2) {\n    return cmp(r1.lower, r2.lower) === 0 && cmp(r1.upper, r2.upper) === 0 && !!r1.lowerOpen === !!r2.lowerOpen && !!r1.upperOpen === !!r2.upperOpen;\n  }\n  function compareLowers(lower1, lower2, lowerOpen1, lowerOpen2) {\n    if (lower1 === undefined) return lower2 !== undefined ? -1 : 0;\n    if (lower2 === undefined) return 1;\n    var c = cmp(lower1, lower2);\n    if (c === 0) {\n      if (lowerOpen1 && lowerOpen2) return 0;\n      if (lowerOpen1) return 1;\n      if (lowerOpen2) return -1;\n    }\n    return c;\n  }\n  function compareUppers(upper1, upper2, upperOpen1, upperOpen2) {\n    if (upper1 === undefined) return upper2 !== undefined ? 1 : 0;\n    if (upper2 === undefined) return -1;\n    var c = cmp(upper1, upper2);\n    if (c === 0) {\n      if (upperOpen1 && upperOpen2) return 0;\n      if (upperOpen1) return -1;\n      if (upperOpen2) return 1;\n    }\n    return c;\n  }\n  function isSuperRange(r1, r2) {\n    return compareLowers(r1.lower, r2.lower, r1.lowerOpen, r2.lowerOpen) <= 0 && compareUppers(r1.upper, r2.upper, r1.upperOpen, r2.upperOpen) >= 0;\n  }\n  function findCompatibleQuery(dbName, tableName, type, req) {\n    var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)];\n    if (!tblCache) return [];\n    var queries = tblCache.queries[type];\n    if (!queries) return [null, false, tblCache, null];\n    var indexName = req.query ? req.query.index.name : null;\n    var entries = queries[indexName || ''];\n    if (!entries) return [null, false, tblCache, null];\n    switch (type) {\n      case 'query':\n        var equalEntry = entries.find(function (entry) {\n          return entry.req.limit === req.limit && entry.req.values === req.values && areRangesEqual(entry.req.query.range, req.query.range);\n        });\n        if (equalEntry) return [equalEntry, true, tblCache, entries];\n        var superEntry = entries.find(function (entry) {\n          var limit = 'limit' in entry.req ? entry.req.limit : Infinity;\n          return limit >= req.limit && (req.values ? entry.req.values : true) && isSuperRange(entry.req.query.range, req.query.range);\n        });\n        return [superEntry, false, tblCache, entries];\n      case 'count':\n        var countQuery = entries.find(function (entry) {\n          return areRangesEqual(entry.req.query.range, req.query.range);\n        });\n        return [countQuery, !!countQuery, tblCache, entries];\n    }\n  }\n  function subscribeToCacheEntry(cacheEntry, container, requery, signal) {\n    cacheEntry.subscribers.add(requery);\n    signal.addEventListener(\"abort\", function () {\n      cacheEntry.subscribers.delete(requery);\n      if (cacheEntry.subscribers.size === 0) {\n        enqueForDeletion(cacheEntry, container);\n      }\n    });\n  }\n  function enqueForDeletion(cacheEntry, container) {\n    setTimeout(function () {\n      if (cacheEntry.subscribers.size === 0) {\n        delArrayItem(container, cacheEntry);\n      }\n    }, 3000);\n  }\n  var cacheMiddleware = {\n    stack: 'dbcore',\n    level: 0,\n    name: 'Cache',\n    create: function (core) {\n      var dbName = core.schema.name;\n      var coreMW = __assign(__assign({}, core), {\n        transaction: function (stores, mode, options) {\n          var idbtrans = core.transaction(stores, mode, options);\n          if (mode === 'readwrite') {\n            var ac_1 = new AbortController();\n            var signal = ac_1.signal;\n            var endTransaction = function (wasCommitted) {\n              return function () {\n                ac_1.abort();\n                if (mode === 'readwrite') {\n                  var affectedSubscribers_1 = new Set();\n                  for (var _i = 0, stores_1 = stores; _i < stores_1.length; _i++) {\n                    var storeName = stores_1[_i];\n                    var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(storeName)];\n                    if (tblCache) {\n                      var table = core.table(storeName);\n                      var ops = tblCache.optimisticOps.filter(function (op) {\n                        return op.trans === idbtrans;\n                      });\n                      if (idbtrans._explicit && wasCommitted && idbtrans.mutatedParts) {\n                        for (var _a = 0, _b = Object.values(tblCache.queries.query); _a < _b.length; _a++) {\n                          var entries = _b[_a];\n                          for (var _c = 0, _d = entries.slice(); _c < _d.length; _c++) {\n                            var entry = _d[_c];\n                            if (obsSetsOverlap(entry.obsSet, idbtrans.mutatedParts)) {\n                              delArrayItem(entries, entry);\n                              entry.subscribers.forEach(function (requery) {\n                                return affectedSubscribers_1.add(requery);\n                              });\n                            }\n                          }\n                        }\n                      } else if (ops.length > 0) {\n                        tblCache.optimisticOps = tblCache.optimisticOps.filter(function (op) {\n                          return op.trans !== idbtrans;\n                        });\n                        for (var _e = 0, _f = Object.values(tblCache.queries.query); _e < _f.length; _e++) {\n                          var entries = _f[_e];\n                          for (var _g = 0, _h = entries.slice(); _g < _h.length; _g++) {\n                            var entry = _h[_g];\n                            if (entry.res != null && idbtrans.mutatedParts) {\n                              if (wasCommitted && !entry.dirty) {\n                                var freezeResults = Object.isFrozen(entry.res);\n                                var modRes = applyOptimisticOps(entry.res, entry.req, ops, table, entry, freezeResults);\n                                if (entry.dirty) {\n                                  delArrayItem(entries, entry);\n                                  entry.subscribers.forEach(function (requery) {\n                                    return affectedSubscribers_1.add(requery);\n                                  });\n                                } else if (modRes !== entry.res) {\n                                  entry.res = modRes;\n                                  entry.promise = DexiePromise.resolve({\n                                    result: modRes\n                                  });\n                                }\n                              } else {\n                                if (entry.dirty) {\n                                  delArrayItem(entries, entry);\n                                }\n                                entry.subscribers.forEach(function (requery) {\n                                  return affectedSubscribers_1.add(requery);\n                                });\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                  affectedSubscribers_1.forEach(function (requery) {\n                    return requery();\n                  });\n                }\n              };\n            };\n            idbtrans.addEventListener('abort', endTransaction(false), {\n              signal: signal\n            });\n            idbtrans.addEventListener('error', endTransaction(false), {\n              signal: signal\n            });\n            idbtrans.addEventListener('complete', endTransaction(true), {\n              signal: signal\n            });\n          }\n          return idbtrans;\n        },\n        table: function (tableName) {\n          var downTable = core.table(tableName);\n          var primKey = downTable.schema.primaryKey;\n          var tableMW = __assign(__assign({}, downTable), {\n            mutate: function (req) {\n              var trans = PSD.trans;\n              if (primKey.outbound || trans.db._options.cache === 'disabled' || trans.explicit || trans.idbtrans.mode !== 'readwrite') {\n                return downTable.mutate(req);\n              }\n              var tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)];\n              if (!tblCache) return downTable.mutate(req);\n              var promise = downTable.mutate(req);\n              if ((req.type === 'add' || req.type === 'put') && (req.values.length >= 50 || getEffectiveKeys(primKey, req).some(function (key) {\n                return key == null;\n              }))) {\n                promise.then(function (res) {\n                  var reqWithResolvedKeys = __assign(__assign({}, req), {\n                    values: req.values.map(function (value, i) {\n                      var _a;\n                      if (res.failures[i]) return value;\n                      var valueWithKey = ((_a = primKey.keyPath) === null || _a === void 0 ? void 0 : _a.includes('.')) ? deepClone(value) : __assign({}, value);\n                      setByKeyPath(valueWithKey, primKey.keyPath, res.results[i]);\n                      return valueWithKey;\n                    })\n                  });\n                  var adjustedReq = adjustOptimisticFromFailures(tblCache, reqWithResolvedKeys, res);\n                  tblCache.optimisticOps.push(adjustedReq);\n                  queueMicrotask(function () {\n                    return req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                  });\n                });\n              } else {\n                tblCache.optimisticOps.push(req);\n                req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                promise.then(function (res) {\n                  if (res.numFailures > 0) {\n                    delArrayItem(tblCache.optimisticOps, req);\n                    var adjustedReq = adjustOptimisticFromFailures(tblCache, req, res);\n                    if (adjustedReq) {\n                      tblCache.optimisticOps.push(adjustedReq);\n                    }\n                    req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                  }\n                });\n                promise.catch(function () {\n                  delArrayItem(tblCache.optimisticOps, req);\n                  req.mutatedParts && signalSubscribersLazily(req.mutatedParts);\n                });\n              }\n              return promise;\n            },\n            query: function (req) {\n              var _a;\n              if (!isCachableContext(PSD, downTable) || !isCachableRequest(\"query\", req)) return downTable.query(req);\n              var freezeResults = ((_a = PSD.trans) === null || _a === void 0 ? void 0 : _a.db._options.cache) === 'immutable';\n              var _b = PSD,\n                requery = _b.requery,\n                signal = _b.signal;\n              var _c = findCompatibleQuery(dbName, tableName, 'query', req),\n                cacheEntry = _c[0],\n                exactMatch = _c[1],\n                tblCache = _c[2],\n                container = _c[3];\n              if (cacheEntry && exactMatch) {\n                cacheEntry.obsSet = req.obsSet;\n              } else {\n                var promise = downTable.query(req).then(function (res) {\n                  var result = res.result;\n                  if (cacheEntry) cacheEntry.res = result;\n                  if (freezeResults) {\n                    for (var i = 0, l = result.length; i < l; ++i) {\n                      Object.freeze(result[i]);\n                    }\n                    Object.freeze(result);\n                  } else {\n                    res.result = deepClone(result);\n                  }\n                  return res;\n                }).catch(function (error) {\n                  if (container && cacheEntry) delArrayItem(container, cacheEntry);\n                  return Promise.reject(error);\n                });\n                cacheEntry = {\n                  obsSet: req.obsSet,\n                  promise: promise,\n                  subscribers: new Set(),\n                  type: 'query',\n                  req: req,\n                  dirty: false\n                };\n                if (container) {\n                  container.push(cacheEntry);\n                } else {\n                  container = [cacheEntry];\n                  if (!tblCache) {\n                    tblCache = cache[\"idb://\".concat(dbName, \"/\").concat(tableName)] = {\n                      queries: {\n                        query: {},\n                        count: {}\n                      },\n                      objs: new Map(),\n                      optimisticOps: [],\n                      unsignaledParts: {}\n                    };\n                  }\n                  tblCache.queries.query[req.query.index.name || ''] = container;\n                }\n              }\n              subscribeToCacheEntry(cacheEntry, container, requery, signal);\n              return cacheEntry.promise.then(function (res) {\n                return {\n                  result: applyOptimisticOps(res.result, req, tblCache === null || tblCache === void 0 ? void 0 : tblCache.optimisticOps, downTable, cacheEntry, freezeResults)\n                };\n              });\n            }\n          });\n          return tableMW;\n        }\n      });\n      return coreMW;\n    }\n  };\n  function vipify(target, vipDb) {\n    return new Proxy(target, {\n      get: function (target, prop, receiver) {\n        if (prop === 'db') return vipDb;\n        return Reflect.get(target, prop, receiver);\n      }\n    });\n  }\n  var Dexie$1 = function () {\n    function Dexie(name, options) {\n      var _this = this;\n      this._middlewares = {};\n      this.verno = 0;\n      var deps = Dexie.dependencies;\n      this._options = options = __assign({\n        addons: Dexie.addons,\n        autoOpen: true,\n        indexedDB: deps.indexedDB,\n        IDBKeyRange: deps.IDBKeyRange,\n        cache: 'cloned'\n      }, options);\n      this._deps = {\n        indexedDB: options.indexedDB,\n        IDBKeyRange: options.IDBKeyRange\n      };\n      var addons = options.addons;\n      this._dbSchema = {};\n      this._versions = [];\n      this._storeNames = [];\n      this._allTables = {};\n      this.idbdb = null;\n      this._novip = this;\n      var state = {\n        dbOpenError: null,\n        isBeingOpened: false,\n        onReadyBeingFired: null,\n        openComplete: false,\n        dbReadyResolve: nop,\n        dbReadyPromise: null,\n        cancelOpen: nop,\n        openCanceller: null,\n        autoSchema: true,\n        PR1398_maxLoop: 3,\n        autoOpen: options.autoOpen\n      };\n      state.dbReadyPromise = new DexiePromise(function (resolve) {\n        state.dbReadyResolve = resolve;\n      });\n      state.openCanceller = new DexiePromise(function (_, reject) {\n        state.cancelOpen = reject;\n      });\n      this._state = state;\n      this.name = name;\n      this.on = Events(this, \"populate\", \"blocked\", \"versionchange\", \"close\", {\n        ready: [promisableChain, nop]\n      });\n      this.on.ready.subscribe = override(this.on.ready.subscribe, function (subscribe) {\n        return function (subscriber, bSticky) {\n          Dexie.vip(function () {\n            var state = _this._state;\n            if (state.openComplete) {\n              if (!state.dbOpenError) DexiePromise.resolve().then(subscriber);\n              if (bSticky) subscribe(subscriber);\n            } else if (state.onReadyBeingFired) {\n              state.onReadyBeingFired.push(subscriber);\n              if (bSticky) subscribe(subscriber);\n            } else {\n              subscribe(subscriber);\n              var db_1 = _this;\n              if (!bSticky) subscribe(function unsubscribe() {\n                db_1.on.ready.unsubscribe(subscriber);\n                db_1.on.ready.unsubscribe(unsubscribe);\n              });\n            }\n          });\n        };\n      });\n      this.Collection = createCollectionConstructor(this);\n      this.Table = createTableConstructor(this);\n      this.Transaction = createTransactionConstructor(this);\n      this.Version = createVersionConstructor(this);\n      this.WhereClause = createWhereClauseConstructor(this);\n      this.on(\"versionchange\", function (ev) {\n        if (ev.newVersion > 0) console.warn(\"Another connection wants to upgrade database '\".concat(_this.name, \"'. Closing db now to resume the upgrade.\"));else console.warn(\"Another connection wants to delete database '\".concat(_this.name, \"'. Closing db now to resume the delete request.\"));\n        _this.close({\n          disableAutoOpen: false\n        });\n      });\n      this.on(\"blocked\", function (ev) {\n        if (!ev.newVersion || ev.newVersion < ev.oldVersion) console.warn(\"Dexie.delete('\".concat(_this.name, \"') was blocked\"));else console.warn(\"Upgrade '\".concat(_this.name, \"' blocked by other connection holding version \").concat(ev.oldVersion / 10));\n      });\n      this._maxKey = getMaxKey(options.IDBKeyRange);\n      this._createTransaction = function (mode, storeNames, dbschema, parentTransaction) {\n        return new _this.Transaction(mode, storeNames, dbschema, _this._options.chromeTransactionDurability, parentTransaction);\n      };\n      this._fireOnBlocked = function (ev) {\n        _this.on(\"blocked\").fire(ev);\n        connections.filter(function (c) {\n          return c.name === _this.name && c !== _this && !c._state.vcFired;\n        }).map(function (c) {\n          return c.on(\"versionchange\").fire(ev);\n        });\n      };\n      this.use(cacheExistingValuesMiddleware);\n      this.use(cacheMiddleware);\n      this.use(observabilityMiddleware);\n      this.use(virtualIndexMiddleware);\n      this.use(hooksMiddleware);\n      var vipDB = new Proxy(this, {\n        get: function (_, prop, receiver) {\n          if (prop === '_vip') return true;\n          if (prop === 'table') return function (tableName) {\n            return vipify(_this.table(tableName), vipDB);\n          };\n          var rv = Reflect.get(_, prop, receiver);\n          if (rv instanceof Table) return vipify(rv, vipDB);\n          if (prop === 'tables') return rv.map(function (t) {\n            return vipify(t, vipDB);\n          });\n          if (prop === '_createTransaction') return function () {\n            var tx = rv.apply(this, arguments);\n            return vipify(tx, vipDB);\n          };\n          return rv;\n        }\n      });\n      this.vip = vipDB;\n      addons.forEach(function (addon) {\n        return addon(_this);\n      });\n    }\n    Dexie.prototype.version = function (versionNumber) {\n      if (isNaN(versionNumber) || versionNumber < 0.1) throw new exceptions.Type(\"Given version is not a positive number\");\n      versionNumber = Math.round(versionNumber * 10) / 10;\n      if (this.idbdb || this._state.isBeingOpened) throw new exceptions.Schema(\"Cannot add version when database is open\");\n      this.verno = Math.max(this.verno, versionNumber);\n      var versions = this._versions;\n      var versionInstance = versions.filter(function (v) {\n        return v._cfg.version === versionNumber;\n      })[0];\n      if (versionInstance) return versionInstance;\n      versionInstance = new this.Version(versionNumber);\n      versions.push(versionInstance);\n      versions.sort(lowerVersionFirst);\n      versionInstance.stores({});\n      this._state.autoSchema = false;\n      return versionInstance;\n    };\n    Dexie.prototype._whenReady = function (fn) {\n      var _this = this;\n      return this.idbdb && (this._state.openComplete || PSD.letThrough || this._vip) ? fn() : new DexiePromise(function (resolve, reject) {\n        if (_this._state.openComplete) {\n          return reject(new exceptions.DatabaseClosed(_this._state.dbOpenError));\n        }\n        if (!_this._state.isBeingOpened) {\n          if (!_this._state.autoOpen) {\n            reject(new exceptions.DatabaseClosed());\n            return;\n          }\n          _this.open().catch(nop);\n        }\n        _this._state.dbReadyPromise.then(resolve, reject);\n      }).then(fn);\n    };\n    Dexie.prototype.use = function (_a) {\n      var stack = _a.stack,\n        create = _a.create,\n        level = _a.level,\n        name = _a.name;\n      if (name) this.unuse({\n        stack: stack,\n        name: name\n      });\n      var middlewares = this._middlewares[stack] || (this._middlewares[stack] = []);\n      middlewares.push({\n        stack: stack,\n        create: create,\n        level: level == null ? 10 : level,\n        name: name\n      });\n      middlewares.sort(function (a, b) {\n        return a.level - b.level;\n      });\n      return this;\n    };\n    Dexie.prototype.unuse = function (_a) {\n      var stack = _a.stack,\n        name = _a.name,\n        create = _a.create;\n      if (stack && this._middlewares[stack]) {\n        this._middlewares[stack] = this._middlewares[stack].filter(function (mw) {\n          return create ? mw.create !== create : name ? mw.name !== name : false;\n        });\n      }\n      return this;\n    };\n    Dexie.prototype.open = function () {\n      var _this = this;\n      return usePSD(globalPSD, function () {\n        return dexieOpen(_this);\n      });\n    };\n    Dexie.prototype._close = function () {\n      var state = this._state;\n      var idx = connections.indexOf(this);\n      if (idx >= 0) connections.splice(idx, 1);\n      if (this.idbdb) {\n        try {\n          this.idbdb.close();\n        } catch (e) {}\n        this.idbdb = null;\n      }\n      if (!state.isBeingOpened) {\n        state.dbReadyPromise = new DexiePromise(function (resolve) {\n          state.dbReadyResolve = resolve;\n        });\n        state.openCanceller = new DexiePromise(function (_, reject) {\n          state.cancelOpen = reject;\n        });\n      }\n    };\n    Dexie.prototype.close = function (_a) {\n      var _b = _a === void 0 ? {\n          disableAutoOpen: true\n        } : _a,\n        disableAutoOpen = _b.disableAutoOpen;\n      var state = this._state;\n      if (disableAutoOpen) {\n        if (state.isBeingOpened) {\n          state.cancelOpen(new exceptions.DatabaseClosed());\n        }\n        this._close();\n        state.autoOpen = false;\n        state.dbOpenError = new exceptions.DatabaseClosed();\n      } else {\n        this._close();\n        state.autoOpen = this._options.autoOpen || state.isBeingOpened;\n        state.openComplete = false;\n        state.dbOpenError = null;\n      }\n    };\n    Dexie.prototype.delete = function (closeOptions) {\n      var _this = this;\n      if (closeOptions === void 0) {\n        closeOptions = {\n          disableAutoOpen: true\n        };\n      }\n      var hasInvalidArguments = arguments.length > 0 && typeof arguments[0] !== 'object';\n      var state = this._state;\n      return new DexiePromise(function (resolve, reject) {\n        var doDelete = function () {\n          _this.close(closeOptions);\n          var req = _this._deps.indexedDB.deleteDatabase(_this.name);\n          req.onsuccess = wrap(function () {\n            _onDatabaseDeleted(_this._deps, _this.name);\n            resolve();\n          });\n          req.onerror = eventRejectHandler(reject);\n          req.onblocked = _this._fireOnBlocked;\n        };\n        if (hasInvalidArguments) throw new exceptions.InvalidArgument(\"Invalid closeOptions argument to db.delete()\");\n        if (state.isBeingOpened) {\n          state.dbReadyPromise.then(doDelete);\n        } else {\n          doDelete();\n        }\n      });\n    };\n    Dexie.prototype.backendDB = function () {\n      return this.idbdb;\n    };\n    Dexie.prototype.isOpen = function () {\n      return this.idbdb !== null;\n    };\n    Dexie.prototype.hasBeenClosed = function () {\n      var dbOpenError = this._state.dbOpenError;\n      return dbOpenError && dbOpenError.name === 'DatabaseClosed';\n    };\n    Dexie.prototype.hasFailed = function () {\n      return this._state.dbOpenError !== null;\n    };\n    Dexie.prototype.dynamicallyOpened = function () {\n      return this._state.autoSchema;\n    };\n    Object.defineProperty(Dexie.prototype, \"tables\", {\n      get: function () {\n        var _this = this;\n        return keys(this._allTables).map(function (name) {\n          return _this._allTables[name];\n        });\n      },\n      enumerable: false,\n      configurable: true\n    });\n    Dexie.prototype.transaction = function () {\n      var args = extractTransactionArgs.apply(this, arguments);\n      return this._transaction.apply(this, args);\n    };\n    Dexie.prototype._transaction = function (mode, tables, scopeFunc) {\n      var _this = this;\n      var parentTransaction = PSD.trans;\n      if (!parentTransaction || parentTransaction.db !== this || mode.indexOf('!') !== -1) parentTransaction = null;\n      var onlyIfCompatible = mode.indexOf('?') !== -1;\n      mode = mode.replace('!', '').replace('?', '');\n      var idbMode, storeNames;\n      try {\n        storeNames = tables.map(function (table) {\n          var storeName = table instanceof _this.Table ? table.name : table;\n          if (typeof storeName !== 'string') throw new TypeError(\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\");\n          return storeName;\n        });\n        if (mode == \"r\" || mode === READONLY) idbMode = READONLY;else if (mode == \"rw\" || mode == READWRITE) idbMode = READWRITE;else throw new exceptions.InvalidArgument(\"Invalid transaction mode: \" + mode);\n        if (parentTransaction) {\n          if (parentTransaction.mode === READONLY && idbMode === READWRITE) {\n            if (onlyIfCompatible) {\n              parentTransaction = null;\n            } else throw new exceptions.SubTransaction(\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\");\n          }\n          if (parentTransaction) {\n            storeNames.forEach(function (storeName) {\n              if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {\n                if (onlyIfCompatible) {\n                  parentTransaction = null;\n                } else throw new exceptions.SubTransaction(\"Table \" + storeName + \" not included in parent transaction.\");\n              }\n            });\n          }\n          if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {\n            parentTransaction = null;\n          }\n        }\n      } catch (e) {\n        return parentTransaction ? parentTransaction._promise(null, function (_, reject) {\n          reject(e);\n        }) : rejection(e);\n      }\n      var enterTransaction = enterTransactionScope.bind(null, this, idbMode, storeNames, parentTransaction, scopeFunc);\n      return parentTransaction ? parentTransaction._promise(idbMode, enterTransaction, \"lock\") : PSD.trans ? usePSD(PSD.transless, function () {\n        return _this._whenReady(enterTransaction);\n      }) : this._whenReady(enterTransaction);\n    };\n    Dexie.prototype.table = function (tableName) {\n      if (!hasOwn(this._allTables, tableName)) {\n        throw new exceptions.InvalidTable(\"Table \".concat(tableName, \" does not exist\"));\n      }\n      return this._allTables[tableName];\n    };\n    return Dexie;\n  }();\n  var symbolObservable = typeof Symbol !== \"undefined\" && \"observable\" in Symbol ? Symbol.observable : \"@@observable\";\n  var Observable = function () {\n    function Observable(subscribe) {\n      this._subscribe = subscribe;\n    }\n    Observable.prototype.subscribe = function (x, error, complete) {\n      return this._subscribe(!x || typeof x === \"function\" ? {\n        next: x,\n        error: error,\n        complete: complete\n      } : x);\n    };\n    Observable.prototype[symbolObservable] = function () {\n      return this;\n    };\n    return Observable;\n  }();\n  var domDeps;\n  try {\n    domDeps = {\n      indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,\n      IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange\n    };\n  } catch (e) {\n    domDeps = {\n      indexedDB: null,\n      IDBKeyRange: null\n    };\n  }\n  function liveQuery(querier) {\n    var hasValue = false;\n    var currentValue;\n    var observable = new Observable(function (observer) {\n      var scopeFuncIsAsync = isAsyncFunction(querier);\n      function execute(ctx) {\n        var wasRootExec = beginMicroTickScope();\n        try {\n          if (scopeFuncIsAsync) {\n            incrementExpectedAwaits();\n          }\n          var rv = newScope(querier, ctx);\n          if (scopeFuncIsAsync) {\n            rv = rv.finally(decrementExpectedAwaits);\n          }\n          return rv;\n        } finally {\n          wasRootExec && endMicroTickScope();\n        }\n      }\n      var closed = false;\n      var abortController;\n      var accumMuts = {};\n      var currentObs = {};\n      var subscription = {\n        get closed() {\n          return closed;\n        },\n        unsubscribe: function () {\n          if (closed) return;\n          closed = true;\n          if (abortController) abortController.abort();\n          if (startedListening) globalEvents.storagemutated.unsubscribe(mutationListener);\n        }\n      };\n      observer.start && observer.start(subscription);\n      var startedListening = false;\n      var doQuery = function () {\n        return execInGlobalContext(_doQuery);\n      };\n      function shouldNotify() {\n        return obsSetsOverlap(currentObs, accumMuts);\n      }\n      var mutationListener = function (parts) {\n        extendObservabilitySet(accumMuts, parts);\n        if (shouldNotify()) {\n          doQuery();\n        }\n      };\n      var _doQuery = function () {\n        if (closed || !domDeps.indexedDB) {\n          return;\n        }\n        accumMuts = {};\n        var subscr = {};\n        if (abortController) abortController.abort();\n        abortController = new AbortController();\n        var ctx = {\n          subscr: subscr,\n          signal: abortController.signal,\n          requery: doQuery,\n          querier: querier,\n          trans: null\n        };\n        var ret = execute(ctx);\n        Promise.resolve(ret).then(function (result) {\n          hasValue = true;\n          currentValue = result;\n          if (closed || ctx.signal.aborted) {\n            return;\n          }\n          accumMuts = {};\n          currentObs = subscr;\n          if (!objectIsEmpty(currentObs) && !startedListening) {\n            globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, mutationListener);\n            startedListening = true;\n          }\n          execInGlobalContext(function () {\n            return !closed && observer.next && observer.next(result);\n          });\n        }, function (err) {\n          hasValue = false;\n          if (!['DatabaseClosedError', 'AbortError'].includes(err === null || err === void 0 ? void 0 : err.name)) {\n            if (!closed) execInGlobalContext(function () {\n              if (closed) return;\n              observer.error && observer.error(err);\n            });\n          }\n        });\n      };\n      setTimeout(doQuery, 0);\n      return subscription;\n    });\n    observable.hasValue = function () {\n      return hasValue;\n    };\n    observable.getValue = function () {\n      return currentValue;\n    };\n    return observable;\n  }\n  var Dexie = Dexie$1;\n  props(Dexie, __assign(__assign({}, fullNameExceptions), {\n    delete: function (databaseName) {\n      var db = new Dexie(databaseName, {\n        addons: []\n      });\n      return db.delete();\n    },\n    exists: function (name) {\n      return new Dexie(name, {\n        addons: []\n      }).open().then(function (db) {\n        db.close();\n        return true;\n      }).catch('NoSuchDatabaseError', function () {\n        return false;\n      });\n    },\n    getDatabaseNames: function (cb) {\n      try {\n        return getDatabaseNames(Dexie.dependencies).then(cb);\n      } catch (_a) {\n        return rejection(new exceptions.MissingAPI());\n      }\n    },\n    defineClass: function () {\n      function Class(content) {\n        extend(this, content);\n      }\n      return Class;\n    },\n    ignoreTransaction: function (scopeFunc) {\n      return PSD.trans ? usePSD(PSD.transless, scopeFunc) : scopeFunc();\n    },\n    vip: vip,\n    async: function (generatorFn) {\n      return function () {\n        try {\n          var rv = awaitIterator(generatorFn.apply(this, arguments));\n          if (!rv || typeof rv.then !== 'function') return DexiePromise.resolve(rv);\n          return rv;\n        } catch (e) {\n          return rejection(e);\n        }\n      };\n    },\n    spawn: function (generatorFn, args, thiz) {\n      try {\n        var rv = awaitIterator(generatorFn.apply(thiz, args || []));\n        if (!rv || typeof rv.then !== 'function') return DexiePromise.resolve(rv);\n        return rv;\n      } catch (e) {\n        return rejection(e);\n      }\n    },\n    currentTransaction: {\n      get: function () {\n        return PSD.trans || null;\n      }\n    },\n    waitFor: function (promiseOrFunction, optionalTimeout) {\n      var promise = DexiePromise.resolve(typeof promiseOrFunction === 'function' ? Dexie.ignoreTransaction(promiseOrFunction) : promiseOrFunction).timeout(optionalTimeout || 60000);\n      return PSD.trans ? PSD.trans.waitFor(promise) : promise;\n    },\n    Promise: DexiePromise,\n    debug: {\n      get: function () {\n        return debug;\n      },\n      set: function (value) {\n        setDebug(value);\n      }\n    },\n    derive: derive,\n    extend: extend,\n    props: props,\n    override: override,\n    Events: Events,\n    on: globalEvents,\n    liveQuery: liveQuery,\n    extendObservabilitySet: extendObservabilitySet,\n    getByKeyPath: getByKeyPath,\n    setByKeyPath: setByKeyPath,\n    delByKeyPath: delByKeyPath,\n    shallowClone: shallowClone,\n    deepClone: deepClone,\n    getObjectDiff: getObjectDiff,\n    cmp: cmp,\n    asap: asap$1,\n    minKey: minKey,\n    addons: [],\n    connections: connections,\n    errnames: errnames,\n    dependencies: domDeps,\n    cache: cache,\n    semVer: DEXIE_VERSION,\n    version: DEXIE_VERSION.split('.').map(function (n) {\n      return parseInt(n);\n    }).reduce(function (p, c, i) {\n      return p + c / Math.pow(10, i * 2);\n    })\n  }));\n  Dexie.maxKey = getMaxKey(Dexie.dependencies.IDBKeyRange);\n  if (typeof dispatchEvent !== 'undefined' && typeof addEventListener !== 'undefined') {\n    globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (updatedParts) {\n      if (!propagatingLocally) {\n        var event_1;\n        event_1 = new CustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME, {\n          detail: updatedParts\n        });\n        propagatingLocally = true;\n        dispatchEvent(event_1);\n        propagatingLocally = false;\n      }\n    });\n    addEventListener(STORAGE_MUTATED_DOM_EVENT_NAME, function (_a) {\n      var detail = _a.detail;\n      if (!propagatingLocally) {\n        propagateLocally(detail);\n      }\n    });\n  }\n  function propagateLocally(updateParts) {\n    var wasMe = propagatingLocally;\n    try {\n      propagatingLocally = true;\n      globalEvents.storagemutated.fire(updateParts);\n      signalSubscribersNow(updateParts, true);\n    } finally {\n      propagatingLocally = wasMe;\n    }\n  }\n  var propagatingLocally = false;\n  var bc;\n  var createBC = function () {};\n  if (typeof BroadcastChannel !== 'undefined') {\n    createBC = function () {\n      bc = new BroadcastChannel(STORAGE_MUTATED_DOM_EVENT_NAME);\n      bc.onmessage = function (ev) {\n        return ev.data && propagateLocally(ev.data);\n      };\n    };\n    createBC();\n    if (typeof bc.unref === 'function') {\n      bc.unref();\n    }\n    globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (changedParts) {\n      if (!propagatingLocally) {\n        bc.postMessage(changedParts);\n      }\n    });\n  }\n  if (typeof addEventListener !== 'undefined') {\n    addEventListener('pagehide', function (event) {\n      if (!Dexie$1.disableBfCache && event.persisted) {\n        if (debug) console.debug('Dexie: handling persisted pagehide');\n        bc === null || bc === void 0 ? void 0 : bc.close();\n        for (var _i = 0, connections_1 = connections; _i < connections_1.length; _i++) {\n          var db = connections_1[_i];\n          db.close({\n            disableAutoOpen: false\n          });\n        }\n      }\n    });\n    addEventListener('pageshow', function (event) {\n      if (!Dexie$1.disableBfCache && event.persisted) {\n        if (debug) console.debug('Dexie: handling persisted pageshow');\n        createBC();\n        propagateLocally({\n          all: new RangeSet(-Infinity, [[]])\n        });\n      }\n    });\n  }\n  function add(value) {\n    return new PropModification({\n      add: value\n    });\n  }\n  function remove(value) {\n    return new PropModification({\n      remove: value\n    });\n  }\n  function replacePrefix(a, b) {\n    return new PropModification({\n      replacePrefix: [a, b]\n    });\n  }\n  DexiePromise.rejectionMapper = mapError;\n  setDebug(debug);\n  var namedExports = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    Dexie: Dexie$1,\n    liveQuery: liveQuery,\n    Entity: Entity,\n    cmp: cmp,\n    PropModification: PropModification,\n    replacePrefix: replacePrefix,\n    add: add,\n    remove: remove,\n    'default': Dexie$1,\n    RangeSet: RangeSet,\n    mergeRanges: mergeRanges,\n    rangesOverlap: rangesOverlap\n  });\n  __assign(Dexie$1, namedExports, {\n    default: Dexie$1\n  });\n  return Dexie$1;\n});\n","// Making the module version consumable via require - to prohibit\n// multiple occurrancies of the same module in the same app\n// (dual package hazard, https://nodejs.org/api/packages.html#dual-package-hazard)\nimport _Dexie from \"./dist/dexie.js\";\nconst DexieSymbol = Symbol.for(\"Dexie\");\nconst Dexie = globalThis[DexieSymbol] || (globalThis[DexieSymbol] = _Dexie);\nif (_Dexie.semVer !== Dexie.semVer) {\n  throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);\n}\nconst {\n  liveQuery,\n  mergeRanges,\n  rangesOverlap,\n  RangeSet,\n  cmp,\n  Entity,\n  PropModification,\n  replacePrefix,\n  add,\n  remove\n} = Dexie;\nexport { liveQuery, mergeRanges, rangesOverlap, RangeSet, cmp, Dexie, Entity, PropModification, replacePrefix, add, remove };\nexport default Dexie;","import { Injectable } from '@angular/core';\nimport Dexie from 'dexie';\nimport { IVocable } from '../models/vocable.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class VocabularyDB extends Dexie {\n  private static readonly DATABASE_NAME = 'VocabularyDB';\n\n  public vocabulary: Dexie.Table<IVocable, number>;\n\n  public constructor() {\n    super(VocabularyDB.DATABASE_NAME);\n\n    // create database schema version 1\n    this.version(1).stores({\n      vocabulary: '++id,lastPracticed,practiceLevel,score',\n    });\n\n    // get access to vocabulary table\n    this.vocabulary = this.table('vocabulary');\n  }\n}\n"],"mappings":"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","names":["global","d","b","__assign","DexieError","type","resolve","reject","props","_a","Entity","cmp","Table","task","trans","keys","i","add","args","PropModification","Collection","count","direction","WhereClause","addRange","ranges","Transaction","p","db","tables","keyPath","compound","result","req","openCursor","query","ev","hasGetAll","oldVersion","tableChange","Version","indexedDB","RangeSet","mergeRanges","target","rangesOverlap","index","primaryKey","dxTrans","cache","key","Dexie","state","Observable","liveQuery","remove","replacePrefix","_Dexie"],"x_google_ignoreList":[0,1]}